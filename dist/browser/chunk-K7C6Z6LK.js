import{$ as ev,$a as bi,$b as wv,A as Mt,Aa as On,Ab as vv,Ac as Kt,B as Zo,Ba as xt,Bb as st,Bc as Av,C as ea,Ca as kt,Cb as _s,Cc as Dv,D as fs,Da as rv,Db as Ie,Dc as Rv,E as Jc,Ea as Ph,Ec as te,F as dn,Fa as iv,Fc as Qt,G as yi,Ga as Lt,Gc as $t,H as hn,Hc as pn,I as Eh,Ia as Oh,Ic as vs,J as fn,Ja as sv,Jb as Se,Jc as Pv,Ka as xh,Kb as Ae,L as ps,La as ov,Lb as fe,M as Or,Ma as na,Mb as Vt,Na as _i,Nb as Ut,O as Ih,Oa as gs,Ob as ru,P as J_,Pa as av,Pb as xn,Qa as cv,R as Ch,Ra as uv,Rb as Qe,S as Th,Sa as lv,Sb as z,T as Sh,Ta as dv,Tb as gt,U as Ct,Ua as hv,Ub as mt,V as Z_,Va as fv,W as Tt,Wa as vi,Wb as yt,X as ae,Xb as bv,Y as tr,Yb as ut,Z as N,Za as pv,Zb as lt,_ as ce,_a as q,_b as Lh,a as x,aa as Q,ab as ra,ac as Ev,b as be,ba as Ah,bc as iu,ca as Z,cb as gv,cc as su,d as Pr,da as O,db as on,e as v,ea as Gt,eb as Y,f as K_,fa as Wt,fb as mv,g as mh,gb as ms,h as sn,ha as tv,hb as kh,i as yh,ia as Pn,ic as we,j as _h,ja as St,jb as yv,k as ze,ka as nv,kb as tu,kc as Vh,l as Ye,la as rt,lb as de,lc as Iv,m as Q_,ma as ye,mb as ue,n as Y_,na as _e,nb as ge,o as Zn,oa as Ft,ob as nu,p as vh,pb as X,q as bh,qa as j,r as wh,ra as Dh,rb as Te,s as Ke,sa as it,sb as Nh,t as G,ta,tb as ys,u as Jo,ub as _v,v as er,va as Zc,vb as ia,vc as Cv,w as X_,wa as eu,wb as Mh,wc as sa,xa as ke,xb as Fh,xc as Tv,y as le,ya as Be,yb as W,yc as Sv,z as Xc,za as Rh,zb as L,zc as Uh}from"./chunk-N7E3WSIN.js";var Oe=new Q("");var kv=null;function an(){return kv}function $h(n){kv??=n}var oa=class{},aa=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:()=>O(Nv),providedIn:"platform"})}return n})(),Bh=new Q(""),Nv=(()=>{class n extends aa{_location;_history;_doc=O(Oe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return an().getBaseHref(this._doc)}onPopState(e){let r=an().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=an().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function ou(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function Ov(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function gn(n){return n&&n[0]!=="?"?`?${n}`:n}var mn=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:()=>O(cu),providedIn:"root"})}return n})(),au=new Q(""),cu=(()=>{class n extends mn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(Oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ou(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+gn(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,s){let o=this.prepareExternalUrl(i+gn(s));this._platformLocation.pushState(e,r,o)}replaceState(e,r,i,s){let o=this.prepareExternalUrl(i+gn(s));this._platformLocation.replaceState(e,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(Z(aa),Z(au,8))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xr=(()=>{class n{_subject=new ze;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=qS(Ov(xv(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+gn(r))}normalize(e){return n.stripTrailingSlash(HS(this._basePath,xv(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+gn(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+gn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=gn;static joinWithSlash=ou;static stripTrailingSlash=Ov;static \u0275fac=function(r){return new(r||n)(Z(mn))};static \u0275prov=N({token:n,factory:()=>zS(),providedIn:"root"})}return n})();function zS(){return new xr(Z(mn))}function HS(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function xv(n){return n.replace(/\/index.html$/,"")}function qS(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var qh=(()=>{class n extends mn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=ou(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,s){let o=this.prepareExternalUrl(i+gn(s))||this._platformLocation.pathname;this._platformLocation.pushState(e,r,o)}replaceState(e,r,i,s){let o=this.prepareExternalUrl(i+gn(s))||this._platformLocation.pathname;this._platformLocation.replaceState(e,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(Z(aa),Z(au,8))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();var jh=/\s+/,Mv=[],wi=(()=>{class n{_ngEl;_renderer;initialClasses=Mv;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=e!=null?e.trim().split(jh):Mv}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(jh):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(jh).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(Y(xt),Y(on))};static \u0275dir=ge({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var uu=class{$implicit;ngForOf;index;count;constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},du=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new uu(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,o),Fv(c,i)}});for(let i=0,s=r.length;i<s;i++){let c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);Fv(s,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(Y(ms),Y(ra),Y(Av))};static \u0275dir=ge({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function Fv(n,t){n.context.$implicit=t.item}var Ei=(()=>{class n{_viewContainer;_context=new lu;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Lv(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Lv(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(Y(ms),Y(ra))};static \u0275dir=ge({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),lu=class{$implicit=null;ngIf=null};function Lv(n,t){if(n&&!n.createEmbeddedView)throw new ae(2020,!1)}var Ii=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){let[i,s]=e.split("."),o=i.indexOf("-")===-1?void 0:bi.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(Y(xt),Y(Dv),Y(on))};static \u0275dir=ge({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})(),Ci=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(e,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(Y(ms))};static \u0275dir=ge({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[rt]})}return n})();function GS(n,t){return new ae(2100,!1)}var zh=class{createSubscription(t,e){return $t(()=>t.subscribe({next:e,error:r=>{throw r}}))}dispose(t){$t(()=>t.unsubscribe())}},Hh=class{createSubscription(t,e){return t.then(r=>e?.(r),r=>{throw r}),{unsubscribe:()=>{e=null}}}dispose(t){t.unsubscribe()}},WS=new Hh,KS=new zh,QS=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(e){this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(ys(e))return WS;if(_v(e))return KS;throw GS(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(Y(Kt,16))};static \u0275pipe=nu({name:"async",type:n,pure:!1})}return n})();var Ue=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({})}return n})();function ca(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let r=e.indexOf("="),[i,s]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}var hu="browser",Vv="server";function ua(n){return n===hu}function bs(n){return n===Vv}var Ti=class{};var Wh=(()=>{class n{static \u0275prov=N({token:n,providedIn:"root",factory:()=>new Gh(O(Oe),window)})}return n})(),Gh=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let e=XS(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function XS(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}i=r.nextNode()}}return null}var mu=new Q(""),Xh=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i,s){return this._findPluginFor(r).addEventListener(e,r,i,s)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(s=>s.supports(e)),!r)throw new ae(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(Z(mu),Z(Be))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),la=class{_doc;constructor(t){this._doc=t}manager},pu="ng-app-id";function Uv(n){for(let t of n)t.remove()}function $v(n,t){let e=t.createElement("style");return e.textContent=n,e}function JS(n,t,e,r){let i=n.head?.querySelectorAll(`style[${pu}="${t}"],link[${pu}="${t}"]`);if(i)for(let s of i)s.removeAttribute(pu),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&e.set(s.textContent,{usage:0,elements:[s]})}function Qh(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var Jh=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,i,s={}){this.doc=e,this.appId=r,this.nonce=i,this.isServer=bs(s),JS(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,$v);r?.forEach(i=>this.addUsage(i,this.external,Qh))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let s=r.get(e);s?s.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(Uv(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Uv(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,$v(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,Qh(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(pu,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Z(Oe),Z(Ph),Z(Oh,8),Z(Lt))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),Kh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Zh=/%COMP%/g;var jv="%COMP%",ZS=`_nghost-${jv}`,eA=`_ngcontent-${jv}`,tA=!0,nA=new Q("",{providedIn:"root",factory:()=>tA});function rA(n){return eA.replace(Zh,n)}function iA(n){return ZS.replace(Zh,n)}function zv(n,t){return t.map(e=>e.replace(Zh,n))}var ef=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,s,o,c,u,l=null,f=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=u,this.nonce=l,this.tracingService=f,this.platformIsServer=bs(c),this.defaultRenderer=new da(e,o,u,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===na.ShadowDom&&(r=be(x({},r),{encapsulation:na.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof gu?i.applyToHost(e):i instanceof ha&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case na.Emulated:s=new gu(u,l,r,this.appId,f,o,c,p,m);break;case na.ShadowDom:return new Yh(u,l,e,r,o,c,this.nonce,p,m);default:s=new ha(u,l,r,f,o,c,p,m);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(Z(Xh),Z(Jh),Z(Ph),Z(nA),Z(Oe),Z(Lt),Z(Be),Z(Oh),Z(sv,8))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),da=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,i,s){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Kh[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Bv(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(Bv(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new ae(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;let s=Kh[i];s?t.setAttributeNS(s,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let i=Kh[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(bi.DashCase|bi.Important)?t.style.setProperty(e,r,i&bi.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&bi.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,i){if(typeof t=="string"&&(t=an().getGlobalEventTarget(this.doc,t),!t))throw new ae(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(t,e,s)),this.eventManager.addEventListener(t,e,s,i)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function Bv(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Yh=class extends da{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,r,i,s,o,c,u,l){super(t,s,o,u,l),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=zv(i.id,f);for(let m of f){let y=document.createElement("style");c&&y.setAttribute("nonce",c),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=Qh(m,s);c&&y.setAttribute("nonce",c),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ha=class extends da{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,i,s,o,c,u,l){super(t,s,o,c,u),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=l?zv(l,f):f,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},gu=class extends ha{contentAttr;hostAttr;constructor(t,e,r,i,s,o,c,u,l){let f=i+"-"+r.id;super(t,e,r,s,o,c,u,l,f),this.contentAttr=rA(f),this.hostAttr=iA(f)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}};var yu=class n extends oa{supportsDOMEvents=!0;static makeCurrent(){$h(new n)}onAndCancel(t,e,r,i){return t.addEventListener(e,r,i),()=>{t.removeEventListener(e,r,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=oA();return e==null?null:aA(e)}resetBaseElement(){fa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ca(document.cookie,t)}},fa=null;function oA(){return fa=fa||document.head.querySelector("base"),fa?fa.getAttribute("href"):null}function aA(n){return new URL(n,document.baseURI).pathname}var cA=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),qv=(()=>{class n extends la{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,s){return e.addEventListener(r,i,s),()=>this.removeEventListener(e,r,i,s)}removeEventListener(e,r,i,s){return e.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(Z(Oe))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),Hv=["alt","control","meta","shift"],uA={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lA={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Gv=(()=>{class n extends la{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,i,s){let o=n.parseEventName(r),c=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>an().onAndCancel(e,o.domEventName,c,s))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),Hv.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(e,r){let i=uA[e.key]||e.key,s="";return r.indexOf("code.")>-1&&(i=e.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Hv.forEach(o=>{if(o!==i){let c=lA[o];c(e)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(e,r,i){return s=>{n.matchEventFullKeyCode(s,e)&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||n)(Z(Oe))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();function dA(n,t){return Rv(x({rootComponent:n},hA(t)))}function hA(n){return{appProviders:[...yA,...n?.providers??[]],platformProviders:mA}}function fA(){yu.makeCurrent()}function pA(){return new Rh}function gA(){return rv(document),document}var mA=[{provide:Lt,useValue:hu},{provide:iv,useValue:fA,multi:!0},{provide:Oe,useFactory:gA}];var yA=[{provide:tv,useValue:"root"},{provide:Rh,useFactory:pA},{provide:mu,useClass:qv,multi:!0,deps:[Oe]},{provide:mu,useClass:Gv,multi:!0,deps:[Oe]},ef,Jh,Xh,{provide:gv,useExisting:ef},{provide:Ti,useClass:cA},[]];var Es=class{},Is=class{},kn=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let i=e.slice(0,r),s=e.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.addHeaderEntry(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,e);let i=(t.op==="a"?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":let s=t.value;if(!s)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(c=>s.indexOf(c)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}addHeaderEntry(t,e){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(e):this.headers.set(r,[e])}setHeaderEntries(t,e){let r=(Array.isArray(e)?e:[e]).map(s=>s.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var bu=class{encodeKey(t){return Wv(t)}encodeValue(t){return Wv(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function _A(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,c]=s==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],u=e.get(o)||[];u.push(c),e.set(o,u)}),e}var vA=/%(\d[a-f0-9])/gi,bA={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Wv(n){return encodeURIComponent(n).replace(vA,(t,e)=>bA[e]??t)}function _u(n){return`${n}`}var rr=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new bu,t.fromString){if(t.fromObject)throw new ae(2805,!1);this.map=_A(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let r=t.fromObject[e],i=Array.isArray(r)?r.map(_u):[_u(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(s=>{e.push({param:r,value:s,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(_u(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(_u(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var wu=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function wA(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Kv(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Qv(n){return typeof Blob<"u"&&n instanceof Blob}function Yv(n){return typeof FormData<"u"&&n instanceof FormData}function EA(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var pa="Content-Type",Eu="Accept",of="X-Request-URL",Jv="text/plain",Zv="application/json",eb=`${Zv}, ${Jv}, */*`,ws=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,r,i){this.url=e,this.method=t.toUpperCase();let s;if(wA(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new kn,this.context??=new wu,!this.params)this.params=new rr,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let c=e.indexOf("?"),u=c===-1?"?":c<e.length-1?"&":"";this.urlWithParams=e+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Kv(this.body)||Qv(this.body)||Yv(this.body)||EA(this.body)?this.body:this.body instanceof rr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Yv(this.body)?null:Qv(this.body)?this.body.type||null:Kv(this.body)?null:typeof this.body=="string"?Jv:this.body instanceof rr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Zv:null}clone(t={}){let e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=t.transferCache??this.transferCache,o=t.body!==void 0?t.body:this.body,c=t.withCredentials??this.withCredentials,u=t.reportProgress??this.reportProgress,l=t.headers||this.headers,f=t.params||this.params,p=t.context??this.context;return t.setHeaders!==void 0&&(l=Object.keys(t.setHeaders).reduce((m,y)=>m.set(y,t.setHeaders[y]),l)),t.setParams&&(f=Object.keys(t.setParams).reduce((m,y)=>m.set(y,t.setParams[y]),f)),new n(e,r,o,{params:f,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:c,transferCache:s})}},ir=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ir||{}),Cs=class{headers;status;statusText;url;ok;type;constructor(t,e=200,r="OK"){this.headers=t.headers||new kn,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},ga=class n extends Cs{constructor(t={}){super(t)}type=ir.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Ts=class n extends Cs{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=ir.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},nr=class extends Cs{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},tb=200,IA=204;function tf(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var nb=(()=>{class n{handler;constructor(e){this.handler=e}request(e,r,i={}){let s;if(e instanceof ws)s=e;else{let u;i.headers instanceof kn?u=i.headers:u=new kn(i.headers);let l;i.params&&(i.params instanceof rr?l=i.params:l=new rr({fromObject:i.params})),s=new ws(e,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=G(s).pipe(hn(u=>this.handler.handle(u)));if(e instanceof ws||i.observe==="events")return o;let c=o.pipe(dn(u=>u instanceof Ts));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(le(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new ae(2806,!1);return u.body}));case"blob":return c.pipe(le(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new ae(2807,!1);return u.body}));case"text":return c.pipe(le(u=>{if(u.body!==null&&typeof u.body!="string")throw new ae(2808,!1);return u.body}));case"json":default:return c.pipe(le(u=>u.body))}case"response":return c;default:throw new ae(2809,!1)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new rr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,tf(i,r))}post(e,r,i={}){return this.request("POST",e,tf(i,r))}put(e,r,i={}){return this.request("PUT",e,tf(i,r))}static \u0275fac=function(r){return new(r||n)(Z(Es))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),CA=/^\)\]\}',?\n/;function Xv(n){if(n.url)return n.url;let t=of.toLocaleLowerCase();return n.headers.get(t)}var rb=new Q(""),vu=(()=>{class n{fetchImpl=O(nf,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e));ngZone=O(Be);destroyRef=O(ta);destroyed=!1;constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0})}handle(e){return new sn(r=>{let i=new AbortController;return this.doRequest(e,i.signal,r).then(rf,s=>r.error(new nr({error:s}))),()=>i.abort()})}doRequest(e,r,i){return v(this,null,function*(){let s=this.createRequestInit(e),o;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,x({signal:r},s)));TA(y),i.next({type:ir.Sent}),o=yield y}catch(y){i.error(new nr({error:y,status:y.status??0,statusText:y.statusText,url:e.urlWithParams,headers:y.headers}));return}let c=new kn(o.headers),u=o.statusText,l=Xv(o)??e.urlWithParams,f=o.status,p=null;if(e.reportProgress&&i.next(new ga({headers:c,status:f,statusText:u,url:l})),o.body){let y=o.headers.get("content-length"),A=[],P=o.body.getReader(),D=0,V,U,$=typeof Zone<"u"&&Zone.current,ne=!1;if(yield this.ngZone.runOutsideAngular(()=>v(this,null,function*(){for(;;){if(this.destroyed){yield P.cancel(),ne=!0;break}let{done:se,value:I}=yield P.read();if(se)break;if(A.push(I),D+=I.length,e.reportProgress){U=e.responseType==="text"?(U??"")+(V??=new TextDecoder).decode(I,{stream:!0}):void 0;let _=()=>i.next({type:ir.DownloadProgress,total:y?+y:void 0,loaded:D,partialText:U});$?$.run(_):_()}}})),ne){i.complete();return}let $e=this.concatChunks(A,D);try{let se=o.headers.get(pa)??"";p=this.parseBody(e,$e,se)}catch(se){i.error(new nr({error:se,headers:new kn(o.headers),status:o.status,statusText:o.statusText,url:Xv(o)??e.urlWithParams}));return}}f===0&&(f=p?tb:0),f>=200&&f<300?(i.next(new Ts({body:p,headers:c,status:f,statusText:u,url:l})),i.complete()):i.error(new nr({error:p,headers:c,status:f,statusText:u,url:l}))})}parseBody(e,r,i){switch(e.responseType){case"json":let s=new TextDecoder().decode(r).replace(CA,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(e){let r={},i=e.withCredentials?"include":void 0;if(e.headers.forEach((s,o)=>r[s]=o.join(",")),e.headers.has(Eu)||(r[Eu]=eb),!e.headers.has(pa)){let s=e.detectContentTypeHeader();s!==null&&(r[pa]=s)}return{body:e.serializeBody(),method:e.method,headers:r,credentials:i}}concatChunks(e,r){let i=new Uint8Array(r),s=0;for(let o of e)i.set(o,s),s+=o.length;return i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),nf=class{};function rf(){}function TA(n){n.then(rf,rf)}function SA(n,t){return t(n)}function AA(n,t,e){return(r,i)=>St(e,()=>t(r,s=>n(s,i)))}var DA=new Q(""),ib=new Q(""),sb=new Q(""),ob=new Q("",{providedIn:"root",factory:()=>!0});var Iu=(()=>{class n extends Es{backend;injector;chain=null;pendingTasks=O(Zc);contributeToStability=O(ob);constructor(e,r){super(),this.backend=e,this.injector=r}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(ib),...this.injector.get(sb,[])]));this.chain=r.reduceRight((i,s)=>AA(i,s,this.injector),SA)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(ps(()=>this.pendingTasks.remove(r)))}else return this.chain(e,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(Z(Is),Z(Pn))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();var RA=/^\)\]\}',?\n/,PA=RegExp(`^${of}:`,"m");function OA(n){return"responseURL"in n&&n.responseURL?n.responseURL:PA.test(n.getAllResponseHeaders())?n.getResponseHeader(of):null}var sf=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new ae(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ke(r.\u0275loadImpl()):G(null)).pipe(Ct(()=>new sn(s=>{let o=r.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((P,D)=>o.setRequestHeader(P,D.join(","))),e.headers.has(Eu)||o.setRequestHeader(Eu,eb),!e.headers.has(pa)){let P=e.detectContentTypeHeader();P!==null&&o.setRequestHeader(pa,P)}if(e.responseType){let P=e.responseType.toLowerCase();o.responseType=P!=="json"?P:"text"}let c=e.serializeBody(),u=null,l=()=>{if(u!==null)return u;let P=o.statusText||"OK",D=new kn(o.getAllResponseHeaders()),V=OA(o)||e.url;return u=new ga({headers:D,status:o.status,statusText:P,url:V}),u},f=()=>{let{headers:P,status:D,statusText:V,url:U}=l(),$=null;D!==IA&&($=typeof o.response>"u"?o.responseText:o.response),D===0&&(D=$?tb:0);let ne=D>=200&&D<300;if(e.responseType==="json"&&typeof $=="string"){let $e=$;$=$.replace(RA,"");try{$=$!==""?JSON.parse($):null}catch(se){$=$e,ne&&(ne=!1,$={error:se,text:$})}}ne?(s.next(new Ts({body:$,headers:P,status:D,statusText:V,url:U||void 0})),s.complete()):s.error(new nr({error:$,headers:P,status:D,statusText:V,url:U||void 0}))},p=P=>{let{url:D}=l(),V=new nr({error:P,status:o.status||0,statusText:o.statusText||"Unknown Error",url:D||void 0});s.error(V)},m=!1,y=P=>{m||(s.next(l()),m=!0);let D={type:ir.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(D.total=P.total),e.responseType==="text"&&o.responseText&&(D.partialText=o.responseText),s.next(D)},A=P=>{let D={type:ir.UploadProgress,loaded:P.loaded};P.lengthComputable&&(D.total=P.total),s.next(D)};return o.addEventListener("load",f),o.addEventListener("error",p),o.addEventListener("timeout",p),o.addEventListener("abort",p),e.reportProgress&&(o.addEventListener("progress",y),c!==null&&o.upload&&o.upload.addEventListener("progress",A)),o.send(c),s.next({type:ir.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",f),o.removeEventListener("timeout",p),e.reportProgress&&(o.removeEventListener("progress",y),c!==null&&o.upload&&o.upload.removeEventListener("progress",A)),o.readyState!==o.DONE&&o.abort()}})))}static \u0275fac=function(r){return new(r||n)(Z(Ti))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),ab=new Q(""),xA="XSRF-TOKEN",kA=new Q("",{providedIn:"root",factory:()=>xA}),NA="X-XSRF-TOKEN",MA=new Q("",{providedIn:"root",factory:()=>NA}),ma=class{},FA=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,r){this.doc=e,this.cookieName=r}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ca(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(r){return new(r||n)(Z(Oe),Z(kA))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();function LA(n,t){let e=n.url.toLowerCase();if(!O(ab)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let r=O(ma).getToken(),i=O(MA);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),t(n)}var af=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(af||{});function VA(n,t){return{\u0275kind:n,\u0275providers:t}}function UA(...n){let t=[nb,sf,Iu,{provide:Es,useExisting:Iu},{provide:Is,useFactory:()=>O(rb,{optional:!0})??O(sf)},{provide:ib,useValue:LA,multi:!0},{provide:ab,useValue:!0},{provide:ma,useClass:FA}];for(let e of n)t.push(...e.\u0275providers);return Wt(t)}function $A(){return VA(af.Fetch,[vu,{provide:rb,useExisting:vu},{provide:Is,useExisting:vu}])}var cb=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(Z(Oe))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var jA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=Z(zA),i},providedIn:"root"})}return n})(),zA=(()=>{class n extends jA{_doc;constructor(e){super(),this._doc=e}sanitize(e,r){if(r==null)return null;switch(e){case vi.NONE:return r;case vi.HTML:return gs(r,"HTML")?_i(r):fv(this._doc,String(r)).toString();case vi.STYLE:return gs(r,"Style")?_i(r):r;case vi.SCRIPT:if(gs(r,"Script"))return _i(r);throw new ae(5200,!1);case vi.URL:return gs(r,"URL")?_i(r):hv(String(r));case vi.RESOURCE_URL:if(gs(r,"ResourceURL"))return _i(r);throw new ae(5201,!1);default:throw new ae(5202,!1)}}bypassSecurityTrustHtml(e){return av(e)}bypassSecurityTrustStyle(e){return cv(e)}bypassSecurityTrustScript(e){return uv(e)}bypassSecurityTrustUrl(e){return lv(e)}bypassSecurityTrustResourceUrl(e){return dv(e)}static \u0275fac=function(r){return new(r||n)(Z(Oe))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _b=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||n)(Y(on),Y(xt))};static \u0275dir=ge({type:n})}return n})(),qA=(()=>{class n extends _b{static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275dir=ge({type:n,features:[X]})}return n})(),Ai=new Q("");var GA={provide:Ai,useExisting:tr(()=>vb),multi:!0};function WA(){let n=an()?an().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var KA=new Q(""),vb=(()=>{class n extends _b{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!WA())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||n)(Y(on),Y(xt),Y(KA,8))};static \u0275dir=ge({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Qe("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[we([GA]),X]})}return n})();function pf(n){return n==null||gf(n)===0}function gf(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var mf=new Q(""),yf=new Q(""),QA=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ub=class{static min(t){return YA(t)}static max(t){return XA(t)}static required(t){return JA(t)}static requiredTrue(t){return ZA(t)}static email(t){return eD(t)}static minLength(t){return tD(t)}static maxLength(t){return nD(t)}static pattern(t){return rD(t)}static nullValidator(t){return bb()}static compose(t){return Sb(t)}static composeAsync(t){return Db(t)}};function YA(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function XA(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function JA(n){return pf(n.value)?{required:!0}:null}function ZA(n){return n.value===!0?null:{required:!0}}function eD(n){return pf(n.value)||QA.test(n.value)?null:{email:!0}}function tD(n){return t=>{let e=t.value?.length??gf(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function nD(n){return t=>{let e=t.value?.length??gf(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function rD(n){if(!n)return bb;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(pf(r.value))return null;let i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}function bb(n){return null}function wb(n){return n!=null}function Eb(n){return ys(n)?Ke(n):n}function Ib(n){let t={};return n.forEach(e=>{t=e!=null?x(x({},t),e):t}),Object.keys(t).length===0?null:t}function Cb(n,t){return t.map(e=>e(n))}function iD(n){return!n.validate}function Tb(n){return n.map(t=>iD(t)?t:e=>t.validate(e))}function Sb(n){if(!n)return null;let t=n.filter(wb);return t.length==0?null:function(e){return Ib(Cb(e,t))}}function Ab(n){return n!=null?Sb(Tb(n)):null}function Db(n){if(!n)return null;let t=n.filter(wb);return t.length==0?null:function(e){let r=Cb(e,t).map(Eb);return Jc(r).pipe(le(Ib))}}function Rb(n){return n!=null?Db(Tb(n)):null}function lb(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Pb(n){return n._rawValidators}function Ob(n){return n._rawAsyncValidators}function cf(n){return n?Array.isArray(n)?n:[n]:[]}function Tu(n,t){return Array.isArray(n)?n.includes(t):n===t}function db(n,t){let e=cf(t);return cf(n).forEach(i=>{Tu(e,i)||e.push(i)}),e}function hb(n,t){return cf(t).filter(e=>!Tu(n,e))}var Su=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ab(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Rb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Si=class extends Su{name;get formDirective(){return null}get path(){return null}},sr=class extends Su{_parent=null;name=null;valueAccessor=null},Au=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},sD={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ZU=be(x({},sD),{"[class.ng-submitted]":"isSubmitted"}),e$=(()=>{class n extends Au{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(Y(sr,2))};static \u0275dir=ge({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&st("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[X]})}return n})(),t$=(()=>{class n extends Au{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(Y(Si,10))};static \u0275dir=ge({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&st("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[X]})}return n})();var ya="VALID",Cu="INVALID",Ss="PENDING",_a="DISABLED",kr=class{},Du=class extends kr{value;source;constructor(t,e){super(),this.value=t,this.source=e}},va=class extends kr{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},ba=class extends kr{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},As=class extends kr{status;source;constructor(t,e){super(),this.status=t,this.source=e}},uf=class extends kr{source;constructor(t){super(),this.source=t}},lf=class extends kr{source;constructor(t){super(),this.source=t}};function _f(n){return(xu(n)?n.validators:n)||null}function oD(n){return Array.isArray(n)?Ab(n):n||null}function vf(n,t){return(xu(t)?t.asyncValidators:n)||null}function aD(n){return Array.isArray(n)?Rb(n):n||null}function xu(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function xb(n,t,e){let r=n.controls;if(!(t?Object.keys(r):r).length)throw new ae(1e3,"");if(!r[e])throw new ae(1001,"")}function kb(n,t,e){n._forEachChild((r,i)=>{if(e[i]===void 0)throw new ae(1002,"")})}var Ds=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return $t(this.statusReactive)}set status(t){$t(()=>this.statusReactive.set(t))}_status=pn(()=>this.statusReactive());statusReactive=kt(void 0);get valid(){return this.status===ya}get invalid(){return this.status===Cu}get pending(){return this.status==Ss}get disabled(){return this.status===_a}get enabled(){return this.status!==_a}errors;get pristine(){return $t(this.pristineReactive)}set pristine(t){$t(()=>this.pristineReactive.set(t))}_pristine=pn(()=>this.pristineReactive());pristineReactive=kt(!0);get dirty(){return!this.pristine}get touched(){return $t(this.touchedReactive)}set touched(t){$t(()=>this.touchedReactive.set(t))}_touched=pn(()=>this.touchedReactive());touchedReactive=kt(!1);get untouched(){return!this.touched}_events=new ze;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(db(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(db(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(hb(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(hb(t,this._rawAsyncValidators))}hasValidator(t){return Tu(this._rawValidators,t)}hasAsyncValidator(t){return Tu(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(be(x({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new ba(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),e&&t.emitEvent!==!1&&this._events.next(new ba(!1,r))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(be(x({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new va(!1,r))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),e&&t.emitEvent!==!1&&this._events.next(new va(!0,r))}markAsPending(t={}){this.status=Ss;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new As(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(be(x({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=_a,this.errors=null,this._forEachChild(i=>{i.disable(be(x({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Du(this.value,r)),this._events.next(new As(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(be(x({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=ya,this._forEachChild(r=>{r.enable(be(x({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(be(x({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ya||this.status===Ss)&&this._runAsyncValidator(r,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Du(this.value,e)),this._events.next(new As(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(be(x({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_a:ya}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Ss,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=Eb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new As(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,r)}_initObservables(){this.valueChanges=new ke,this.statusChanges=new ke}_calculateStatus(){return this._allControlsDisabled()?_a:this.errors?Cu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ss)?Ss:this._anyControlsHaveStatus(Cu)?Cu:ya}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),i&&this._events.next(new va(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new ba(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){xu(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=oD(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=aD(this._rawAsyncValidators)}},Ru=class extends Ds{constructor(t,e,r){super(_f(e),vf(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){kb(this,!0,t),Object.keys(t).forEach(r=>{xb(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,s)=>{r=e(r,i,s)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var df=class extends Ru{};var ku=new Q("",{providedIn:"root",factory:()=>Nu}),Nu="always";function Nb(n,t){return[...t.path,n]}function hf(n,t,e=Nu){bf(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),uD(n,t),dD(n,t),lD(n,t),cD(n,t)}function fb(n,t,e=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Ou(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Pu(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function cD(n,t){if(t.valueAccessor.setDisabledState){let e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function bf(n,t){let e=Pb(n);t.validator!==null?n.setValidators(lb(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let r=Ob(n);t.asyncValidator!==null?n.setAsyncValidators(lb(r,t.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Pu(t._rawValidators,i),Pu(t._rawAsyncValidators,i)}function Ou(n,t){let e=!1;if(n!==null){if(t.validator!==null){let i=Pb(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==t.validator);s.length!==i.length&&(e=!0,n.setValidators(s))}}if(t.asyncValidator!==null){let i=Ob(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==t.asyncValidator);s.length!==i.length&&(e=!0,n.setAsyncValidators(s))}}}let r=()=>{};return Pu(t._rawValidators,r),Pu(t._rawAsyncValidators,r),e}function uD(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Mb(n,t)})}function lD(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Mb(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function Mb(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function dD(n,t){let e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function hD(n,t){n==null,bf(n,t)}function fD(n,t){return Ou(n,t)}function Fb(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function pD(n){return Object.getPrototypeOf(n.constructor)===qA}function gD(n,t){n._syncPendingControls(),t.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Lb(n,t){if(!t)return null;Array.isArray(t);let e,r,i;return t.forEach(s=>{s.constructor===vb?e=s:pD(s)?r=s:i=s}),i||r||e||null}function mD(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function pb(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function gb(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var wa=class extends Ds{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,r){super(_f(e),vf(r,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xu(e)&&(e.nonNullable||e.initialValueIsDefault)&&(gb(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){pb(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){pb(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){gb(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var yD=n=>n instanceof wa;var _D={provide:sr,useExisting:tr(()=>wf)},mb=Promise.resolve(),wf=(()=>{class n extends sr{_changeDetectorRef;callSetDisabledState;control=new wa;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ke;constructor(e,r,i,s,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Lb(this,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Fb(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){hf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){mb.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&te(r);mb.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Nb(e,this._parent):[e]}static \u0275fac=function(r){return new(r||n)(Y(Si,9),Y(mf,10),Y(yf,10),Y(Ai,10),Y(Kt,8),Y(ku,8))};static \u0275dir=ge({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[we([_D]),X,rt]})}return n})();var r$=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=ge({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var Vb=new Q("");var vD={provide:Si,useExisting:tr(()=>bD)},bD=(()=>{class n extends Si{callSetDisabledState;get submitted(){return $t(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=pn(()=>this._submittedReactive());_submittedReactive=kt(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ke;constructor(e,r,i){super(),this.callSetDisabledState=i,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ou(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let r=this.form.get(e.path);return hf(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){fb(e.control||null,e,!1),mD(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this._submittedReactive.set(!0),gD(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new uf(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new lf(this.form))}_updateDomValue(){this.directives.forEach(e=>{let r=e.control,i=this.form.get(e.path);r!==i&&(fb(r||null,e),yD(i)&&(hf(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let r=this.form.get(e.path);hD(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let r=this.form.get(e.path);r&&fD(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bf(this.form,this),this._oldForm&&Ou(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(Y(mf,10),Y(yf,10),Y(ku,8))};static \u0275dir=ge({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Qe("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[we([vD]),X,rt]})}return n})();var wD={provide:sr,useExisting:tr(()=>ED)},ED=(()=>{class n extends sr{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new ke;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,r,i,s,o){super(),this._ngModelWarningConfig=o,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Lb(this,s)}ngOnChanges(e){this._added||this._setUpControl(),Fb(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Nb(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(Y(Si,13),Y(mf,10),Y(yf,10),Y(Ai,10),Y(Vb,8))};static \u0275dir=ge({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[we([wD]),X,rt]})}return n})();var Ub=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({})}return n})(),ff=class extends Ds{constructor(t,e,r){super(_f(e),vf(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){kb(this,!1,t),t.forEach((r,i)=>{xb(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>r._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function yb(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var i$=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,r=null){let i=this._reduceControls(e),s={};return yb(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Ru(i,s)}record(e,r=null){let i=this._reduceControls(e);return new df(i,r)}control(e,r,i){let s={};return this.useNonNullable?(yb(r)?s=r:(s.validators=r,s.asyncValidators=i),new wa(e,be(x({},s),{nonNullable:!0}))):new wa(e,r,i)}array(e,r,i){let s=e.map(o=>this._createControl(o));return new ff(s,r,i)}_reduceControls(e){let r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){if(e instanceof wa)return e;if(e instanceof Ds)return e;if(Array.isArray(e)){let r=e[0],i=e.length>1?e[1]:null,s=e.length>2?e[2]:null;return this.control(r,i,s)}else return this.control(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $b=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:ku,useValue:e.callSetDisabledState??Nu}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({imports:[Ub]})}return n})(),s$=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Vb,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:ku,useValue:e.callSetDisabledState??Nu}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({imports:[Ub]})}return n})();function jb(n,t){return n?n.classList?n.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(n.className):!1}function Nr(n,t){if(n&&t){let e=r=>{jb(n,r)||(n.classList?n.classList.add(r):n.className+=" "+r)};[t].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(e))}}function CD(){return window.innerWidth-document.documentElement.offsetWidth}function Rs(n){for(let t of document?.styleSheets)try{for(let e of t?.cssRules)for(let r of e?.style)if(n.test(r))return{name:r,value:e.style.getPropertyValue(r).trim()}}catch{}return null}function c$(n="p-overflow-hidden"){let t=Rs(/-scrollbar-width$/);t?.name&&document.body.style.setProperty(t.name,CD()+"px"),Nr(document.body,n)}function Di(n,t){if(n&&t){let e=r=>{n.classList?n.classList.remove(r):n.className=n.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," ")};[t].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(e))}}function u$(n="p-overflow-hidden"){let t=Rs(/-scrollbar-width$/);t?.name&&document.body.style.removeProperty(t.name),Di(document.body,n)}function zb(n){let t={width:0,height:0};return n&&(n.style.visibility="hidden",n.style.display="block",t.width=n.offsetWidth,t.height=n.offsetHeight,n.style.display="none",n.style.visibility="visible"),t}function If(){let n=window,t=document,e=t.documentElement,r=t.getElementsByTagName("body")[0],i=n.innerWidth||e.clientWidth||r.clientWidth,s=n.innerHeight||e.clientHeight||r.clientHeight;return{width:i,height:s}}function TD(){let n=document.documentElement;return(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}function SD(){let n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}function l$(n,t,e=!0){var r,i,s,o;if(n){let c=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:zb(n),u=c.height,l=c.width,f=t.offsetHeight,p=t.offsetWidth,m=t.getBoundingClientRect(),y=SD(),A=TD(),P=If(),D,V,U="top";m.top+f+u>P.height?(D=m.top+y-u,U="bottom",D<0&&(D=y)):D=f+m.top+y,m.left+l>P.width?V=Math.max(0,m.left+A+p-l):V=m.left+A,n.style.top=D+"px",n.style.left=V+"px",n.style.transformOrigin=U,e&&(n.style.marginTop=U==="bottom"?`calc(${(i=(r=Rs(/-anchor-gutter$/))==null?void 0:r.value)!=null?i:"2px"} * -1)`:(o=(s=Rs(/-anchor-gutter$/))==null?void 0:s.value)!=null?o:"")}}function AD(n,t){n&&(typeof t=="string"?n.style.cssText=t:Object.entries(t||{}).forEach(([e,r])=>n.style[e]=r))}function Cf(n,t){if(n instanceof HTMLElement){let e=n.offsetWidth;if(t){let r=getComputedStyle(n);e+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return e}return 0}function d$(n,t,e=!0){var r,i,s,o;if(n){let c=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:zb(n),u=t.offsetHeight,l=t.getBoundingClientRect(),f=If(),p,m,y="top";l.top+u+c.height>f.height?(p=-1*c.height,y="bottom",l.top+p<0&&(p=-1*l.top)):p=u,c.width>f.width?m=l.left*-1:l.left+c.width>f.width?m=(l.left+c.width-f.width)*-1:m=0,n.style.top=p+"px",n.style.left=m+"px",n.style.transformOrigin=y,e&&(n.style.marginTop=y==="bottom"?`calc(${(i=(r=Rs(/-anchor-gutter$/))==null?void 0:r.value)!=null?i:"2px"} * -1)`:(o=(s=Rs(/-anchor-gutter$/))==null?void 0:s.value)!=null?o:"")}}function Ps(n){return typeof HTMLElement=="object"?n instanceof HTMLElement:n&&typeof n=="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"}function Tf(n){let t=n;return n&&typeof n=="object"&&(n.hasOwnProperty("current")?t=n.current:n.hasOwnProperty("el")&&(n.el.hasOwnProperty("nativeElement")?t=n.el.nativeElement:t=n.el)),Ps(t)?t:void 0}function h$(n,t){let e=Tf(n);if(e)e.appendChild(t);else throw new Error("Cannot append "+t+" to "+n)}var Ef=void 0;function Bb(n){if(n){let t=getComputedStyle(n);return n.offsetWidth-n.clientWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth)}else{if(Ef!=null)return Ef;let t=document.createElement("div");AD(t,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(t);let e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),Ef=e,e}}function Sf(n,t={}){if(Ps(n)){let e=(r,i)=>{var s,o;let c=(s=n?.$attrs)!=null&&s[r]?[(o=n?.$attrs)==null?void 0:o[r]]:[];return[i].flat().reduce((u,l)=>{if(l!=null){let f=typeof l;if(f==="string"||f==="number")u.push(l);else if(f==="object"){let p=Array.isArray(l)?e(r,l):Object.entries(l).map(([m,y])=>r==="style"&&(y||y===0)?`${m.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${y}`:y?m:void 0);u=p.length?u.concat(p.filter(m=>!!m)):u}}return u},c)};Object.entries(t).forEach(([r,i])=>{if(i!=null){let s=r.match(/^on(.+)/);s?n.addEventListener(s[1].toLowerCase(),i):r==="p-bind"||r==="pBind"?Sf(n,i):(i=r==="class"?[...new Set(e("class",i))].join(" ").trim():r==="style"?e("style",i).join(";").trim():i,(n.$attrs=n.$attrs||{})&&(n.$attrs[r]=i),n.setAttribute(r,i))}})}}function f$(n,t){if(n){n.style.opacity="0";let e=+new Date,r="0",i=function(){r=`${+n.style.opacity+(new Date().getTime()-e)/t}`,n.style.opacity=r,e=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(i)||setTimeout(i,16))};i()}}function DD(n,t){return Ps(n)?Array.from(n.querySelectorAll(t)):[]}function Os(n,t){return Ps(n)?n.matches(t)?n:n.querySelector(t):null}function Hb(n,t){n&&document.activeElement!==n&&n.focus(t)}function p$(n,t){if(Ps(n)){let e=n.getAttribute(t);return isNaN(e)?e==="true"||e==="false"?e==="true":e:+e}}function qb(n,t=""){let e=DD(n,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`),r=[];for(let i of e)getComputedStyle(i).display!="none"&&getComputedStyle(i).visibility!="hidden"&&r.push(i);return r}function Gb(n,t){let e=qb(n,t);return e.length>0?e[0]:null}function Af(n){if(n){let t=n.offsetHeight,e=getComputedStyle(n);return t-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)+parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),t}return 0}function RD(n){if(n){n.style.visibility="hidden",n.style.display="block";let t=n.offsetHeight;return n.style.display="none",n.style.visibility="visible",t}return 0}function PD(n){if(n){n.style.visibility="hidden",n.style.display="block";let t=n.offsetWidth;return n.style.display="none",n.style.visibility="visible",t}return 0}function Wb(n){if(n){let t=n.parentNode;return t&&t instanceof ShadowRoot&&t.host&&(t=t.host),t}return null}function g$(n){var t;if(n){let e=(t=Wb(n))==null?void 0:t.childNodes,r=0;if(e)for(let i=0;i<e.length;i++){if(e[i]===n)return r;e[i].nodeType===1&&r++}}return-1}function m$(n,t){let e=qb(n,t);return e.length>0?e[e.length-1]:null}function Df(n){if(n){let t=n.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}function Mu(n,t){if(n){let e=n.offsetHeight;if(t){let r=getComputedStyle(n);e+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return e}return 0}function Kb(){if(window.getSelection)return window.getSelection().toString();if(document.getSelection)return document.getSelection().toString()}function OD(n){return!!(n!==null&&typeof n<"u"&&n.nodeName&&Wb(n))}function y$(n,t){var e;if(n)switch(n){case"document":return document;case"window":return window;case"body":return document.body;case"@next":return t?.nextElementSibling;case"@prev":return t?.previousElementSibling;case"@parent":return t?.parentElement;case"@grandparent":return(e=t?.parentElement)==null?void 0:e.parentElement;default:if(typeof n=="string")return document.querySelector(n);let i=Tf((s=>!!(s&&s.constructor&&s.call&&s.apply))(n)?n():n);return i?.nodeType===9||OD(i)?i:void 0}}function Rf(n){if(n){let t=n.offsetWidth,e=getComputedStyle(n);return t-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth),t}return 0}function _$(n){return!!(n&&n.offsetParent!=null)}function v$(n){return n?getComputedStyle(n).direction==="rtl":!1}function b$(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function w$(n,t){var e,r;if(n){let i=n.parentElement,s=Df(i),o=If(),c=n.offsetParent?n.offsetWidth:PD(n),u=n.offsetParent?n.offsetHeight:RD(n),l=Cf((e=i?.children)==null?void 0:e[0]),f=Mu((r=i?.children)==null?void 0:r[0]),p="",m="";s.left+l+c>o.width-Bb()?s.left<c?t%2===1?p=s.left?"-"+s.left+"px":"100%":t%2===0&&(p=o.width-c-Bb()+"px"):p="-100%":p="100%",n.getBoundingClientRect().top+f+u>o.height?m=`-${u-f}px`:m="0px",n.style.top=m,n.style.left=p}}function Qb(n){var t;n&&("remove"in Element.prototype?n.remove():(t=n.parentNode)==null||t.removeChild(n))}function E$(n,t){let e=Tf(n);if(e)e.removeChild(t);else throw new Error("Cannot remove "+t+" from "+n)}function I$(n,t){let e=getComputedStyle(n).getPropertyValue("borderTopWidth"),r=e?parseFloat(e):0,i=getComputedStyle(n).getPropertyValue("paddingTop"),s=i?parseFloat(i):0,o=n.getBoundingClientRect(),u=t.getBoundingClientRect().top+document.body.scrollTop-(o.top+document.body.scrollTop)-r-s,l=n.scrollTop,f=n.clientHeight,p=Mu(t);u<0?n.scrollTop=l+u:u+p>f&&(n.scrollTop=l+u-f+p)}function Yb(n,t="",e){Ps(n)&&e!==null&&e!==void 0&&n.setAttribute(t,e)}function Xb(){let n=new Map;return{on(t,e){let r=n.get(t);return r?r.push(e):r=[e],n.set(t,r),this},off(t,e){let r=n.get(t);return r&&r.splice(r.indexOf(e)>>>0,1),this},emit(t,e){let r=n.get(t);r&&r.slice().map(i=>{i(e)})},clear(){n.clear()}}}function _t(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&typeof n=="object"&&Object.keys(n).length===0}function Pf(n,t,e=new WeakSet){if(n===t)return!0;if(!n||!t||typeof n!="object"||typeof t!="object"||e.has(n)||e.has(t))return!1;e.add(n).add(t);let r=Array.isArray(n),i=Array.isArray(t),s,o,c;if(r&&i){if(o=n.length,o!=t.length)return!1;for(s=o;s--!==0;)if(!Pf(n[s],t[s],e))return!1;return!0}if(r!=i)return!1;let u=n instanceof Date,l=t instanceof Date;if(u!=l)return!1;if(u&&l)return n.getTime()==t.getTime();let f=n instanceof RegExp,p=t instanceof RegExp;if(f!=p)return!1;if(f&&p)return n.toString()==t.toString();let m=Object.keys(n);if(o=m.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,m[s]))return!1;for(s=o;s--!==0;)if(c=m[s],!Pf(n[c],t[c],e))return!1;return!0}function xD(n,t){return Pf(n,t)}function Zb(n){return!!(n&&n.constructor&&n.call&&n.apply)}function Me(n){return!_t(n)}function Fu(n,t){if(!n||!t)return null;try{let e=n[t];if(Me(e))return e}catch{}if(Object.keys(n).length){if(Zb(t))return t(n);if(t.indexOf(".")===-1)return n[t];{let e=t.split("."),r=n;for(let i=0,s=e.length;i<s;++i){if(r==null)return null;r=r[e[i]]}return r}}return null}function Of(n,t,e){return e?Fu(n,e)===Fu(t,e):xD(n,t)}function A$(n,t){if(n!=null&&t&&t.length){for(let e of t)if(Of(n,e))return!0}return!1}function D$(n,t){let e=-1;if(Me(n))try{e=n.findLastIndex(t)}catch{e=n.lastIndexOf([...n].reverse().find(t))}return e}function or(n,t=!0){return n instanceof Object&&n.constructor===Object&&(t||Object.keys(n).length!==0)}function cn(n,...t){return Zb(n)?n(...t):n}function Mr(n,t=!0){return typeof n=="string"&&(t||n!=="")}function Jb(n){return Mr(n)?n.replace(/(-|_)/g,"").toLowerCase():n}function Lu(n,t="",e={}){let r=Jb(t).split("."),i=r.shift();return i?or(n)?Lu(cn(n[Object.keys(n).find(s=>Jb(s)===i)||""],e),r.join("."),e):void 0:cn(n,e)}function Vu(n,t=!0){return Array.isArray(n)&&(t||n.length!==0)}function R$(n){return n instanceof Date&&n.constructor===Date}function e0(n){return Me(n)&&!isNaN(n)}function P$(n=""){return Me(n)&&n.length===1&&!!n.match(/\S| /)}function Yt(n,t){if(t){let e=t.test(n);return t.lastIndex=0,e}return!1}function Ri(n){return n&&n.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":")}function Xt(n){if(n&&/[\xC0-\xFF\u0100-\u017E]/.test(n)){let e={A:/[\xC0-\xC5\u0100\u0102\u0104]/g,AE:/[\xC6]/g,C:/[\xC7\u0106\u0108\u010A\u010C]/g,D:/[\xD0\u010E\u0110]/g,E:/[\xC8-\xCB\u0112\u0114\u0116\u0118\u011A]/g,G:/[\u011C\u011E\u0120\u0122]/g,H:/[\u0124\u0126]/g,I:/[\xCC-\xCF\u0128\u012A\u012C\u012E\u0130]/g,IJ:/[\u0132]/g,J:/[\u0134]/g,K:/[\u0136]/g,L:/[\u0139\u013B\u013D\u013F\u0141]/g,N:/[\xD1\u0143\u0145\u0147\u014A]/g,O:/[\xD2-\xD6\xD8\u014C\u014E\u0150]/g,OE:/[\u0152]/g,R:/[\u0154\u0156\u0158]/g,S:/[\u015A\u015C\u015E\u0160]/g,T:/[\u0162\u0164\u0166]/g,U:/[\xD9-\xDC\u0168\u016A\u016C\u016E\u0170\u0172]/g,W:/[\u0174]/g,Y:/[\xDD\u0176\u0178]/g,Z:/[\u0179\u017B\u017D]/g,a:/[\xE0-\xE5\u0101\u0103\u0105]/g,ae:/[\xE6]/g,c:/[\xE7\u0107\u0109\u010B\u010D]/g,d:/[\u010F\u0111]/g,e:/[\xE8-\xEB\u0113\u0115\u0117\u0119\u011B]/g,g:/[\u011D\u011F\u0121\u0123]/g,i:/[\xEC-\xEF\u0129\u012B\u012D\u012F\u0131]/g,ij:/[\u0133]/g,j:/[\u0135]/g,k:/[\u0137,\u0138]/g,l:/[\u013A\u013C\u013E\u0140\u0142]/g,n:/[\xF1\u0144\u0146\u0148\u014B]/g,p:/[\xFE]/g,o:/[\xF2-\xF6\xF8\u014D\u014F\u0151]/g,oe:/[\u0153]/g,r:/[\u0155\u0157\u0159]/g,s:/[\u015B\u015D\u015F\u0161]/g,t:/[\u0163\u0165\u0167]/g,u:/[\xF9-\xFC\u0169\u016B\u016D\u016F\u0171\u0173]/g,w:/[\u0175]/g,y:/[\xFD\xFF\u0177]/g,z:/[\u017A\u017C\u017E]/g};for(let r in e)n=n.replace(e[r],r)}return n}function Uu(n){return Mr(n)?n.replace(/(_)/g,"-").replace(/[A-Z]/g,(t,e)=>e===0?t:"-"+t.toLowerCase()).toLowerCase():n}function xf(n){return Mr(n)?n.replace(/[A-Z]/g,(t,e)=>e===0?t:"."+t.toLowerCase()).toLowerCase():n}var $u={};function yn(n="pui_id_"){return $u.hasOwnProperty(n)||($u[n]=0),$u[n]++,`${n}${$u[n]}`}function kD(){let n=[],t=(o,c,u=999)=>{let l=i(o,c,u),f=l.value+(l.key===o?0:u)+1;return n.push({key:o,value:f}),f},e=o=>{n=n.filter(c=>c.value!==o)},r=(o,c)=>i(o,c).value,i=(o,c,u=0)=>[...n].reverse().find(l=>c?!0:l.key===o)||{key:o,value:u},s=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:s,set:(o,c,u)=>{c&&(c.style.zIndex=String(t(o,!0,u)))},clear:o=>{o&&(e(s(o)),o.style.zIndex="")},getCurrent:o=>r(o,!0)}}var k$=kD();var ND=Object.defineProperty,MD=Object.defineProperties,FD=Object.getOwnPropertyDescriptors,Bu=Object.getOwnPropertySymbols,r0=Object.prototype.hasOwnProperty,i0=Object.prototype.propertyIsEnumerable,t0=(n,t,e)=>t in n?ND(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,vn=(n,t)=>{for(var e in t||(t={}))r0.call(t,e)&&t0(n,e,t[e]);if(Bu)for(var e of Bu(t))i0.call(t,e)&&t0(n,e,t[e]);return n},kf=(n,t)=>MD(n,FD(t)),ar=(n,t)=>{var e={};for(var r in n)r0.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&Bu)for(var r of Bu(n))t.indexOf(r)<0&&i0.call(n,r)&&(e[r]=n[r]);return e};var LD=Xb(),Jt=LD;function n0(n,t){Vu(n)?n.push(...t||[]):or(n)&&Object.assign(n,t)}function VD(n){return or(n)&&n.hasOwnProperty("value")&&n.hasOwnProperty("type")?n.value:n}function UD(n){return n.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function Nf(n="",t=""){return UD(`${Mr(n,!1)&&Mr(t,!1)?`${n}-`:n}${t}`)}function s0(n="",t=""){return`--${Nf(n,t)}`}function $D(n=""){let t=(n.match(/{/g)||[]).length,e=(n.match(/}/g)||[]).length;return(t+e)%2!==0}function o0(n,t="",e="",r=[],i){if(Mr(n)){let s=/{([^}]*)}/g,o=n.trim();if($D(o))return;if(Yt(o,s)){let c=o.replaceAll(s,f=>{let m=f.replace(/{|}/g,"").split(".").filter(y=>!r.some(A=>Yt(y,A)));return`var(${s0(e,Uu(m.join("-")))}${Me(i)?`, ${i}`:""})`}),u=/(\d+\s+[\+\-\*\/]\s+\d+)/g,l=/var\([^)]+\)/g;return Yt(c.replace(l,"0"),u)?`calc(${c})`:c}return o}else if(e0(n))return n}function BD(n,t,e){Mr(t,!1)&&n.push(`${t}:${e};`)}function xs(n,t){return n?`${n}{${t}}`:""}var ks=(...n)=>jD(Fe.getTheme(),...n),jD=(n={},t,e,r)=>{if(t){let{variable:i,options:s}=Fe.defaults||{},{prefix:o,transform:c}=n?.options||s||{},l=Yt(t,/{([^}]*)}/g)?t:`{${t}}`;return r==="value"||_t(r)&&c==="strict"?Fe.getTokenValue(t):o0(l,void 0,o,[i.excludedKeyRegex],e)}return""};function zD(n,t={}){let e=Fe.defaults.variable,{prefix:r=e.prefix,selector:i=e.selector,excludedKeyRegex:s=e.excludedKeyRegex}=t,o=(l,f="")=>Object.entries(l).reduce((p,[m,y])=>{let A=Yt(m,s)?Nf(f):Nf(f,Uu(m)),P=VD(y);if(or(P)){let{variables:D,tokens:V}=o(P,A);n0(p.tokens,V),n0(p.variables,D)}else p.tokens.push((r?A.replace(`${r}-`,""):A).replaceAll("-",".")),BD(p.variables,s0(A),o0(P,A,r,[s]));return p},{variables:[],tokens:[]}),{variables:c,tokens:u}=o(n,r);return{value:c,tokens:u,declarations:c.join(""),css:xs(i,c.join(""))}}var _n={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(n){return{type:"class",selector:n,matched:this.pattern.test(n.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(n){return{type:"attr",selector:`:root${n}`,matched:this.pattern.test(n.trim())}}},media:{pattern:/^@media (.*)$/,resolve(n){return{type:"media",selector:`${n}{:root{[CSS]}}`,matched:this.pattern.test(n.trim())}}},system:{pattern:/^system$/,resolve(n){return{type:"system",selector:"@media (prefers-color-scheme: dark){:root{[CSS]}}",matched:this.pattern.test(n.trim())}}},custom:{resolve(n){return{type:"custom",selector:n,matched:!0}}}},resolve(n){let t=Object.keys(this.rules).filter(e=>e!=="custom").map(e=>this.rules[e]);return[n].flat().map(e=>{var r;return(r=t.map(i=>i.resolve(e)).find(i=>i.matched))!=null?r:this.rules.custom.resolve(e)})}},_toVariables(n,t){return zD(n,{prefix:t?.prefix})},getCommon({name:n="",theme:t={},params:e,set:r,defaults:i}){var s,o,c,u,l,f,p;let{preset:m,options:y}=t,A,P,D,V,U,$,ne;if(Me(m)&&y.transform!=="strict"){let{primitive:$e,semantic:se,extend:I}=m,_=se||{},{colorScheme:w}=_,E=ar(_,["colorScheme"]),C=I||{},{colorScheme:S}=C,b=ar(C,["colorScheme"]),Rt=w||{},{dark:An}=Rt,ss=ar(Rt,["dark"]),Dn=S||{},{dark:Rn}=Dn,Tr=ar(Dn,["dark"]),di=Me($e)?this._toVariables({primitive:$e},y):{},os=Me(E)?this._toVariables({semantic:E},y):{},Ht=Me(ss)?this._toVariables({light:ss},y):{},nt=Me(An)?this._toVariables({dark:An},y):{},Rc=Me(b)?this._toVariables({semantic:b},y):{},Sr=Me(Tr)?this._toVariables({light:Tr},y):{},Pc=Me(Rn)?this._toVariables({dark:Rn},y):{},[hi,Kd]=[(s=di.declarations)!=null?s:"",di.tokens],[Qd,as]=[(o=os.declarations)!=null?o:"",os.tokens||[]],[cs,xo]=[(c=Ht.declarations)!=null?c:"",Ht.tokens||[]],[ko,No]=[(u=nt.declarations)!=null?u:"",nt.tokens||[]],[Mo,Oc]=[(l=Rc.declarations)!=null?l:"",Rc.tokens||[]],[xc,Yd]=[(f=Sr.declarations)!=null?f:"",Sr.tokens||[]],[kc,Nc]=[(p=Pc.declarations)!=null?p:"",Pc.tokens||[]];A=this.transformCSS(n,hi,"light","variable",y,r,i),P=Kd;let Fo=this.transformCSS(n,`${Qd}${cs}`,"light","variable",y,r,i),Mc=this.transformCSS(n,`${ko}`,"dark","variable",y,r,i);D=`${Fo}${Mc}`,V=[...new Set([...as,...xo,...No])];let Xd=this.transformCSS(n,`${Mo}${xc}color-scheme:light`,"light","variable",y,r,i),Lo=this.transformCSS(n,`${kc}color-scheme:dark`,"dark","variable",y,r,i);U=`${Xd}${Lo}`,$=[...new Set([...Oc,...Yd,...Nc])],ne=cn(m.css,{dt:ks})}return{primitive:{css:A,tokens:P},semantic:{css:D,tokens:V},global:{css:U,tokens:$},style:ne}},getPreset({name:n="",preset:t={},options:e,params:r,set:i,defaults:s,selector:o}){var c,u,l;let f,p,m;if(Me(t)&&e.transform!=="strict"){let y=n.replace("-directive",""),A=t,{colorScheme:P,extend:D,css:V}=A,U=ar(A,["colorScheme","extend","css"]),$=D||{},{colorScheme:ne}=$,$e=ar($,["colorScheme"]),se=P||{},{dark:I}=se,_=ar(se,["dark"]),w=ne||{},{dark:E}=w,C=ar(w,["dark"]),S=Me(U)?this._toVariables({[y]:vn(vn({},U),$e)},e):{},b=Me(_)?this._toVariables({[y]:vn(vn({},_),C)},e):{},Rt=Me(I)?this._toVariables({[y]:vn(vn({},I),E)},e):{},[An,ss]=[(c=S.declarations)!=null?c:"",S.tokens||[]],[Dn,Rn]=[(u=b.declarations)!=null?u:"",b.tokens||[]],[Tr,di]=[(l=Rt.declarations)!=null?l:"",Rt.tokens||[]],os=this.transformCSS(y,`${An}${Dn}`,"light","variable",e,i,s,o),Ht=this.transformCSS(y,Tr,"dark","variable",e,i,s,o);f=`${os}${Ht}`,p=[...new Set([...ss,...Rn,...di])],m=cn(V,{dt:ks})}return{css:f,tokens:p,style:m}},getPresetC({name:n="",theme:t={},params:e,set:r,defaults:i}){var s;let{preset:o,options:c}=t,u=(s=o?.components)==null?void 0:s[n];return this.getPreset({name:n,preset:u,options:c,params:e,set:r,defaults:i})},getPresetD({name:n="",theme:t={},params:e,set:r,defaults:i}){var s;let o=n.replace("-directive",""),{preset:c,options:u}=t,l=(s=c?.directives)==null?void 0:s[o];return this.getPreset({name:o,preset:l,options:u,params:e,set:r,defaults:i})},applyDarkColorScheme(n){return!(n.darkModeSelector==="none"||n.darkModeSelector===!1)},getColorSchemeOption(n,t){var e;return this.applyDarkColorScheme(n)?this.regex.resolve(n.darkModeSelector===!0?t.options.darkModeSelector:(e=n.darkModeSelector)!=null?e:t.options.darkModeSelector):[]},getLayerOrder(n,t={},e,r){let{cssLayer:i}=t;return i?`@layer ${cn(i.order||"primeui",e)}`:""},getCommonStyleSheet({name:n="",theme:t={},params:e,props:r={},set:i,defaults:s}){let o=this.getCommon({name:n,theme:t,params:e,set:i,defaults:s}),c=Object.entries(r).reduce((u,[l,f])=>u.push(`${l}="${f}"`)&&u,[]).join(" ");return Object.entries(o||{}).reduce((u,[l,f])=>{if(f?.css){let p=Ri(f?.css),m=`${l}-variables`;u.push(`<style type="text/css" data-primevue-style-id="${m}" ${c}>${p}</style>`)}return u},[]).join("")},getStyleSheet({name:n="",theme:t={},params:e,props:r={},set:i,defaults:s}){var o;let c={name:n,theme:t,params:e,set:i,defaults:s},u=(o=n.includes("-directive")?this.getPresetD(c):this.getPresetC(c))==null?void 0:o.css,l=Object.entries(r).reduce((f,[p,m])=>f.push(`${p}="${m}"`)&&f,[]).join(" ");return u?`<style type="text/css" data-primevue-style-id="${n}-variables" ${l}>${Ri(u)}</style>`:""},createTokens(n={},t,e="",r="",i={}){return Object.entries(n).forEach(([s,o])=>{let c=Yt(s,t.variable.excludedKeyRegex)?e:e?`${e}.${xf(s)}`:xf(s),u=r?`${r}.${s}`:s;or(o)?this.createTokens(o,t,c,u,i):(i[c]||(i[c]={paths:[],computed(l,f={}){var p,m;return this.paths.length===1?(p=this.paths[0])==null?void 0:p.computed(this.paths[0].scheme,f.binding):l&&l!=="none"?(m=this.paths.find(y=>y.scheme===l))==null?void 0:m.computed(l,f.binding):this.paths.map(y=>y.computed(y.scheme,f[y.scheme]))}}),i[c].paths.push({path:u,value:o,scheme:u.includes("colorScheme.light")?"light":u.includes("colorScheme.dark")?"dark":"none",computed(l,f={}){let p=/{([^}]*)}/g,m=o;if(f.name=this.path,f.binding||(f.binding={}),Yt(o,p)){let A=o.trim().replaceAll(p,V=>{var U;let $=V.replace(/{|}/g,""),ne=(U=i[$])==null?void 0:U.computed(l,f);return Vu(ne)&&ne.length===2?`light-dark(${ne[0].value},${ne[1].value})`:ne?.value}),P=/(\d+\w*\s+[\+\-\*\/]\s+\d+\w*)/g,D=/var\([^)]+\)/g;m=Yt(A.replace(D,"0"),P)?`calc(${A})`:A}return _t(f.binding)&&delete f.binding,{colorScheme:l,path:this.path,paths:f,value:m.includes("undefined")?void 0:m}}}))}),i},getTokenValue(n,t,e){var r;let s=(u=>u.split(".").filter(f=>!Yt(f.toLowerCase(),e.variable.excludedKeyRegex)).join("."))(t),o=t.includes("colorScheme.light")?"light":t.includes("colorScheme.dark")?"dark":void 0,c=[(r=n[s])==null?void 0:r.computed(o)].flat().filter(u=>u);return c.length===1?c[0].value:c.reduce((u={},l)=>{let f=l,{colorScheme:p}=f,m=ar(f,["colorScheme"]);return u[p]=m,u},void 0)},getSelectorRule(n,t,e,r){return e==="class"||e==="attr"?xs(Me(t)?`${n}${t},${n} ${t}`:n,r):xs(n,Me(t)?xs(t,r):r)},transformCSS(n,t,e,r,i={},s,o,c){if(Me(t)){let{cssLayer:u}=i;if(r!=="style"){let l=this.getColorSchemeOption(i,o);t=e==="dark"?l.reduce((f,{type:p,selector:m})=>(Me(m)&&(f+=m.includes("[CSS]")?m.replace("[CSS]",t):this.getSelectorRule(m,c,p,t)),f),""):xs(c??":root",t)}if(u){let l={name:"primeui",order:"primeui"};or(u)&&(l.name=cn(u.name,{name:n,type:r})),Me(l.name)&&(t=xs(`@layer ${l.name}`,t),s?.layerNames(l.name))}return t}return""}},Fe={defaults:{variable:{prefix:"p",selector:":root",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states|extend|css)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(n={}){let{theme:t}=n;t&&(this._theme=kf(vn({},t),{options:vn(vn({},this.defaults.options),t.options)}),this._tokens=_n.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var n;return((n=this.theme)==null?void 0:n.preset)||{}},get options(){var n;return((n=this.theme)==null?void 0:n.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(n){this.update({theme:n}),Jt.emit("theme:change",n)},getPreset(){return this.preset},setPreset(n){this._theme=kf(vn({},this.theme),{preset:n}),this._tokens=_n.createTokens(n,this.defaults),this.clearLoadedStyleNames(),Jt.emit("preset:change",n),Jt.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(n){this._theme=kf(vn({},this.theme),{options:n}),this.clearLoadedStyleNames(),Jt.emit("options:change",n),Jt.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(n){this._layerNames.add(n)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(n){return this._loadedStyleNames.has(n)},setLoadedStyleName(n){this._loadedStyleNames.add(n)},deleteLoadedStyleName(n){this._loadedStyleNames.delete(n)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(n){return _n.getTokenValue(this.tokens,n,this.defaults)},getCommon(n="",t){return _n.getCommon({name:n,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(n="",t){let e={name:n,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return _n.getPresetC(e)},getDirective(n="",t){let e={name:n,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return _n.getPresetD(e)},getCustomPreset(n="",t,e,r){let i={name:n,preset:t,options:this.options,selector:e,params:r,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return _n.getPreset(i)},getLayerOrderCSS(n=""){return _n.getLayerOrder(n,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(n="",t,e="style",r){return _n.transformCSS(n,t,r,e,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(n="",t,e={}){return _n.getCommonStyleSheet({name:n,theme:this.theme,params:t,props:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(n,t,e={}){return _n.getStyleSheet({name:n,theme:this.theme,params:t,props:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(n){this._loadingStyles.add(n)},onStyleUpdated(n){this._loadingStyles.add(n)},onStyleLoaded(n,{name:t}){this._loadingStyles.size&&(this._loadingStyles.delete(t),Jt.emit(`theme:${t}:load`,n),!this._loadingStyles.size&&Jt.emit("theme:load"))}};var HD=0,a0=(()=>{class n{document=O(Oe);use(e,r={}){let i=!1,s=e,o=null,{immediate:c=!0,manual:u=!1,name:l=`style_${++HD}`,id:f=void 0,media:p=void 0,nonce:m=void 0,first:y=!1,props:A={}}=r;if(this.document){if(o=this.document.querySelector(`style[data-primeng-style-id="${l}"]`)||f&&this.document.getElementById(f)||this.document.createElement("style"),!o.isConnected){s=e,Sf(o,{type:"text/css",media:p,nonce:m});let P=this.document.head;y&&P.firstChild?P.insertBefore(o,P.firstChild):P.appendChild(o),Yb(o,"data-primeng-style-id",l)}return o.textContent!==s&&(o.textContent=s),{id:f,name:l,el:o,css:s}}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ns={_loadedStyleNames:new Set,getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(n){return this._loadedStyleNames.has(n)},setLoadedStyleName(n){this._loadedStyleNames.add(n)},deleteLoadedStyleName(n){this._loadedStyleNames.delete(n)},clearLoadedStyleNames(){this._loadedStyleNames.clear()}},qD=({dt:n})=>`
*,
::before,
::after {
    box-sizing: border-box;
}

/* Non ng overlay animations */
.p-connected-overlay {
    opacity: 0;
    transform: scaleY(0.8);
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-visible {
    opacity: 1;
    transform: scaleY(1);
}

.p-connected-overlay-hidden {
    opacity: 0;
    transform: scaleY(1);
    transition: opacity 0.1s linear;
}

/* NG based overlay animations */
.p-connected-overlay-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-connected-overlay-leave-to {
    opacity: 0;
}

.p-connected-overlay-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-leave-active {
    transition: opacity 0.1s linear;
}

/* Toggleable Content */
.p-toggleable-content-enter-from,
.p-toggleable-content-leave-to {
    max-height: 0;
}

.p-toggleable-content-enter-to,
.p-toggleable-content-leave-from {
    max-height: 1000px;
}

.p-toggleable-content-leave-active {
    overflow: hidden;
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
}

.p-toggleable-content-enter-active {
    overflow: hidden;
    transition: max-height 1s ease-in-out;
}

.p-disabled,
.p-disabled * {
    cursor: default;
    pointer-events: none;
    user-select: none;
}

.p-disabled,
.p-component:disabled {
    opacity: ${n("disabled.opacity")};
}

.pi {
    font-size: ${n("icon.size")};
}

.p-icon {
    width: ${n("icon.size")};
    height: ${n("icon.size")};
}

.p-overlay-mask {
    background: ${n("mask.background")};
    color: ${n("mask.color")};
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-overlay-mask-enter {
    animation: p-overlay-mask-enter-animation ${n("mask.transition.duration")} forwards;
}

.p-overlay-mask-leave {
    animation: p-overlay-mask-leave-animation ${n("mask.transition.duration")} forwards;
}
/* Temporarily disabled, distrupts PrimeNG overlay animations */
/* @keyframes p-overlay-mask-enter-animation {
    from {
        background: transparent;
    }
    to {
        background: ${n("mask.background")};
    }
}
@keyframes p-overlay-mask-leave-animation {
    from {
        background: ${n("mask.background")};
    }
    to {
        background: transparent;
    }
}*/

.p-iconwrapper {
    display: inline-flex;
    justify-content: center;
    align-items: center;
}
`,GD=({dt:n})=>`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: ${n("scrollbar.width")};
}

/* @todo move to baseiconstyle.ts */

.p-icon {
    display: inline-block;
    vertical-align: baseline;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,Re=(()=>{class n{name="base";useStyle=O(a0);theme=void 0;css=void 0;classes={};inlineStyles={};load=(e,r={},i=s=>s)=>{let s=i(cn(e,{dt:ks}));return s?this.useStyle.use(Ri(s),x({name:this.name},r)):{}};loadCSS=(e={})=>this.load(this.css,e);loadTheme=(e={},r="")=>this.load(this.theme,e,(i="")=>Fe.transformCSS(e.name||this.name,`${i}${r}`));loadGlobalCSS=(e={})=>this.load(GD,e);loadGlobalTheme=(e={},r="")=>this.load(qD,e,(i="")=>Fe.transformCSS(e.name||this.name,`${i}${r}`));getCommonTheme=e=>Fe.getCommon(this.name,e);getComponentTheme=e=>Fe.getComponent(this.name,e);getDirectiveTheme=e=>Fe.getDirective(this.name,e);getPresetTheme=(e,r,i)=>Fe.getCustomPreset(this.name,e,r,i);getLayerOrderThemeCSS=()=>Fe.getLayerOrderCSS(this.name);getStyleSheet=(e="",r={})=>{if(this.css){let i=cn(this.css,{dt:ks}),s=Ri(`${i}${e}`),o=Object.entries(r).reduce((c,[u,l])=>c.push(`${u}="${l}"`)&&c,[]).join(" ");return`<style type="text/css" data-primeng-style-id="${this.name}" ${o}>${s}</style>`}return""};getCommonThemeStyleSheet=(e,r={})=>Fe.getCommonStyleSheet(this.name,e,r);getThemeStyleSheet=(e,r={})=>{let i=[Fe.getStyleSheet(this.name,e,r)];if(this.theme){let s=this.name==="base"?"global-style":`${this.name}-style`,o=cn(this.theme,{dt:ks}),c=Ri(Fe.transformCSS(s,o)),u=Object.entries(r).reduce((l,[f,p])=>l.push(`${f}="${p}"`)&&l,[]).join(" ");i.push(`<style type="text/css" data-primeng-style-id="${s}" ${u}>${c}</style>`)}return i.join("")};static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var c0=["*"];var vt=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return n})(),gB=(()=>{class n{static AND="and";static OR="or"}return n})(),mB=(()=>{class n{filter(e,r,i,s,o){let c=[];if(e)for(let u of e)for(let l of r){let f=Fu(u,l);if(this.filters[s](f,i,o)){c.push(u);break}}return c}filters={startsWith:(e,r,i)=>{if(r==null||r.trim()==="")return!0;if(e==null)return!1;let s=Xt(r.toString()).toLocaleLowerCase(i);return Xt(e.toString()).toLocaleLowerCase(i).slice(0,s.length)===s},contains:(e,r,i)=>{if(r==null||typeof r=="string"&&r.trim()==="")return!0;if(e==null)return!1;let s=Xt(r.toString()).toLocaleLowerCase(i);return Xt(e.toString()).toLocaleLowerCase(i).indexOf(s)!==-1},notContains:(e,r,i)=>{if(r==null||typeof r=="string"&&r.trim()==="")return!0;if(e==null)return!1;let s=Xt(r.toString()).toLocaleLowerCase(i);return Xt(e.toString()).toLocaleLowerCase(i).indexOf(s)===-1},endsWith:(e,r,i)=>{if(r==null||r.trim()==="")return!0;if(e==null)return!1;let s=Xt(r.toString()).toLocaleLowerCase(i),o=Xt(e.toString()).toLocaleLowerCase(i);return o.indexOf(s,o.length-s.length)!==-1},equals:(e,r,i)=>r==null||typeof r=="string"&&r.trim()===""?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()===r.getTime():e==r?!0:Xt(e.toString()).toLocaleLowerCase(i)==Xt(r.toString()).toLocaleLowerCase(i),notEquals:(e,r,i)=>r==null||typeof r=="string"&&r.trim()===""?!1:e==null?!0:e.getTime&&r.getTime?e.getTime()!==r.getTime():e==r?!1:Xt(e.toString()).toLocaleLowerCase(i)!=Xt(r.toString()).toLocaleLowerCase(i),in:(e,r)=>{if(r==null||r.length===0)return!0;for(let i=0;i<r.length;i++)if(Of(e,r[i]))return!0;return!1},between:(e,r)=>r==null||r[0]==null||r[1]==null?!0:e==null?!1:e.getTime?r[0].getTime()<=e.getTime()&&e.getTime()<=r[1].getTime():r[0]<=e&&e<=r[1],lt:(e,r,i)=>r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()<r.getTime():e<r,lte:(e,r,i)=>r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()<=r.getTime():e<=r,gt:(e,r,i)=>r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()>r.getTime():e>r,gte:(e,r,i)=>r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()>=r.getTime():e>=r,is:(e,r,i)=>this.filters.equals(e,r,i),isNot:(e,r,i)=>this.filters.notEquals(e,r,i),before:(e,r,i)=>this.filters.lt(e,r,i),after:(e,r,i)=>this.filters.gt(e,r,i),dateIs:(e,r)=>r==null?!0:e==null?!1:e.toDateString()===r.toDateString(),dateIsNot:(e,r)=>r==null?!0:e==null?!1:e.toDateString()!==r.toDateString(),dateBefore:(e,r)=>r==null?!0:e==null?!1:e.getTime()<r.getTime(),dateAfter:(e,r)=>r==null?!0:e==null?!1:(e.setHours(0,0,0,0),e.getTime()>r.getTime())};register(e,r){this.filters[e]=r}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yB=(()=>{class n{messageSource=new ze;clearSource=new ze;messageObserver=this.messageSource.asObservable();clearObserver=this.clearSource.asObservable();add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),_B=(()=>{class n{clickSource=new ze;clickObservable=this.clickSource.asObservable();add(e){e&&this.clickSource.next(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var vB=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["p-header"]],standalone:!1,ngContentSelectors:c0,decls:1,vars:0,template:function(r,i){r&1&&(gt(),mt(0))},encapsulation:2})}return n})(),bB=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["p-footer"]],standalone:!1,ngContentSelectors:c0,decls:1,vars:0,template:function(r,i){r&1&&(gt(),mt(0))},encapsulation:2})}return n})(),Ms=(()=>{class n{template;type;name;constructor(e){this.template=e}getType(){return this.name}static \u0275fac=function(r){return new(r||n)(Y(ra))};static \u0275dir=ge({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]}})}return n})(),Le=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({imports:[Ue]})}return n})(),wB=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return n})();var WD=(()=>{class n{theme=kt(void 0);csp=kt({nonce:void 0});isThemeChanged=!1;document=O(Oe);baseStyle=O(Re);constructor(){vs(()=>{Jt.on("theme:change",e=>{$t(()=>{this.isThemeChanged=!0,this.theme.set(e)})})}),vs(()=>{let e=this.theme();this.document&&e&&(this.isThemeChanged||this.onThemeChange(e),this.isThemeChanged=!1)})}ngOnDestroy(){Fe.clearLoadedStyleNames(),Jt.clear()}onThemeChange(e){Fe.setTheme(e),this.document&&this.loadCommonTheme()}loadCommonTheme(){if(this.theme()!=="none"&&!Fe.isStyleNameLoaded("common")){let{primitive:e,semantic:r,global:i,style:s}=this.baseStyle.getCommonTheme?.()||{},o={nonce:this.csp?.()?.nonce};this.baseStyle.load(e?.css,x({name:"primitive-variables"},o)),this.baseStyle.load(r?.css,x({name:"semantic-variables"},o)),this.baseStyle.load(i?.css,x({name:"global-variables"},o)),this.baseStyle.loadGlobalTheme(x({name:"global-style"},o),s),Fe.setLoadedStyleName("common")}}setThemeConfig(e){let{theme:r,csp:i}=e||{};r&&this.theme.set(r),i&&this.csp.set(i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ff=(()=>{class n extends WD{ripple=kt(!1);platformId=O(Lt);inputStyle=kt(null);inputVariant=kt(null);overlayOptions={};csp=kt({nonce:void 0});filterMatchModeOptions={text:[vt.STARTS_WITH,vt.CONTAINS,vt.NOT_CONTAINS,vt.ENDS_WITH,vt.EQUALS,vt.NOT_EQUALS],numeric:[vt.EQUALS,vt.NOT_EQUALS,vt.LESS_THAN,vt.LESS_THAN_OR_EQUAL_TO,vt.GREATER_THAN,vt.GREATER_THAN_OR_EQUAL_TO],date:[vt.DATE_IS,vt.DATE_IS_NOT,vt.DATE_BEFORE,vt.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"Search results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",fileChosenMessage:"Files",noFileChosenMessage:"No file chosen",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new ze;translationObserver=this.translationSource.asObservable();getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=x(x({},this.translation),e),this.translationSource.next(this.translation)}setConfig(e){let{csp:r,ripple:i,inputStyle:s,inputVariant:o,theme:c,overlayOptions:u,translation:l}=e||{};r&&this.csp.set(r),i&&this.ripple.set(i),s&&this.inputStyle.set(s),o&&this.inputVariant.set(o),u&&(this.overlayOptions=u),l&&this.setTranslation(l),c&&this.setThemeConfig({theme:c,csp:r})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),KD=new Q("PRIME_NG_CONFIG");function PB(...n){let t=n?.map(r=>({provide:KD,useValue:r,multi:!1})),e=ia(()=>{let r=O(Ff);n?.forEach(i=>r.setConfig(i))});return Wt([...t,e])}var u0=(()=>{class n extends Re{name="common";static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xe=(()=>{class n{document=O(Oe);platformId=O(Lt);el=O(xt);injector=O(it);cd=O(Kt);renderer=O(on);config=O(Ff);baseComponentStyle=O(u0);baseStyle=O(Re);scopedStyleEl;rootEl;dt;get styleOptions(){return{nonce:this.config?.csp().nonce}}get _name(){return this.constructor.name.replace(/^_/,"").toLowerCase()}get componentStyle(){return this._componentStyle}attrSelector=yn("pc");themeChangeListeners=[];_getHostInstance(e){if(e)return e?this.hostName?e.name===this.hostName?e:this._getHostInstance(e.parentInstance):e.parentInstance:void 0}_getOptionValue(e,r="",i={}){return Lu(e,r,i)}ngOnInit(){this.document&&this._loadStyles()}ngAfterViewInit(){this.rootEl=this.el?.nativeElement,this.rootEl&&this.rootEl?.setAttribute(this.attrSelector,"")}ngOnChanges(e){if(this.document&&!bs(this.platformId)){let{dt:r}=e;r&&r.currentValue&&(this._loadScopedThemeStyles(r.currentValue),this._themeChangeListener(()=>this._loadScopedThemeStyles(r.currentValue)))}}ngOnDestroy(){this._unloadScopedThemeStyles(),this.themeChangeListeners.forEach(e=>Jt.off("theme:change",e))}_loadStyles(){let e=()=>{Ns.isStyleNameLoaded("base")||(this.baseStyle.loadGlobalCSS(this.styleOptions),Ns.setLoadedStyleName("base")),this._loadThemeStyles()};e(),this._themeChangeListener(()=>e())}_loadCoreStyles(){!Ns.isStyleNameLoaded("base")&&this._name&&(this.baseComponentStyle.loadCSS(this.styleOptions),this.componentStyle&&this.componentStyle?.loadCSS(this.styleOptions),Ns.setLoadedStyleName(this.componentStyle?.name))}_loadThemeStyles(){if(!Fe.isStyleNameLoaded("common")){let{primitive:e,semantic:r,global:i,style:s}=this.componentStyle?.getCommonTheme?.()||{};this.baseStyle.load(e?.css,x({name:"primitive-variables"},this.styleOptions)),this.baseStyle.load(r?.css,x({name:"semantic-variables"},this.styleOptions)),this.baseStyle.load(i?.css,x({name:"global-variables"},this.styleOptions)),this.baseStyle.loadGlobalTheme(x({name:"global-style"},this.styleOptions),s),Fe.setLoadedStyleName("common")}if(!Fe.isStyleNameLoaded(this.componentStyle?.name)&&this.componentStyle?.name){let{css:e,style:r}=this.componentStyle?.getComponentTheme?.()||{};this.componentStyle?.load(e,x({name:`${this.componentStyle?.name}-variables`},this.styleOptions)),this.componentStyle?.loadTheme(x({name:`${this.componentStyle?.name}-style`},this.styleOptions),r),Fe.setLoadedStyleName(this.componentStyle?.name)}if(!Fe.isStyleNameLoaded("layer-order")){let e=this.componentStyle?.getLayerOrderThemeCSS?.();this.baseStyle.load(e,x({name:"layer-order",first:!0},this.styleOptions)),Fe.setLoadedStyleName("layer-order")}this.dt&&(this._loadScopedThemeStyles(this.dt),this._themeChangeListener(()=>this._loadScopedThemeStyles(this.dt)))}_loadScopedThemeStyles(e){let{css:r}=this.componentStyle?.getPresetTheme?.(e,`[${this.attrSelector}]`)||{},i=this.componentStyle?.load(r,x({name:`${this.attrSelector}-${this.componentStyle?.name}`},this.styleOptions));this.scopedStyleEl=i?.el}_unloadScopedThemeStyles(){this.scopedStyleEl?.remove()}_themeChangeListener(e=()=>{}){Ns.clearLoadedStyleNames(),Jt.on("theme:change",e),this.themeChangeListeners.push(e)}cx(e,r){let i=this.parent?this.parent.componentStyle?.classes?.[e]:this.componentStyle?.classes?.[e];return typeof i=="function"?i({instance:this}):typeof i=="string"?i:e}sx(e){let r=this.componentStyle?.inlineStyles?.[e];return typeof r=="function"?r({instance:this}):typeof r=="string"?r:x({},r)}get parent(){return this.parentInstance}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ge({type:n,inputs:{dt:"dt"},features:[we([u0,Re]),rt]})}return n})();var QD=({dt:n})=>`
.p-inputtext {
    font-family: inherit;
    font-feature-settings: inherit;
    font-size: 1rem;
    color: ${n("inputtext.color")};
    background: ${n("inputtext.background")};
    padding-block: ${n("inputtext.padding.y")};
    padding-inline: ${n("inputtext.padding.x")};
    border: 1px solid ${n("inputtext.border.color")};
    transition: background ${n("inputtext.transition.duration")}, color ${n("inputtext.transition.duration")}, border-color ${n("inputtext.transition.duration")}, outline-color ${n("inputtext.transition.duration")}, box-shadow ${n("inputtext.transition.duration")};
    appearance: none;
    border-radius: ${n("inputtext.border.radius")};
    outline-color: transparent;
    box-shadow: ${n("inputtext.shadow")};
}

.p-inputtext.ng-invalid.ng-dirty {
    border-color: ${n("inputtext.invalid.border.color")};
}

.p-inputtext:enabled:hover {
    border-color: ${n("inputtext.hover.border.color")};
}

.p-inputtext:enabled:focus {
    border-color: ${n("inputtext.focus.border.color")};
    box-shadow: ${n("inputtext.focus.ring.shadow")};
    outline: ${n("inputtext.focus.ring.width")} ${n("inputtext.focus.ring.style")} ${n("inputtext.focus.ring.color")};
    outline-offset: ${n("inputtext.focus.ring.offset")};
}

.p-inputtext.p-invalid {
    border-color: ${n("inputtext.invalid.border.color")};
}

.p-inputtext.p-variant-filled {
    background: ${n("inputtext.filled.background")};
}
    
.p-inputtext.p-variant-filled:enabled:hover {
    background: ${n("inputtext.filled.hover.background")};
}

.p-inputtext.p-variant-filled:enabled:focus {
    background: ${n("inputtext.filled.focus.background")};
}

.p-inputtext:disabled {
    opacity: 1;
    background: ${n("inputtext.disabled.background")};
    color: ${n("inputtext.disabled.color")};
}

.p-inputtext::placeholder {
    color: ${n("inputtext.placeholder.color")};
}

.p-inputtext.ng-invalid.ng-dirty::placeholder {
    color: ${n("inputtext.invalid.placeholder.color")};
}

.p-inputtext-sm {
    font-size: ${n("inputtext.sm.font.size")};
    padding-block: ${n("inputtext.sm.padding.y")};
    padding-inline: ${n("inputtext.sm.padding.x")};
}

.p-inputtext-lg {
    font-size: ${n("inputtext.lg.font.size")};
    padding-block: ${n("inputtext.lg.padding.y")};
    padding-inline: ${n("inputtext.lg.padding.x")};
}

.p-inputtext-fluid {
    width: 100%;
}
`,YD={root:({instance:n,props:t})=>["p-inputtext p-component",{"p-filled":n.filled,"p-inputtext-sm":t.size==="small","p-inputtext-lg":t.size==="large","p-invalid":t.invalid,"p-variant-filled":t.variant==="filled","p-inputtext-fluid":t.fluid}]},l0=(()=>{class n extends Re{name="inputtext";theme=QD;classes=YD;static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();var d0=(()=>{class n extends xe{ngModel;variant;fluid;pSize;filled;_componentStyle=O(l0);get hasFluid(){let r=this.el.nativeElement.closest("p-fluid");return _t(this.fluid)?!!r:this.fluid}constructor(e){super(),this.ngModel=e}ngAfterViewInit(){super.ngAfterViewInit(),this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(r){return new(r||n)(Y(wf,8))};static \u0275dir=ge({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component"],hostVars:14,hostBindings:function(r,i){if(r&1&&Qe("input",function(o){return i.onInput(o)}),r&2){let s;st("p-filled",i.filled)("p-variant-filled",((s=i.variant)!==null&&s!==void 0?s:i.config.inputStyle()||i.config.inputVariant())==="filled")("p-inputtext-fluid",i.hasFluid)("p-inputtext-sm",i.pSize==="small")("p-inputfield-sm",i.pSize==="small")("p-inputtext-lg",i.pSize==="large")("p-inputfield-lg",i.pSize==="large")}},inputs:{variant:"variant",fluid:[2,"fluid","fluid",te],pSize:"pSize"},features:[we([l0]),X]})}return n})(),h0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({})}return n})();var XD=({dt:n})=>`
/* For PrimeNG */
.p-ripple {
    overflow: hidden;
    position: relative;
}

.p-ink {
    display: block;
    position: absolute;
    background: ${n("ripple.background")};
    border-radius: 100%;
    transform: scale(0);
}

.p-ink-active {
    animation: ripple 0.4s linear;
}

.p-ripple-disabled .p-ink {
    display: none !important;
}

@keyframes ripple {
    100% {
        opacity: 0;
        transform: scale(2.5);
    }
}
`,JD={root:"p-ink"},f0=(()=>{class n extends Re{name="ripple";theme=XD;classes=JD;static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();var p0=(()=>{class n extends xe{zone=O(Be);_componentStyle=O(f0);animationListener;mouseDownListener;timeout;constructor(){super(),vs(()=>{ua(this.platformId)&&(this.config.ripple()?this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))}):this.remove())})}ngAfterViewInit(){super.ngAfterViewInit()}onMouseDown(e){let r=this.getInk();if(!r||this.document.defaultView?.getComputedStyle(r,null).display==="none")return;if(Di(r,"p-ink-active"),!Af(r)&&!Rf(r)){let c=Math.max(Cf(this.el.nativeElement),Mu(this.el.nativeElement));r.style.height=c+"px",r.style.width=c+"px"}let i=Df(this.el.nativeElement),s=e.pageX-i.left+this.document.body.scrollTop-Rf(r)/2,o=e.pageY-i.top+this.document.body.scrollLeft-Af(r)/2;this.renderer.setStyle(r,"top",o+"px"),this.renderer.setStyle(r,"left",s+"px"),Nr(r,"p-ink-active"),this.timeout=setTimeout(()=>{let c=this.getInk();c&&Di(c,"p-ink-active")},401)}getInk(){let e=this.el.nativeElement.children;for(let r=0;r<e.length;r++)if(typeof e[r].className=="string"&&e[r].className.indexOf("p-ink")!==-1)return e[r];return null}resetInk(){let e=this.getInk();e&&Di(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),Di(e.currentTarget,"p-ink-active")}create(){let e=this.renderer.createElement("span");this.renderer.addClass(e,"p-ink"),this.renderer.appendChild(this.el.nativeElement,e),this.renderer.setAttribute(e,"aria-hidden","true"),this.renderer.setAttribute(e,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(e,"animationend",this.onAnimationEnd.bind(this)))}remove(){let e=this.getInk();e&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,Qb(e))}ngOnDestroy(){this.config&&this.config.ripple()&&this.remove(),super.ngOnDestroy()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ge({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple"],features:[we([f0]),X]})}return n})(),u3=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({})}return n})();var Lf=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(e,r){e&&r&&(e.classList?e.classList.add(r):e.className+=" "+r)}static addMultipleClasses(e,r){if(e&&r)if(e.classList){let i=r.trim().split(" ");for(let s=0;s<i.length;s++)e.classList.add(i[s])}else{let i=r.split(" ");for(let s=0;s<i.length;s++)e.className+=" "+i[s]}}static removeClass(e,r){e&&r&&(e.classList?e.classList.remove(r):e.className=e.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(e,r){e&&r&&[r].flat().filter(Boolean).forEach(i=>i.split(" ").forEach(s=>this.removeClass(e,s)))}static hasClass(e,r){return e&&r?e.classList?e.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(e.className):!1}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(r){return r!==e})}static find(e,r){return Array.from(e.querySelectorAll(r))}static findSingle(e,r){return this.isElement(e)?e.querySelector(r):null}static index(e){let r=e.parentNode.childNodes,i=0;for(var s=0;s<r.length;s++){if(r[s]==e)return i;r[s].nodeType==1&&i++}return-1}static indexWithinGroup(e,r){let i=e.parentNode?e.parentNode.childNodes:[],s=0;for(var o=0;o<i.length;o++){if(i[o]==e)return s;i[o].attributes&&i[o].attributes[r]&&i[o].nodeType==1&&s++}return-1}static appendOverlay(e,r,i="self"){i!=="self"&&e&&r&&this.appendChild(e,r)}static alignOverlay(e,r,i="self",s=!0){e&&r&&(s&&(e.style.minWidth=`${n.getOuterWidth(r)}px`),i==="self"?this.relativePosition(e,r):this.absolutePosition(e,r))}static relativePosition(e,r,i=!0){let s=U=>{if(U)return getComputedStyle(U).getPropertyValue("position")==="relative"?U:s(U.parentElement)},o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),c=r.offsetHeight,u=r.getBoundingClientRect(),l=this.getWindowScrollTop(),f=this.getWindowScrollLeft(),p=this.getViewport(),y=s(e)?.getBoundingClientRect()||{top:-1*l,left:-1*f},A,P;u.top+c+o.height>p.height?(A=u.top-y.top-o.height,e.style.transformOrigin="bottom",u.top+A<0&&(A=-1*u.top)):(A=c+u.top-y.top,e.style.transformOrigin="top");let D=u.left+o.width-p.width,V=u.left-y.left;o.width>p.width?P=(u.left-y.left)*-1:D>0?P=V-D:P=u.left-y.left,e.style.top=A+"px",e.style.left=P+"px",i&&(e.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(e,r,i=!0){let s=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=s.height,c=s.width,u=r.offsetHeight,l=r.offsetWidth,f=r.getBoundingClientRect(),p=this.getWindowScrollTop(),m=this.getWindowScrollLeft(),y=this.getViewport(),A,P;f.top+u+o>y.height?(A=f.top+p-o,e.style.transformOrigin="bottom",A<0&&(A=p)):(A=u+f.top+p,e.style.transformOrigin="top"),f.left+c>y.width?P=Math.max(0,f.left+m+l-c):P=f.left+m,e.style.top=A+"px",e.style.left=P+"px",i&&(e.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(e,r=[]){return e.parentNode===null?r:this.getParents(e.parentNode,r.concat([e.parentNode]))}static getScrollableParents(e){let r=[];if(e){let i=this.getParents(e),s=/(auto|scroll)/,o=c=>{let u=window.getComputedStyle(c,null);return s.test(u.getPropertyValue("overflow"))||s.test(u.getPropertyValue("overflowX"))||s.test(u.getPropertyValue("overflowY"))};for(let c of i){let u=c.nodeType===1&&c.dataset.scrollselectors;if(u){let l=u.split(",");for(let f of l){let p=this.findSingle(c,f);p&&o(p)&&r.push(p)}}c.nodeType!==9&&o(c)&&r.push(c)}}return r}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let r=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",r}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let r=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",r}static getHiddenElementDimensions(e){let r={};return e.style.visibility="hidden",e.style.display="block",r.width=e.offsetWidth,r.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",r}static scrollInView(e,r){let i=getComputedStyle(e).getPropertyValue("borderTopWidth"),s=i?parseFloat(i):0,o=getComputedStyle(e).getPropertyValue("paddingTop"),c=o?parseFloat(o):0,u=e.getBoundingClientRect(),f=r.getBoundingClientRect().top+document.body.scrollTop-(u.top+document.body.scrollTop)-s-c,p=e.scrollTop,m=e.clientHeight,y=this.getOuterHeight(r);f<0?e.scrollTop=p+f:f+y>m&&(e.scrollTop=p+f-m+y)}static fadeIn(e,r){e.style.opacity=0;let i=+new Date,s=0,o=function(){s=+e.style.opacity.replace(",",".")+(new Date().getTime()-i)/r,e.style.opacity=s,i=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(e,r){var i=1,s=50,o=r,c=s/o;let u=setInterval(()=>{i=i-c,i<=0&&(i=0,clearInterval(u)),e.style.opacity=i},s)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,r){var i=Element.prototype,s=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(o){return[].indexOf.call(document.querySelectorAll(o),this)!==-1};return s.call(e,r)}static getOuterWidth(e,r){let i=e.offsetWidth;if(r){let s=getComputedStyle(e);i+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return i}static getHorizontalPadding(e){let r=getComputedStyle(e);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(e){let r=getComputedStyle(e);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(e){let r=e.offsetWidth,i=getComputedStyle(e);return r+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static width(e){let r=e.offsetWidth,i=getComputedStyle(e);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static getInnerHeight(e){let r=e.offsetHeight,i=getComputedStyle(e);return r+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),r}static getOuterHeight(e,r){let i=e.offsetHeight;if(r){let s=getComputedStyle(e);i+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return i}static getHeight(e){let r=e.offsetHeight,i=getComputedStyle(e);return r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),r}static getWidth(e){let r=e.offsetWidth,i=getComputedStyle(e);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),r}static getViewport(){let e=window,r=document,i=r.documentElement,s=r.getElementsByTagName("body")[0],o=e.innerWidth||i.clientWidth||s.clientWidth,c=e.innerHeight||i.clientHeight||s.clientHeight;return{width:o,height:c}}static getOffset(e){var r=e.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,r){let i=e.parentNode;if(!i)throw"Can't replace element";return i.replaceChild(r,e)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var e=window.navigator.userAgent,r=e.indexOf("MSIE ");if(r>0)return!0;var i=e.indexOf("Trident/");if(i>0){var s=e.indexOf("rv:");return!0}var o=e.indexOf("Edge/");return o>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,r){if(this.isElement(r))r.appendChild(e);else if(r&&r.el&&r.el.nativeElement)r.el.nativeElement.appendChild(e);else throw"Cannot append "+r+" to "+e}static removeChild(e,r){if(this.isElement(r))r.removeChild(e);else if(r.el&&r.el.nativeElement)r.el.nativeElement.removeChild(e);else throw"Cannot remove "+e+" from "+r}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"}static calculateScrollbarWidth(e){if(e){let r=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let i=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=i,i}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let r=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(e,r,i){e[r].apply(e,i)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||e.offsetParent===null}static isVisible(e){return e&&e.offsetParent!=null}static isExist(e){return e!==null&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,r){e&&document.activeElement!==e&&e.focus(r)}static getFocusableSelectorString(e=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`}static getFocusableElements(e,r=""){let i=this.find(e,this.getFocusableSelectorString(r)),s=[];for(let o of i){let c=getComputedStyle(o);this.isVisible(o)&&c.display!="none"&&c.visibility!="hidden"&&s.push(o)}return s}static getFocusableElement(e,r=""){let i=this.findSingle(e,this.getFocusableSelectorString(r));if(i){let s=getComputedStyle(i);if(this.isVisible(i)&&s.display!="none"&&s.visibility!="hidden")return i}return null}static getFirstFocusableElement(e,r=""){let i=this.getFocusableElements(e,r);return i.length>0?i[0]:null}static getLastFocusableElement(e,r){let i=this.getFocusableElements(e,r);return i.length>0?i[i.length-1]:null}static getNextFocusableElement(e,r=!1){let i=n.getFocusableElements(e),s=0;if(i&&i.length>0){let o=i.indexOf(i[0].ownerDocument.activeElement);r?o==-1||o===0?s=i.length-1:s=o-1:o!=-1&&o!==i.length-1&&(s=o+1)}return i[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,r){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return r?.nextElementSibling;case"@prev":return r?.previousElementSibling;case"@parent":return r?.parentElement;case"@grandparent":return r?.parentElement.parentElement;default:let i=typeof e;if(i==="string")return document.querySelector(e);if(i==="object"&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;let o=(c=>!!(c&&c.constructor&&c.call&&c.apply))(e)?e():e;return o&&o.nodeType===9||this.isExist(o)?o:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(e,r){if(e){let i=e.getAttribute(r);return isNaN(i)?i==="true"||i==="false"?i==="true":i:+i}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(e="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)}static unblockBodyScroll(e="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}static createElement(e,r={},...i){if(e){let s=document.createElement(e);return this.setAttributes(s,r),s.append(...i),s}}static setAttribute(e,r="",i){this.isElement(e)&&i!==null&&i!==void 0&&e.setAttribute(r,i)}static setAttributes(e,r={}){if(this.isElement(e)){let i=(s,o)=>{let c=e?.$attrs?.[s]?[e?.$attrs?.[s]]:[];return[o].flat().reduce((u,l)=>{if(l!=null){let f=typeof l;if(f==="string"||f==="number")u.push(l);else if(f==="object"){let p=Array.isArray(l)?i(s,l):Object.entries(l).map(([m,y])=>s==="style"&&(y||y===0)?`${m.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${y}`:y?m:void 0);u=p.length?u.concat(p.filter(m=>!!m)):u}}return u},c)};Object.entries(r).forEach(([s,o])=>{if(o!=null){let c=s.match(/^on(.+)/);c?e.addEventListener(c[1].toLowerCase(),o):s==="pBind"?this.setAttributes(e,o):(o=s==="class"?[...new Set(i("class",o))].join(" ").trim():s==="style"?i("style",o).join(";").trim():o,(e.$attrs=e.$attrs||{})&&(e.$attrs[s]=o),e.setAttribute(s,o))}})}}static isFocusableElement(e,r=""){return this.isElement(e)?e.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r}`):!1}}return n})(),g0=class{element;listener;scrollableParents;constructor(t,e=()=>{}){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=Lf.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}};var Fs=(()=>{class n extends xe{autofocus=!1;_autofocus=!1;focused=!1;platformId=O(Lt);document=O(Oe);host=O(xt);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){ua(this.platformId)&&this._autofocus&&setTimeout(()=>{let e=Lf.getFocusableElements(this.host?.nativeElement);e.length===0&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275dir=ge({type:n,selectors:[["","pAutoFocus",""]],inputs:{autofocus:[2,"autofocus","autofocus",te],_autofocus:[0,"pAutoFocus","_autofocus"]},features:[X]})}return n})(),v3=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({})}return n})();var ZD=({dt:n})=>`
.p-badge {
    display: inline-flex;
    border-radius: ${n("badge.border.radius")};
    justify-content: center;
    padding: ${n("badge.padding")};
    background: ${n("badge.primary.background")};
    color: ${n("badge.primary.color")};
    font-size: ${n("badge.font.size")};
    font-weight: ${n("badge.font.weight")};
    min-width: ${n("badge.min.width")};
    height: ${n("badge.height")};
    line-height: ${n("badge.height")};
}

.p-badge-dot {
    width: ${n("badge.dot.size")};
    min-width: ${n("badge.dot.size")};
    height: ${n("badge.dot.size")};
    border-radius: 50%;
    padding: 0;
}

.p-badge-circle {
    padding: 0;
    border-radius: 50%;
}

.p-badge-secondary {
    background: ${n("badge.secondary.background")};
    color: ${n("badge.secondary.color")};
}

.p-badge-success {
    background: ${n("badge.success.background")};
    color: ${n("badge.success.color")};
}

.p-badge-info {
    background: ${n("badge.info.background")};
    color: ${n("badge.info.color")};
}

.p-badge-warn {
    background: ${n("badge.warn.background")};
    color: ${n("badge.warn.color")};
}

.p-badge-danger {
    background: ${n("badge.danger.background")};
    color: ${n("badge.danger.color")};
}

.p-badge-contrast {
    background: ${n("badge.contrast.background")};
    color: ${n("badge.contrast.color")};
}

.p-badge-sm {
    font-size: ${n("badge.sm.font.size")};
    min-width: ${n("badge.sm.min.width")};
    height: ${n("badge.sm.height")};
    line-height: ${n("badge.sm.height")};
}

.p-badge-lg {
    font-size: ${n("badge.lg.font.size")};
    min-width: ${n("badge.lg.min.width")};
    height: ${n("badge.lg.height")};
    line-height: ${n("badge.lg.height")};
}

.p-badge-xl {
    font-size: ${n("badge.xl.font.size")};
    min-width: ${n("badge.xl.min.width")};
    height: ${n("badge.xl.height")};
    line-height: ${n("badge.xl.height")};
}

/* For PrimeNG (directive)*/

.p-overlay-badge {
    position: relative;
}

.p-overlay-badge > .p-badge {
    position: absolute;
    top: 0;
    inset-inline-end: 0;
    transform: translate(50%, -50%);
    transform-origin: 100% 0;
    margin: 0;
}
`,e1={root:({props:n,instance:t})=>["p-badge p-component",{"p-badge-circle":Me(n.value)&&String(n.value).length===1,"p-badge-dot":_t(n.value)&&!t.$slots.default,"p-badge-sm":n.size==="small","p-badge-lg":n.size==="large","p-badge-xl":n.size==="xlarge","p-badge-info":n.severity==="info","p-badge-success":n.severity==="success","p-badge-warn":n.severity==="warn","p-badge-danger":n.severity==="danger","p-badge-secondary":n.severity==="secondary","p-badge-contrast":n.severity==="contrast"}]},m0=(()=>{class n extends Re{name="badge";theme=ZD;classes=e1;static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();var Vf=(()=>{class n extends xe{styleClass=On();style=On();badgeSize=On();size=On();severity=On();value=On();badgeDisabled=On(!1,{transform:te});_componentStyle=O(m0);containerClass=pn(()=>{let e="p-badge p-component";return Me(this.value())&&String(this.value()).length===1&&(e+=" p-badge-circle"),this.badgeSize()==="large"?e+=" p-badge-lg":this.badgeSize()==="xlarge"?e+=" p-badge-xl":this.badgeSize()==="small"&&(e+=" p-badge-sm"),_t(this.value())&&(e+=" p-badge-dot"),this.styleClass()&&(e+=` ${this.styleClass()}`),this.severity()&&(e+=` p-badge-${this.severity()}`),e});static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275cmp=de({type:n,selectors:[["p-badge"]],hostVars:6,hostBindings:function(r,i){r&2&&(_s(i.style()),Ie(i.containerClass()),vv("display",i.badgeDisabled()?"none":null))},inputs:{styleClass:[1,"styleClass"],style:[1,"style"],badgeSize:[1,"badgeSize"],size:[1,"size"],severity:[1,"severity"],value:[1,"value"],badgeDisabled:[1,"badgeDisabled"]},features:[we([m0]),X],decls:1,vars:1,template:function(r,i){r&1&&iu(0),r&2&&su(i.value())},dependencies:[Ue,Le],encapsulation:2,changeDetection:0})}return n})(),y0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({imports:[Vf,Le,Le]})}return n})();var n1=["*"],r1=`
.p-icon {
    display: inline-block;
    vertical-align: baseline;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,i1=(()=>{class n extends Re{name="baseicon";inlineStyles=r1;static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();var Bt=(()=>{class n extends xe{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){super.ngOnInit(),this.getAttributes()}getAttributes(){let e=_t(this.label);this.role=e?void 0:"img",this.ariaLabel=e?void 0:this.label,this.ariaHidden=e}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275cmp=de({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-component","p-iconwrapper"],inputs:{label:"label",spin:[2,"spin","spin",te],styleClass:"styleClass"},features:[we([i1]),X],ngContentSelectors:n1,decls:1,vars:0,template:function(r,i){r&1&&(gt(),mt(0))},encapsulation:2,changeDetection:0})}return n})();var _0=(()=>{class n extends Bt{static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275cmp=de({type:n,selectors:[["AngleDownIcon"]],features:[X],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(r,i){r&1&&(Ft(),Se(0,"svg",0),fe(1,"path",1),Ae()),r&2&&(Ie(i.getClassNames()),W("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})();var v0=(()=>{class n extends Bt{static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275cmp=de({type:n,selectors:[["AngleUpIcon"]],features:[X],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z","fill","currentColor"]],template:function(r,i){r&1&&(Ft(),Se(0,"svg",0),fe(1,"path",1),Ae()),r&2&&(Ie(i.getClassNames()),W("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})();var Q3=(()=>{class n extends Bt{static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275cmp=de({type:n,selectors:[["CheckIcon"]],features:[X],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(r,i){r&1&&(Ft(),Se(0,"svg",0),fe(1,"path",1),Ae()),r&2&&(Ie(i.getClassNames()),W("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})();var b0=(()=>{class n extends Bt{pathId;ngOnInit(){this.pathId="url(#"+yn()+")"}static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275cmp=de({type:n,selectors:[["SpinnerIcon"]],features:[X],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,i){r&1&&(Ft(),Se(0,"svg",0)(1,"g"),fe(2,"path",1),Ae(),Se(3,"defs")(4,"clipPath",2),fe(5,"rect",3),Ae()()()),r&2&&(Ie(i.getClassNames()),W("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),q(),W("clip-path",i.pathId),q(3),L("id",i.pathId))},encapsulation:2})}return n})();var w0=(()=>{class n extends Bt{pathId;ngOnInit(){this.pathId="url(#"+yn()+")"}static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275cmp=de({type:n,selectors:[["StarIcon"]],features:[X],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.9741 13.6721C10.8806 13.6719 10.7886 13.6483 10.7066 13.6033L7.00002 11.6545L3.29345 13.6033C3.19926 13.6539 3.09281 13.6771 2.98612 13.6703C2.87943 13.6636 2.77676 13.6271 2.6897 13.5651C2.60277 13.5014 2.53529 13.4147 2.4948 13.3148C2.45431 13.215 2.44241 13.1058 2.46042 12.9995L3.17881 8.87264L0.167699 5.95324C0.0922333 5.8777 0.039368 5.78258 0.0150625 5.67861C-0.00924303 5.57463 -0.00402231 5.46594 0.030136 5.36477C0.0621323 5.26323 0.122141 5.17278 0.203259 5.10383C0.284377 5.03488 0.383311 4.99023 0.488681 4.97501L4.63087 4.37126L6.48797 0.618832C6.54083 0.530159 6.61581 0.456732 6.70556 0.405741C6.79532 0.35475 6.89678 0.327942 7.00002 0.327942C7.10325 0.327942 7.20471 0.35475 7.29447 0.405741C7.38422 0.456732 7.4592 0.530159 7.51206 0.618832L9.36916 4.37126L13.5114 4.97501C13.6167 4.99023 13.7157 5.03488 13.7968 5.10383C13.8779 5.17278 13.9379 5.26323 13.9699 5.36477C14.0041 5.46594 14.0093 5.57463 13.985 5.67861C13.9607 5.78258 13.9078 5.8777 13.8323 5.95324L10.8212 8.87264L11.532 12.9995C11.55 13.1058 11.5381 13.215 11.4976 13.3148C11.4571 13.4147 11.3896 13.5014 11.3027 13.5651C11.2059 13.632 11.0917 13.6692 10.9741 13.6721ZM7.00002 10.4393C7.09251 10.4404 7.18371 10.4613 7.2675 10.5005L10.2098 12.029L9.65193 8.75036C9.6368 8.6584 9.64343 8.56418 9.6713 8.47526C9.69918 8.38633 9.74751 8.30518 9.81242 8.23832L12.1969 5.94559L8.90298 5.45648C8.81188 5.44198 8.72555 5.406 8.65113 5.35152C8.57671 5.29703 8.51633 5.2256 8.475 5.14314L7.00002 2.1626L5.52503 5.15078C5.4837 5.23324 5.42332 5.30467 5.3489 5.35916C5.27448 5.41365 5.18815 5.44963 5.09705 5.46412L1.80318 5.94559L4.18761 8.23832C4.25252 8.30518 4.30085 8.38633 4.32873 8.47526C4.3566 8.56418 4.36323 8.6584 4.3481 8.75036L3.7902 12.0519L6.73253 10.5234C6.81451 10.4762 6.9058 10.4475 7.00002 10.4393Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,i){r&1&&(Ft(),Se(0,"svg",0)(1,"g"),fe(2,"path",1),Ae(),Se(3,"defs")(4,"clipPath",2),fe(5,"rect",3),Ae()()()),r&2&&(Ie(i.getClassNames()),W("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),q(),W("clip-path",i.pathId),q(3),L("id",i.pathId))},encapsulation:2})}return n})();var E0=(()=>{class n extends Bt{pathId;ngOnInit(){this.pathId="url(#"+yn()+")"}static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275cmp=de({type:n,selectors:[["StarFillIcon"]],features:[X],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.9718 5.36453C13.9398 5.26298 13.8798 5.17252 13.7986 5.10356C13.7175 5.0346 13.6186 4.98994 13.5132 4.97472L9.37043 4.37088L7.51307 0.617955C7.46021 0.529271 7.38522 0.455834 7.29545 0.404836C7.20568 0.353838 7.1042 0.327026 7.00096 0.327026C6.89771 0.327026 6.79624 0.353838 6.70647 0.404836C6.6167 0.455834 6.54171 0.529271 6.48885 0.617955L4.63149 4.37088L0.488746 4.97472C0.383363 4.98994 0.284416 5.0346 0.203286 5.10356C0.122157 5.17252 0.0621407 5.26298 0.03014 5.36453C-0.00402286 5.46571 -0.00924428 5.57442 0.0150645 5.67841C0.0393733 5.7824 0.0922457 5.87753 0.167722 5.95308L3.17924 8.87287L2.4684 13.0003C2.45038 13.1066 2.46229 13.2158 2.50278 13.3157C2.54328 13.4156 2.61077 13.5022 2.6977 13.5659C2.78477 13.628 2.88746 13.6644 2.99416 13.6712C3.10087 13.678 3.20733 13.6547 3.30153 13.6042L7.00096 11.6551L10.708 13.6042C10.79 13.6491 10.882 13.6728 10.9755 13.673C11.0958 13.6716 11.2129 13.6343 11.3119 13.5659C11.3988 13.5022 11.4663 13.4156 11.5068 13.3157C11.5473 13.2158 11.5592 13.1066 11.5412 13.0003L10.8227 8.87287L13.8266 5.95308C13.9033 5.87835 13.9577 5.7836 13.9833 5.67957C14.009 5.57554 14.005 5.4664 13.9718 5.36453Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,i){r&1&&(Ft(),Se(0,"svg",0)(1,"g"),fe(2,"path",1),Ae(),Se(3,"defs")(4,"clipPath",2),fe(5,"rect",3),Ae()()()),r&2&&(Ie(i.getClassNames()),W("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),q(),W("clip-path",i.pathId),q(3),L("id",i.pathId))},encapsulation:2})}return n})();var I0=(()=>{class n extends Bt{static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275cmp=de({type:n,selectors:[["TimesIcon"]],features:[X],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(r,i){r&1&&(Ft(),Se(0,"svg",0),fe(1,"path",1),Ae()),r&2&&(Ie(i.getClassNames()),W("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})();var s1=["content"],o1=["loading"],a1=["icon"],c1=["*"],S0=n=>({class:n});function u1(n,t){n&1&&ru(0)}function l1(n,t){if(n&1&&fe(0,"span",8),n&2){let e=z(3);L("ngClass",e.iconClass()),W("aria-hidden",!0)("data-pc-section","loadingicon")}}function d1(n,t){if(n&1&&fe(0,"SpinnerIcon",9),n&2){let e=z(3);L("styleClass",e.spinnerIconClass())("spin",!0),W("aria-hidden",!0)("data-pc-section","loadingicon")}}function h1(n,t){if(n&1&&(Vt(0),Te(1,l1,1,3,"span",6)(2,d1,1,4,"SpinnerIcon",7),Ut()),n&2){let e=z(2);q(),L("ngIf",e.loadingIcon),q(),L("ngIf",!e.loadingIcon)}}function f1(n,t){}function p1(n,t){if(n&1&&Te(0,f1,0,0,"ng-template",10),n&2){let e=z(2);L("ngIf",e.loadingIconTemplate||e._loadingIconTemplate)}}function g1(n,t){if(n&1&&(Vt(0),Te(1,h1,3,2,"ng-container",2)(2,p1,1,1,null,5),Ut()),n&2){let e=z();q(),L("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate),q(),L("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)("ngTemplateOutletContext",Vh(3,S0,e.iconClass()))}}function m1(n,t){if(n&1&&fe(0,"span",8),n&2){let e=z(2);Ie(e.icon),L("ngClass",e.iconClass()),W("data-pc-section","icon")}}function y1(n,t){}function _1(n,t){if(n&1&&Te(0,y1,0,0,"ng-template",10),n&2){let e=z(2);L("ngIf",!e.icon&&(e.iconTemplate||e._iconTemplate))}}function v1(n,t){if(n&1&&(Vt(0),Te(1,m1,1,4,"span",11)(2,_1,1,1,null,5),Ut()),n&2){let e=z();q(),L("ngIf",e.icon&&!e.iconTemplate&&!e._iconTemplate),q(),L("ngTemplateOutlet",e.iconTemplate||e._iconTemplate)("ngTemplateOutletContext",Vh(3,S0,e.iconClass()))}}function b1(n,t){if(n&1&&(Se(0,"span",12),iu(1),Ae()),n&2){let e=z();W("aria-hidden",e.icon&&!e.label)("data-pc-section","label"),q(),su(e.label)}}function w1(n,t){if(n&1&&fe(0,"p-badge",13),n&2){let e=z();L("value",e.badge)("severity",e.badgeSeverity)}}var E1=({dt:n})=>`
.p-button {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    color: ${n("button.primary.color")};
    background: ${n("button.primary.background")};
    border: 1px solid ${n("button.primary.border.color")};
    padding-block: ${n("button.padding.y")};
    padding-inline: ${n("button.padding.x")};
    font-size: 1rem;
    font-family: inherit;
    font-feature-settings: inherit;
    transition: background ${n("button.transition.duration")}, color ${n("button.transition.duration")}, border-color ${n("button.transition.duration")},
            outline-color ${n("button.transition.duration")}, box-shadow ${n("button.transition.duration")};
    border-radius: ${n("button.border.radius")};
    outline-color: transparent;
    gap: ${n("button.gap")};
}

.p-button-icon,
.p-button-icon:before,
.p-button-icon:after {
    line-height: inherit;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-right {
    order: 1;
}

.p-button-icon-right:dir(rtl) {
    order: -1;
}

.p-button:not(.p-button-vertical) .p-button-icon:not(.p-button-icon-right):dir(rtl) {
    order: 1;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-icon-only {
    width: ${n("button.icon.only.width")};
    padding-inline-start: 0;
    padding-inline-end: 0;
    gap: 0;
}

.p-button-icon-only.p-button-rounded {
    border-radius: 50%;
    height: ${n("button.icon.only.width")};
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
}

.p-button-sm {
    font-size: ${n("button.sm.font.size")};
    padding-block: ${n("button.sm.padding.y")};
    padding-inline: ${n("button.sm.padding.x")};
}

.p-button-sm .p-button-icon {
    font-size: ${n("button.sm.font.size")};
}

.p-button-lg {
    font-size: ${n("button.lg.font.size")};
    padding-block: ${n("button.lg.padding.y")};
    padding-inline: ${n("button.lg.padding.x")};
}

.p-button-lg .p-button-icon {
    font-size: ${n("button.lg.font.size")};
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-label {
    font-weight: ${n("button.label.font.weight")};
}

.p-button-fluid {
    width: 100%;
}

.p-button-fluid.p-button-icon-only {
    width: ${n("button.icon.only.width")};
}

.p-button:not(:disabled):hover {
    background: ${n("button.primary.hover.background")};
    border: 1px solid ${n("button.primary.hover.border.color")};
    color: ${n("button.primary.hover.color")};
}

.p-button:not(:disabled):active {
    background: ${n("button.primary.active.background")};
    border: 1px solid ${n("button.primary.active.border.color")};
    color: ${n("button.primary.active.color")};
}

.p-button:focus-visible {
    box-shadow: ${n("button.primary.focus.ring.shadow")};
    outline: ${n("button.focus.ring.width")} ${n("button.focus.ring.style")} ${n("button.primary.focus.ring.color")};
    outline-offset: ${n("button.focus.ring.offset")};
}

.p-button .p-badge {
    min-width: ${n("button.badge.size")};
    height: ${n("button.badge.size")};
    line-height: ${n("button.badge.size")};
}

.p-button-raised {
    box-shadow: ${n("button.raised.shadow")};
}

.p-button-rounded {
    border-radius: ${n("button.rounded.border.radius")};
}

.p-button-secondary {
    background: ${n("button.secondary.background")};
    border: 1px solid ${n("button.secondary.border.color")};
    color: ${n("button.secondary.color")};
}

.p-button-secondary:not(:disabled):hover {
    background: ${n("button.secondary.hover.background")};
    border: 1px solid ${n("button.secondary.hover.border.color")};
    color: ${n("button.secondary.hover.color")};
}

.p-button-secondary:not(:disabled):active {
    background: ${n("button.secondary.active.background")};
    border: 1px solid ${n("button.secondary.active.border.color")};
    color: ${n("button.secondary.active.color")};
}

.p-button-secondary:focus-visible {
    outline-color: ${n("button.secondary.focus.ring.color")};
    box-shadow: ${n("button.secondary.focus.ring.shadow")};
}

.p-button-success {
    background: ${n("button.success.background")};
    border: 1px solid ${n("button.success.border.color")};
    color: ${n("button.success.color")};
}

.p-button-success:not(:disabled):hover {
    background: ${n("button.success.hover.background")};
    border: 1px solid ${n("button.success.hover.border.color")};
    color: ${n("button.success.hover.color")};
}

.p-button-success:not(:disabled):active {
    background: ${n("button.success.active.background")};
    border: 1px solid ${n("button.success.active.border.color")};
    color: ${n("button.success.active.color")};
}

.p-button-success:focus-visible {
    outline-color: ${n("button.success.focus.ring.color")};
    box-shadow: ${n("button.success.focus.ring.shadow")};
}

.p-button-info {
    background: ${n("button.info.background")};
    border: 1px solid ${n("button.info.border.color")};
    color: ${n("button.info.color")};
}

.p-button-info:not(:disabled):hover {
    background: ${n("button.info.hover.background")};
    border: 1px solid ${n("button.info.hover.border.color")};
    color: ${n("button.info.hover.color")};
}

.p-button-info:not(:disabled):active {
    background: ${n("button.info.active.background")};
    border: 1px solid ${n("button.info.active.border.color")};
    color: ${n("button.info.active.color")};
}

.p-button-info:focus-visible {
    outline-color: ${n("button.info.focus.ring.color")};
    box-shadow: ${n("button.info.focus.ring.shadow")};
}

.p-button-warn {
    background: ${n("button.warn.background")};
    border: 1px solid ${n("button.warn.border.color")};
    color: ${n("button.warn.color")};
}

.p-button-warn:not(:disabled):hover {
    background: ${n("button.warn.hover.background")};
    border: 1px solid ${n("button.warn.hover.border.color")};
    color: ${n("button.warn.hover.color")};
}

.p-button-warn:not(:disabled):active {
    background: ${n("button.warn.active.background")};
    border: 1px solid ${n("button.warn.active.border.color")};
    color: ${n("button.warn.active.color")};
}

.p-button-warn:focus-visible {
    outline-color: ${n("button.warn.focus.ring.color")};
    box-shadow: ${n("button.warn.focus.ring.shadow")};
}

.p-button-help {
    background: ${n("button.help.background")};
    border: 1px solid ${n("button.help.border.color")};
    color: ${n("button.help.color")};
}

.p-button-help:not(:disabled):hover {
    background: ${n("button.help.hover.background")};
    border: 1px solid ${n("button.help.hover.border.color")};
    color: ${n("button.help.hover.color")};
}

.p-button-help:not(:disabled):active {
    background: ${n("button.help.active.background")};
    border: 1px solid ${n("button.help.active.border.color")};
    color: ${n("button.help.active.color")};
}

.p-button-help:focus-visible {
    outline-color: ${n("button.help.focus.ring.color")};
    box-shadow: ${n("button.help.focus.ring.shadow")};
}

.p-button-danger {
    background: ${n("button.danger.background")};
    border: 1px solid ${n("button.danger.border.color")};
    color: ${n("button.danger.color")};
}

.p-button-danger:not(:disabled):hover {
    background: ${n("button.danger.hover.background")};
    border: 1px solid ${n("button.danger.hover.border.color")};
    color: ${n("button.danger.hover.color")};
}

.p-button-danger:not(:disabled):active {
    background: ${n("button.danger.active.background")};
    border: 1px solid ${n("button.danger.active.border.color")};
    color: ${n("button.danger.active.color")};
}

.p-button-danger:focus-visible {
    outline-color: ${n("button.danger.focus.ring.color")};
    box-shadow: ${n("button.danger.focus.ring.shadow")};
}

.p-button-contrast {
    background: ${n("button.contrast.background")};
    border: 1px solid ${n("button.contrast.border.color")};
    color: ${n("button.contrast.color")};
}

.p-button-contrast:not(:disabled):hover {
    background: ${n("button.contrast.hover.background")};
    border: 1px solid ${n("button.contrast.hover.border.color")};
    color: ${n("button.contrast.hover.color")};
}

.p-button-contrast:not(:disabled):active {
    background: ${n("button.contrast.active.background")};
    border: 1px solid ${n("button.contrast.active.border.color")};
    color: ${n("button.contrast.active.color")};
}

.p-button-contrast:focus-visible {
    outline-color: ${n("button.contrast.focus.ring.color")};
    box-shadow: ${n("button.contrast.focus.ring.shadow")};
}

.p-button-outlined {
    background: transparent;
    border-color: ${n("button.outlined.primary.border.color")};
    color: ${n("button.outlined.primary.color")};
}

.p-button-outlined:not(:disabled):hover {
    background: ${n("button.outlined.primary.hover.background")};
    border-color: ${n("button.outlined.primary.border.color")};
    color: ${n("button.outlined.primary.color")};
}

.p-button-outlined:not(:disabled):active {
    background: ${n("button.outlined.primary.active.background")};
    border-color: ${n("button.outlined.primary.border.color")};
    color: ${n("button.outlined.primary.color")};
}

.p-button-outlined.p-button-secondary {
    border-color: ${n("button.outlined.secondary.border.color")};
    color: ${n("button.outlined.secondary.color")};
}

.p-button-outlined.p-button-secondary:not(:disabled):hover {
    background: ${n("button.outlined.secondary.hover.background")};
    border-color: ${n("button.outlined.secondary.border.color")};
    color: ${n("button.outlined.secondary.color")};
}

.p-button-outlined.p-button-secondary:not(:disabled):active {
    background: ${n("button.outlined.secondary.active.background")};
    border-color: ${n("button.outlined.secondary.border.color")};
    color: ${n("button.outlined.secondary.color")};
}

.p-button-outlined.p-button-success {
    border-color: ${n("button.outlined.success.border.color")};
    color: ${n("button.outlined.success.color")};
}

.p-button-outlined.p-button-success:not(:disabled):hover {
    background: ${n("button.outlined.success.hover.background")};
    border-color: ${n("button.outlined.success.border.color")};
    color: ${n("button.outlined.success.color")};
}

.p-button-outlined.p-button-success:not(:disabled):active {
    background: ${n("button.outlined.success.active.background")};
    border-color: ${n("button.outlined.success.border.color")};
    color: ${n("button.outlined.success.color")};
}

.p-button-outlined.p-button-info {
    border-color: ${n("button.outlined.info.border.color")};
    color: ${n("button.outlined.info.color")};
}

.p-button-outlined.p-button-info:not(:disabled):hover {
    background: ${n("button.outlined.info.hover.background")};
    border-color: ${n("button.outlined.info.border.color")};
    color: ${n("button.outlined.info.color")};
}

.p-button-outlined.p-button-info:not(:disabled):active {
    background: ${n("button.outlined.info.active.background")};
    border-color: ${n("button.outlined.info.border.color")};
    color: ${n("button.outlined.info.color")};
}

.p-button-outlined.p-button-warn {
    border-color: ${n("button.outlined.warn.border.color")};
    color: ${n("button.outlined.warn.color")};
}

.p-button-outlined.p-button-warn:not(:disabled):hover {
    background: ${n("button.outlined.warn.hover.background")};
    border-color: ${n("button.outlined.warn.border.color")};
    color: ${n("button.outlined.warn.color")};
}

.p-button-outlined.p-button-warn:not(:disabled):active {
    background: ${n("button.outlined.warn.active.background")};
    border-color: ${n("button.outlined.warn.border.color")};
    color: ${n("button.outlined.warn.color")};
}

.p-button-outlined.p-button-help {
    border-color: ${n("button.outlined.help.border.color")};
    color: ${n("button.outlined.help.color")};
}

.p-button-outlined.p-button-help:not(:disabled):hover {
    background: ${n("button.outlined.help.hover.background")};
    border-color: ${n("button.outlined.help.border.color")};
    color: ${n("button.outlined.help.color")};
}

.p-button-outlined.p-button-help:not(:disabled):active {
    background: ${n("button.outlined.help.active.background")};
    border-color: ${n("button.outlined.help.border.color")};
    color: ${n("button.outlined.help.color")};
}

.p-button-outlined.p-button-danger {
    border-color: ${n("button.outlined.danger.border.color")};
    color: ${n("button.outlined.danger.color")};
}

.p-button-outlined.p-button-danger:not(:disabled):hover {
    background: ${n("button.outlined.danger.hover.background")};
    border-color: ${n("button.outlined.danger.border.color")};
    color: ${n("button.outlined.danger.color")};
}

.p-button-outlined.p-button-danger:not(:disabled):active {
    background: ${n("button.outlined.danger.active.background")};
    border-color: ${n("button.outlined.danger.border.color")};
    color: ${n("button.outlined.danger.color")};
}

.p-button-outlined.p-button-contrast {
    border-color: ${n("button.outlined.contrast.border.color")};
    color: ${n("button.outlined.contrast.color")};
}

.p-button-outlined.p-button-contrast:not(:disabled):hover {
    background: ${n("button.outlined.contrast.hover.background")};
    border-color: ${n("button.outlined.contrast.border.color")};
    color: ${n("button.outlined.contrast.color")};
}

.p-button-outlined.p-button-contrast:not(:disabled):active {
    background: ${n("button.outlined.contrast.active.background")};
    border-color: ${n("button.outlined.contrast.border.color")};
    color: ${n("button.outlined.contrast.color")};
}

.p-button-outlined.p-button-plain {
    border-color: ${n("button.outlined.plain.border.color")};
    color: ${n("button.outlined.plain.color")};
}

.p-button-outlined.p-button-plain:not(:disabled):hover {
    background: ${n("button.outlined.plain.hover.background")};
    border-color: ${n("button.outlined.plain.border.color")};
    color: ${n("button.outlined.plain.color")};
}

.p-button-outlined.p-button-plain:not(:disabled):active {
    background: ${n("button.outlined.plain.active.background")};
    border-color: ${n("button.outlined.plain.border.color")};
    color: ${n("button.outlined.plain.color")};
}

.p-button-text {
    background: transparent;
    border-color: transparent;
    color: ${n("button.text.primary.color")};
}

.p-button-text:not(:disabled):hover {
    background: ${n("button.text.primary.hover.background")};
    border-color: transparent;
    color: ${n("button.text.primary.color")};
}

.p-button-text:not(:disabled):active {
    background: ${n("button.text.primary.active.background")};
    border-color: transparent;
    color: ${n("button.text.primary.color")};
}

.p-button-text.p-button-secondary {
    background: transparent;
    border-color: transparent;
    color: ${n("button.text.secondary.color")};
}

.p-button-text.p-button-secondary:not(:disabled):hover {
    background: ${n("button.text.secondary.hover.background")};
    border-color: transparent;
    color: ${n("button.text.secondary.color")};
}

.p-button-text.p-button-secondary:not(:disabled):active {
    background: ${n("button.text.secondary.active.background")};
    border-color: transparent;
    color: ${n("button.text.secondary.color")};
}

.p-button-text.p-button-success {
    background: transparent;
    border-color: transparent;
    color: ${n("button.text.success.color")};
}

.p-button-text.p-button-success:not(:disabled):hover {
    background: ${n("button.text.success.hover.background")};
    border-color: transparent;
    color: ${n("button.text.success.color")};
}

.p-button-text.p-button-success:not(:disabled):active {
    background: ${n("button.text.success.active.background")};
    border-color: transparent;
    color: ${n("button.text.success.color")};
}

.p-button-text.p-button-info {
    background: transparent;
    border-color: transparent;
    color: ${n("button.text.info.color")};
}

.p-button-text.p-button-info:not(:disabled):hover {
    background: ${n("button.text.info.hover.background")};
    border-color: transparent;
    color: ${n("button.text.info.color")};
}

.p-button-text.p-button-info:not(:disabled):active {
    background: ${n("button.text.info.active.background")};
    border-color: transparent;
    color: ${n("button.text.info.color")};
}

.p-button-text.p-button-warn {
    background: transparent;
    border-color: transparent;
    color: ${n("button.text.warn.color")};
}

.p-button-text.p-button-warn:not(:disabled):hover {
    background: ${n("button.text.warn.hover.background")};
    border-color: transparent;
    color: ${n("button.text.warn.color")};
}

.p-button-text.p-button-warn:not(:disabled):active {
    background: ${n("button.text.warn.active.background")};
    border-color: transparent;
    color: ${n("button.text.warn.color")};
}

.p-button-text.p-button-help {
    background: transparent;
    border-color: transparent;
    color: ${n("button.text.help.color")};
}

.p-button-text.p-button-help:not(:disabled):hover {
    background: ${n("button.text.help.hover.background")};
    border-color: transparent;
    color: ${n("button.text.help.color")};
}

.p-button-text.p-button-help:not(:disabled):active {
    background: ${n("button.text.help.active.background")};
    border-color: transparent;
    color: ${n("button.text.help.color")};
}

.p-button-text.p-button-danger {
    background: transparent;
    border-color: transparent;
    color: ${n("button.text.danger.color")};
}

.p-button-text.p-button-danger:not(:disabled):hover {
    background: ${n("button.text.danger.hover.background")};
    border-color: transparent;
    color: ${n("button.text.danger.color")};
}

.p-button-text.p-button-danger:not(:disabled):active {
    background: ${n("button.text.danger.active.background")};
    border-color: transparent;
    color: ${n("button.text.danger.color")};
}

.p-button-text.p-button-plain {
    background: transparent;
    border-color: transparent;
    color: ${n("button.text.plain.color")};
}

.p-button-text.p-button-plain:not(:disabled):hover {
    background: ${n("button.text.plain.hover.background")};
    border-color: transparent;
    color: ${n("button.text.plain.color")};
}

.p-button-text.p-button-plain:not(:disabled):active {
    background: ${n("button.text.plain.active.background")};
    border-color: transparent;
    color: ${n("button.text.plain.color")};
}

.p-button-text.p-button-contrast {
    background: transparent;
    border-color: transparent;
    color: ${n("button.text.contrast.color")};
}

.p-button-text.p-button-contrast:not(:disabled):hover {
    background: ${n("button.text.contrast.hover.background")};
    border-color: transparent;
    color: ${n("button.text.contrast.color")};
}

.p-button-text.p-button-contrast:not(:disabled):active {
    background: ${n("button.text.contrast.active.background")};
    border-color: transparent;
    color: ${n("button.text.contrast.color")};
}

.p-button-link {
    background: transparent;
    border-color: transparent;
    color: ${n("button.link.color")};
}

.p-button-link:not(:disabled):hover {
    background: transparent;
    border-color: transparent;
    color: ${n("button.link.hover.color")};
}

.p-button-link:not(:disabled):hover .p-button-label {
    text-decoration: underline;
}

.p-button-link:not(:disabled):active {
    background: transparent;
    border-color: transparent;
    color: ${n("button.link.active.color")};
}

/* For PrimeNG */
.p-button-icon-right {
    order: 1;
}

p-button[iconpos='right'] spinnericon {
    order: 1;
}
`,I1={root:({instance:n,props:t})=>["p-button p-component",{"p-button-icon-only":n.hasIcon&&!t.label&&!t.badge,"p-button-vertical":(t.iconPos==="top"||t.iconPos==="bottom")&&t.label,"p-button-loading":t.loading,"p-button-link":t.link,[`p-button-${t.severity}`]:t.severity,"p-button-raised":t.raised,"p-button-rounded":t.rounded,"p-button-text":t.text,"p-button-outlined":t.outlined,"p-button-sm":t.size==="small","p-button-lg":t.size==="large","p-button-plain":t.plain,"p-button-fluid":t.fluid}],loadingIcon:"p-button-loading-icon",icon:({props:n})=>["p-button-icon",{[`p-button-icon-${n.iconPos}`]:n.label}],label:"p-button-label"},Lr=(()=>{class n extends Re{name="button";theme=E1;classes=I1;static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();var Fr={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},C0=(()=>{class n extends xe{_componentStyle=O(Lr);static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275dir=ge({type:n,selectors:[["","pButtonLabel",""]],hostVars:2,hostBindings:function(r,i){r&2&&st("p-button-label",!0)},features:[we([Lr]),X]})}return n})(),T0=(()=>{class n extends xe{_componentStyle=O(Lr);static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275dir=ge({type:n,selectors:[["","pButtonIcon",""]],hostVars:2,hostBindings:function(r,i){r&2&&st("p-button-icon",!0)},features:[we([Lr]),X]})}return n})(),D6=(()=>{class n extends xe{iconPos="left";loadingIcon;set label(e){this._label=e,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}set icon(e){this._icon=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}_buttonProps;iconSignal=kh(T0);labelSignal=kh(C0);isIconOnly=pn(()=>!!(!this.labelSignal()&&this.iconSignal()));set buttonProps(e){this._buttonProps=e,e&&typeof e=="object"&&Object.entries(e).forEach(([r,i])=>this[`_${r}`]!==i&&(this[`_${r}`]=i))}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;fluid;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(Fr);isTextButton=pn(()=>!!(!this.iconSignal()&&this.labelSignal()&&this.text));get label(){return this._label}get icon(){return this._icon}get buttonProps(){return this._buttonProps}spinnerIcon=`<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="p-icon-spin">
        <g clip-path="url(#clip0_417_21408)">
            <path
                d="M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z"
                fill="currentColor"
            />
        </g>
        <defs>
            <clipPath id="clip0_417_21408">
                <rect width="14" height="14" fill="white" />
            </clipPath>
        </defs>
    </svg>`;_componentStyle=O(Lr);ngAfterViewInit(){super.ngAfterViewInit(),Nr(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}ngOnChanges(e){super.ngOnChanges(e);let{buttonProps:r}=e;if(r){let i=r.currentValue;for(let s in i)this[s]=i[s]}}getStyleClass(){let e=[Fr.button,Fr.component];return this.icon&&!this.label&&_t(this.htmlElement.textContent)&&e.push(Fr.iconOnly),this.loading&&(e.push(Fr.disabled,Fr.loading),!this.icon&&this.label&&e.push(Fr.labelOnly),this.icon&&!this.label&&!_t(this.htmlElement.textContent)&&e.push(Fr.iconOnly)),this.text&&e.push("p-button-text"),this.severity&&e.push(`p-button-${this.severity}`),this.plain&&e.push("p-button-plain"),this.raised&&e.push("p-button-raised"),this.size&&e.push(`p-button-${this.size}`),this.outlined&&e.push("p-button-outlined"),this.rounded&&e.push("p-button-rounded"),this.size==="small"&&e.push("p-button-sm"),this.size==="large"&&e.push("p-button-lg"),this.hasFluid&&e.push("p-button-fluid"),e}get hasFluid(){let r=this.el.nativeElement.closest("p-fluid");return _t(this.fluid)?!!r:this.fluid}setStyleClass(){let e=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...e)}createLabel(){if(!Os(this.htmlElement,".p-button-label")&&this.label){let r=this.document.createElement("span");this.icon&&!this.label&&r.setAttribute("aria-hidden","true"),r.className="p-button-label",r.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(r)}}createIcon(){if(!Os(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let r=this.document.createElement("span");r.className="p-button-icon",r.setAttribute("aria-hidden","true");let i=this.label?"p-button-icon-"+this.iconPos:null;i&&Nr(r,i);let s=this.getIconClass();s&&Nr(r,s),!this.loadingIcon&&this.loading&&(r.innerHTML=this.spinnerIcon),this.htmlElement.insertBefore(r,this.htmlElement.firstChild)}}updateLabel(){let e=Os(this.htmlElement,".p-button-label");if(!this.label){e&&this.htmlElement.removeChild(e);return}e?e.textContent=this.label:this.createLabel()}updateIcon(){let e=Os(this.htmlElement,".p-button-icon"),r=Os(this.htmlElement,".p-button-label");this.loading&&!this.loadingIcon&&e?e.innerHTML=this.spinnerIcon:e?.innerHTML&&(e.innerHTML=""),e?this.iconPos?e.className="p-button-icon "+(r?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():e.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon "+(this.loadingIcon?this.loadingIcon:"p-icon"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1,super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275dir=ge({type:n,selectors:[["","pButton",""]],contentQueries:function(r,i,s){r&1&&(Lh(s,i.iconSignal,T0,5),Lh(s,i.labelSignal,C0,5)),r&2&&wv(2)},hostVars:4,hostBindings:function(r,i){r&2&&st("p-button-icon-only",i.isIconOnly())("p-button-text",i.isTextButton())},inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",loading:"loading",severity:"severity",raised:[2,"raised","raised",te],rounded:[2,"rounded","rounded",te],text:[2,"text","text",te],outlined:[2,"outlined","outlined",te],size:"size",plain:[2,"plain","plain",te],fluid:[2,"fluid","fluid",te],label:"label",icon:"icon",buttonProps:"buttonProps"},features:[we([Lr]),X,rt]})}return n})(),C1=(()=>{class n extends xe{type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;variant;style;styleClass;badgeClass;badgeSeverity="secondary";ariaLabel;autofocus;fluid;onClick=new ke;onFocus=new ke;onBlur=new ke;contentTemplate;loadingIconTemplate;iconTemplate;_buttonProps;get buttonProps(){return this._buttonProps}set buttonProps(e){this._buttonProps=e,e&&typeof e=="object"&&Object.entries(e).forEach(([r,i])=>this[`_${r}`]!==i&&(this[`_${r}`]=i))}get hasFluid(){let r=this.el.nativeElement.closest("p-fluid");return _t(this.fluid)?!!r:this.fluid}_componentStyle=O(Lr);templates;_contentTemplate;_iconTemplate;_loadingIconTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}ngOnChanges(e){super.ngOnChanges(e);let{buttonProps:r}=e;if(r){let i=r.currentValue;for(let s in i)this[s]=i[s]}}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,e])=>!!e).reduce((e,[r])=>e+` ${r}`,"p-button-loading-icon")}iconClass(){return{[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]:this.loading,"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label}}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate||this._loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text||this.variant=="text","p-button-outlined":this.outlined||this.variant=="outlined","p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,"p-button-fluid":this.hasFluid,[`${this.styleClass}`]:this.styleClass}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275cmp=de({type:n,selectors:[["p-button"]],contentQueries:function(r,i,s){if(r&1&&(yt(s,s1,5),yt(s,o1,5),yt(s,a1,5),yt(s,Ms,4)),r&2){let o;ut(o=lt())&&(i.contentTemplate=o.first),ut(o=lt())&&(i.loadingIconTemplate=o.first),ut(o=lt())&&(i.iconTemplate=o.first),ut(o=lt())&&(i.templates=o)}},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[2,"disabled","disabled",te],loading:[2,"loading","loading",te],loadingIcon:"loadingIcon",raised:[2,"raised","raised",te],rounded:[2,"rounded","rounded",te],text:[2,"text","text",te],plain:[2,"plain","plain",te],severity:"severity",outlined:[2,"outlined","outlined",te],link:[2,"link","link",te],tabindex:[2,"tabindex","tabindex",Qt],size:"size",variant:"variant",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",badgeSeverity:"badgeSeverity",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",te],fluid:[2,"fluid","fluid",te],buttonProps:"buttonProps"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[we([Lr]),X,rt],ngContentSelectors:c1,decls:7,vars:14,consts:[["pRipple","",3,"click","focus","blur","ngStyle","disabled","ngClass","pAutoFocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"value","severity",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[3,"class","ngClass",4,"ngIf"],[1,"p-button-label"],[3,"value","severity"]],template:function(r,i){r&1&&(gt(),Se(0,"button",0),Qe("click",function(o){return i.onClick.emit(o)})("focus",function(o){return i.onFocus.emit(o)})("blur",function(o){return i.onBlur.emit(o)}),mt(1),Te(2,u1,1,0,"ng-container",1)(3,g1,3,5,"ng-container",2)(4,v1,3,5,"ng-container",2)(5,b1,2,3,"span",3)(6,w1,1,2,"p-badge",4),Ae()),r&2&&(L("ngStyle",i.style)("disabled",i.disabled||i.loading)("ngClass",i.buttonClass)("pAutoFocus",i.autofocus),W("type",i.type)("aria-label",i.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",i.tabindex),q(2),L("ngTemplateOutlet",i.contentTemplate||i._contentTemplate),q(),L("ngIf",i.loading),q(),L("ngIf",!i.loading),q(),L("ngIf",!i.contentTemplate&&!i._contentTemplate&&i.label),q(),L("ngIf",!i.contentTemplate&&!i._contentTemplate&&i.badge))},dependencies:[Ue,wi,Ei,Ci,Ii,p0,Fs,b0,y0,Vf,Le],encapsulation:2,changeDetection:0})}return n})(),A0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({imports:[Ue,C1,Le,Le]})}return n})();var T1=["*"],S1=({dt:n})=>`
.p-iconfield {
    position: relative;
    display: block;
}

.p-inputicon {
    position: absolute;
    top: 50%;
    margin-top: calc(-1 * (${n("icon.size")} / 2));
    color: ${n("iconfield.icon.color")};
    line-height: 1;
}

.p-iconfield .p-inputicon:first-child {
    inset-inline-start: ${n("form.field.padding.x")};
}

.p-iconfield .p-inputicon:last-child {
    inset-inline-end: ${n("form.field.padding.x")};
}

.p-iconfield .p-inputtext:not(:first-child) {
    padding-inline-start: calc((${n("form.field.padding.x")} * 2) + ${n("icon.size")});
}

.p-iconfield .p-inputtext:not(:last-child) {
    padding-inline-end: calc((${n("form.field.padding.x")} * 2) + ${n("icon.size")});
}

.p-iconfield:has(.p-inputfield-sm) .p-inputicon {
    font-size: ${n("form.field.sm.font.size")};
    width: ${n("form.field.sm.font.size")};
    height: ${n("form.field.sm.font.size")};
    margin-top: calc(-1 * (${n("form.field.sm.font.size")} / 2));
}

.p-iconfield:has(.p-inputfield-lg) .p-inputicon {
    font-size: ${n("form.field.lg.font.size")};
    width: ${n("form.field.lg.font.size")};
    height: ${n("form.field.lg.font.size")};
    margin-top: calc(-1 * (${n("form.field.lg.font.size")} / 2));
}
`,A1={root:"p-iconfield"},D0=(()=>{class n extends Re{name="iconfield";theme=S1;classes=A1;static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();var D1=(()=>{class n extends xe{iconPosition="left";get _styleClass(){return this.styleClass}styleClass;_componentStyle=O(D0);static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275cmp=de({type:n,selectors:[["p-iconfield"],["p-iconField"],["p-icon-field"]],hostAttrs:[1,"p-iconfield"],hostVars:6,hostBindings:function(r,i){r&2&&(Ie(i._styleClass),st("p-iconfield-left",i.iconPosition==="left")("p-iconfield-right",i.iconPosition==="right"))},inputs:{iconPosition:"iconPosition",styleClass:"styleClass"},features:[we([D0]),X],ngContentSelectors:T1,decls:1,vars:0,template:function(r,i){r&1&&(gt(),mt(0))},dependencies:[Ue],encapsulation:2,changeDetection:0})}return n})(),B6=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({imports:[D1]})}return n})();var R1=["*"],P1={root:"p-inputicon"},R0=(()=>{class n extends Re{name="inputicon";classes=P1;static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),O1=(()=>{class n extends xe{styleClass;get hostClasses(){return this.styleClass}_componentStyle=O(R0);static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275cmp=de({type:n,selectors:[["p-inputicon"],["p-inputIcon"]],hostVars:4,hostBindings:function(r,i){r&2&&(Ie(i.hostClasses),st("p-inputicon",!0))},inputs:{styleClass:"styleClass"},features:[we([R0]),X],ngContentSelectors:R1,decls:1,vars:0,template:function(r,i){r&1&&(gt(),mt(0))},dependencies:[Ue,Le],encapsulation:2,changeDetection:0})}return n})(),t5=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({imports:[O1,Le,Le]})}return n})();var x1=["onicon"],k1=["officon"],N1=["cancelicon"],M1=(n,t)=>({"p-rating-option-active":n,"p-focus-visible":t});function F1(n,t){if(n&1&&fe(0,"span",9),n&2){let e=z(4);L("ngStyle",e.iconOffStyle)("ngClass",e.iconOffClass),W("data-pc-section","offIcon")}}function L1(n,t){if(n&1&&fe(0,"StarIcon",10),n&2){let e=z(4);L("ngStyle",e.iconOffStyle)("styleClass","p-rating-icon"),W("data-pc-section","offIcon")}}function V1(n,t){if(n&1&&(Vt(0),Te(1,F1,1,3,"span",7)(2,L1,1,3,"StarIcon",8),Ut()),n&2){let e=z(3);q(),L("ngIf",e.iconOffClass),q(),L("ngIf",!e.iconOffClass)}}function U1(n,t){if(n&1&&fe(0,"span",12),n&2){let e=z(4);L("ngStyle",e.iconOnStyle)("ngClass",e.iconOnClass),W("data-pc-section","onIcon")}}function $1(n,t){if(n&1&&fe(0,"StarFillIcon",10),n&2){let e=z(4);L("ngStyle",e.iconOnStyle)("styleClass","p-rating-icon p-rating-icon-active"),W("data-pc-section","onIcon")}}function B1(n,t){if(n&1&&(Vt(0),Te(1,U1,1,3,"span",11)(2,$1,1,3,"StarFillIcon",8),Ut()),n&2){let e=z(3);q(),L("ngIf",e.iconOnClass),q(),L("ngIf",!e.iconOnClass)}}function j1(n,t){if(n&1){let e=xn();Se(0,"div",3),Qe("click",function(i){let s=ye(e).$implicit,o=z(2);return _e(o.onOptionClick(i,s+1))}),Se(1,"span",4)(2,"input",5),Qe("focus",function(i){let s=ye(e).$implicit,o=z(2);return _e(o.onInputFocus(i,s+1))})("blur",function(i){ye(e);let s=z(2);return _e(s.onInputBlur(i))})("change",function(i){let s=ye(e).$implicit,o=z(2);return _e(o.onChange(i,s+1))}),Ae()(),Te(3,V1,3,2,"ng-container",6)(4,B1,3,2,"ng-container",6),Ae()}if(n&2){let e=t.$implicit,r=t.index,i=z(2);L("ngClass",Iv(10,M1,e+1<=i.value,e+1===i.focusedOptionIndex()&&i.isFocusVisibleItem)),q(),W("data-p-hidden-accessible",!0),q(),L("name",i.nameattr)("checked",i.value===0)("disabled",i.disabled)("readonly",i.readonly)("pAutoFocus",i.autofocus),W("aria-label",i.starAriaLabel(e+1)),q(),L("ngIf",!i.value||r>=i.value),q(),L("ngIf",i.value&&r<i.value)}}function z1(n,t){if(n&1&&(Vt(0),Te(1,j1,5,13,"ng-template",2),Ut()),n&2){let e=z();q(),L("ngForOf",e.starsArray)}}function H1(n,t){n&1&&ru(0)}function q1(n,t){if(n&1){let e=xn();Se(0,"span",14),Qe("click",function(i){let s=ye(e).$implicit,o=z(2);return _e(o.onOptionClick(i,s+1))}),Te(1,H1,1,0,"ng-container",15),Ae()}if(n&2){let e=t.index,r=z(2);W("data-pc-section","onIcon"),q(),L("ngTemplateOutlet",r.getIconTemplate(e))}}function G1(n,t){if(n&1&&Te(0,q1,2,2,"span",13),n&2){let e=z();L("ngForOf",e.starsArray)}}var W1=({dt:n})=>`
.p-rating {
    position: relative;
    display: flex;
    align-items: center;
    gap: ${n("rating.gap")};
}

.p-rating-option {
    display: inline-flex;
    align-items: center;
    cursor: pointer;
    outline-color: transparent;
    border-radius: 50%;
    transition: background ${n("rating.transition.duration")}, color ${n("rating.transition.duration")}, border-color ${n("rating.transition.duration")}, outline-color ${n("rating.transition.duration")}, box-shadow ${n("rating.transition.duration")};
}

.p-rating-option.p-focus-visible {
    box-shadow: ${n("rating.focus.ring.shadow")};
    outline: ${n("rating.focus.ring.width")} ${n("rating.focus.ring.style")} ${n("rating.focus.ring.color")};
    outline-offset: ${n("rating.focus.ring.offset")};
}

.p-rating-icon {
    color: ${n("rating.icon.color")};
    transition: background ${n("rating.transition.duration")}, color ${n("rating.transition.duration")}, border-color ${n("rating.transition.duration")}, outline-color ${n("rating.transition.duration")}, box-shadow ${n("rating.transition.duration")};
    font-size: ${n("rating.icon.size")};
    width: ${n("rating.icon.size")};
    height: ${n("rating.icon.size")};
}

.p-rating:not(.p-disabled):not(.p-readonly) .p-rating-option:hover .p-rating-icon {
    color: ${n("rating.icon.hover.color")};
}

.p-rating-option-active .p-rating-icon {
    color: ${n("rating.icon.active.color")};
}

/* For PrimeNG */
p-rating.ng-invalid.ng-dirty > .p-rating > .p-rating-icon {
    stroke: ${n("rating.invalid.icon.color")};
}`,K1={root:({props:n})=>["p-rating",{"p-readonly":n.readonly,"p-disabled":n.disabled}],option:({instance:n,props:t,value:e})=>["p-rating-option",{"p-rating-option-active":e<=t.modelValue,"p-focus-visible":e===n.focusedOptionIndex()&&n.isFocusVisibleItem}],onIcon:"p-rating-icon p-rating-on-icon",offIcon:"p-rating-icon p-rating-off-icon"},P0=(()=>{class n extends Re{name="rating";theme=W1;classes=K1;static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();var Q1={provide:Ai,useExisting:tr(()=>O0),multi:!0},O0=(()=>{class n extends xe{disabled;readonly;stars=5;iconOnClass;iconOnStyle;iconOffClass;iconOffStyle;autofocus;onRate=new ke;onCancel=new ke;onFocus=new ke;onBlur=new ke;onIconTemplate;offIconTemplate;cancelIconTemplate;templates;value;onModelChange=()=>{};onModelTouched=()=>{};starsArray;isFocusVisibleItem=!0;focusedOptionIndex=kt(-1);nameattr;_componentStyle=O(P0);_onIconTemplate;_offIconTemplate;_cancelIconTemplate;ngOnInit(){super.ngOnInit(),this.nameattr=this.nameattr||yn("pn_id_"),this.starsArray=[];for(let e=0;e<this.stars;e++)this.starsArray[e]=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"onicon":this._onIconTemplate=e.template;break;case"officon":this._offIconTemplate=e.template;break;case"cancelicon":this._cancelIconTemplate=e.template;break}})}onOptionClick(e,r){if(!this.readonly&&!this.disabled){this.onOptionSelect(e,r),this.isFocusVisibleItem=!1;let i=Gb(e.currentTarget,"");i&&Hb(i)}}onOptionSelect(e,r){!this.readonly&&!this.disabled&&(this.focusedOptionIndex()===r||r===this.value?(this.focusedOptionIndex.set(-1),this.updateModel(e,null)):(this.focusedOptionIndex.set(r),this.updateModel(e,r||null)))}onChange(e,r){this.onOptionSelect(e,r),this.isFocusVisibleItem=!0}onInputBlur(e){this.focusedOptionIndex.set(-1),this.onBlur.emit(e)}onInputFocus(e,r){!this.readonly&&!this.disabled&&(this.focusedOptionIndex.set(r),this.onFocus.emit(e))}updateModel(e,r){this.value=r,this.onModelChange(this.value),this.onModelTouched(),r?this.onRate.emit({originalEvent:e,value:r}):this.onCancel.emit()}starAriaLabel(e){return e===1?this.config.translation.aria.star:this.config.translation.aria.stars.replace(/{star}/g,e)}getIconTemplate(e){return!this.value||e>=this.value?this.offIconTemplate||this._offIconTemplate:this.onIconTemplate||this.offIconTemplate}writeValue(e){this.value=e,this.cd.detectChanges()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get isCustomIcon(){return!!(this.onIconTemplate||this._onIconTemplate||this.offIconTemplate||this._offIconTemplate||this.cancelIconTemplate||this._cancelIconTemplate)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275cmp=de({type:n,selectors:[["p-rating"]],contentQueries:function(r,i,s){if(r&1&&(yt(s,x1,4),yt(s,k1,4),yt(s,N1,4),yt(s,Ms,4)),r&2){let o;ut(o=lt())&&(i.onIconTemplate=o.first),ut(o=lt())&&(i.offIconTemplate=o.first),ut(o=lt())&&(i.cancelIconTemplate=o.first),ut(o=lt())&&(i.templates=o)}},hostAttrs:[1,"p-rating"],hostVars:6,hostBindings:function(r,i){r&2&&(W("data-pc-name","rating")("data-pc-section","root"),st("p-readonly",i.readonly)("p-disabled",i.disabled))},inputs:{disabled:[2,"disabled","disabled",te],readonly:[2,"readonly","readonly",te],stars:[2,"stars","stars",Qt],iconOnClass:"iconOnClass",iconOnStyle:"iconOnStyle",iconOffClass:"iconOffClass",iconOffStyle:"iconOffStyle",autofocus:[2,"autofocus","autofocus",te]},outputs:{onRate:"onRate",onCancel:"onCancel",onFocus:"onFocus",onBlur:"onBlur"},features:[we([Q1,P0]),X],decls:3,vars:2,consts:[["customTemplate",""],[4,"ngIf","ngIfElse"],["ngFor","",3,"ngForOf"],[1,"p-rating-option",3,"click","ngClass"],[1,"p-hidden-accessible"],["type","radio","value","0",3,"focus","blur","change","name","checked","disabled","readonly","pAutoFocus"],[4,"ngIf"],["class","p-rating-icon",3,"ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","styleClass",4,"ngIf"],[1,"p-rating-icon",3,"ngStyle","ngClass"],[3,"ngStyle","styleClass"],["class","p-rating-icon p-rating-icon-active",3,"ngStyle","ngClass",4,"ngIf"],[1,"p-rating-icon","p-rating-icon-active",3,"ngStyle","ngClass"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[4,"ngTemplateOutlet"]],template:function(r,i){if(r&1&&Te(0,z1,2,1,"ng-container",1)(1,G1,1,1,"ng-template",null,0,Cv),r&2){let s=Ev(2);L("ngIf",!i.isCustomIcon)("ngIfElse",s)}},dependencies:[Ue,wi,du,Ei,Ci,Ii,Fs,E0,w0,Le],encapsulation:2,changeDetection:0})}return n})(),x0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({imports:[O0,Le,Le]})}return n})();var Y1=["*"],X1=({dt:n})=>`
    .p-fluid{
        width:100%
    }
`,J1={root:"p-fluid"},k0=(()=>{class n extends Re{name="fluid";classes=J1;theme=X1;static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();var N0=(()=>{class n extends xe{_componentStyle=O(k0);static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275cmp=de({type:n,selectors:[["p-fluid"]],hostVars:2,hostBindings:function(r,i){r&2&&st("p-fluid",!0)},features:[we([k0]),X],ngContentSelectors:Y1,decls:1,vars:0,template:function(r,i){r&1&&(gt(),mt(0))},dependencies:[Ue],encapsulation:2,changeDetection:0})}return n})();var Z1=["clearicon"],eR=["incrementbuttonicon"],tR=["decrementbuttonicon"],nR=["input"];function rR(n,t){if(n&1){let e=xn();Se(0,"TimesIcon",7),Qe("click",function(){ye(e);let i=z(2);return _e(i.clear())}),Ae()}n&2&&(L("ngClass","p-inputnumber-clear-icon"),W("data-pc-section","clearIcon"))}function iR(n,t){}function sR(n,t){n&1&&Te(0,iR,0,0,"ng-template")}function oR(n,t){if(n&1){let e=xn();Se(0,"span",8),Qe("click",function(){ye(e);let i=z(2);return _e(i.clear())}),Te(1,sR,1,0,null,9),Ae()}if(n&2){let e=z(2);W("data-pc-section","clearIcon"),q(),L("ngTemplateOutlet",e.clearIconTemplate||e._clearIconTemplate)}}function aR(n,t){if(n&1&&(Vt(0),Te(1,rR,1,2,"TimesIcon",5)(2,oR,2,2,"span",6),Ut()),n&2){let e=z();q(),L("ngIf",!e.clearIconTemplate&&!e._clearIconTemplate),q(),L("ngIf",e.clearIconTemplate||e._clearIconTemplate)}}function cR(n,t){if(n&1&&fe(0,"span",13),n&2){let e=z(2);L("ngClass",e.incrementButtonIcon),W("data-pc-section","incrementbuttonicon")}}function uR(n,t){n&1&&fe(0,"AngleUpIcon"),n&2&&W("data-pc-section","incrementbuttonicon")}function lR(n,t){}function dR(n,t){n&1&&Te(0,lR,0,0,"ng-template")}function hR(n,t){if(n&1&&(Vt(0),Te(1,uR,1,1,"AngleUpIcon",2)(2,dR,1,0,null,9),Ut()),n&2){let e=z(2);q(),L("ngIf",!e.incrementButtonIconTemplate&&!e._incrementButtonIconTemplate),q(),L("ngTemplateOutlet",e.incrementButtonIconTemplate||e._incrementButtonIconTemplate)}}function fR(n,t){if(n&1&&fe(0,"span",13),n&2){let e=z(2);L("ngClass",e.decrementButtonIcon),W("data-pc-section","decrementbuttonicon")}}function pR(n,t){n&1&&fe(0,"AngleDownIcon"),n&2&&W("data-pc-section","decrementbuttonicon")}function gR(n,t){}function mR(n,t){n&1&&Te(0,gR,0,0,"ng-template")}function yR(n,t){if(n&1&&(Vt(0),Te(1,pR,1,1,"AngleDownIcon",2)(2,mR,1,0,null,9),Ut()),n&2){let e=z(2);q(),L("ngIf",!e.decrementButtonIconTemplate&&!e._decrementButtonIconTemplate),q(),L("ngTemplateOutlet",e.decrementButtonIconTemplate||e._decrementButtonIconTemplate)}}function _R(n,t){if(n&1){let e=xn();Se(0,"span",10)(1,"button",11),Qe("mousedown",function(i){ye(e);let s=z();return _e(s.onUpButtonMouseDown(i))})("mouseup",function(){ye(e);let i=z();return _e(i.onUpButtonMouseUp())})("mouseleave",function(){ye(e);let i=z();return _e(i.onUpButtonMouseLeave())})("keydown",function(i){ye(e);let s=z();return _e(s.onUpButtonKeyDown(i))})("keyup",function(){ye(e);let i=z();return _e(i.onUpButtonKeyUp())}),Te(2,cR,1,2,"span",12)(3,hR,3,2,"ng-container",2),Ae(),Se(4,"button",11),Qe("mousedown",function(i){ye(e);let s=z();return _e(s.onDownButtonMouseDown(i))})("mouseup",function(){ye(e);let i=z();return _e(i.onDownButtonMouseUp())})("mouseleave",function(){ye(e);let i=z();return _e(i.onDownButtonMouseLeave())})("keydown",function(i){ye(e);let s=z();return _e(s.onDownButtonKeyDown(i))})("keyup",function(){ye(e);let i=z();return _e(i.onDownButtonKeyUp())}),Te(5,fR,1,2,"span",12)(6,yR,3,2,"ng-container",2),Ae()()}if(n&2){let e=z();W("data-pc-section","buttonGroup"),q(),Ie(e.incrementButtonClass),L("ngClass",e._incrementButtonClass)("disabled",e.disabled),W("aria-hidden",!0)("data-pc-section","incrementbutton"),q(),L("ngIf",e.incrementButtonIcon),q(),L("ngIf",!e.incrementButtonIcon),q(),Ie(e.decrementButtonClass),L("ngClass",e._decrementButtonClass)("disabled",e.disabled),W("aria-hidden",!0)("data-pc-section","decrementbutton"),q(),L("ngIf",e.decrementButtonIcon),q(),L("ngIf",!e.decrementButtonIcon)}}function vR(n,t){if(n&1&&fe(0,"span",13),n&2){let e=z(2);L("ngClass",e.incrementButtonIcon),W("data-pc-section","incrementbuttonicon")}}function bR(n,t){n&1&&fe(0,"AngleUpIcon"),n&2&&W("data-pc-section","incrementbuttonicon")}function wR(n,t){}function ER(n,t){n&1&&Te(0,wR,0,0,"ng-template")}function IR(n,t){if(n&1&&(Vt(0),Te(1,bR,1,1,"AngleUpIcon",2)(2,ER,1,0,null,9),Ut()),n&2){let e=z(2);q(),L("ngIf",!e.incrementButtonIconTemplate&&!e._incrementButtonIconTemplate),q(),L("ngTemplateOutlet",e.incrementButtonIconTemplate||e._incrementButtonIconTemplate)}}function CR(n,t){if(n&1){let e=xn();Se(0,"button",11),Qe("mousedown",function(i){ye(e);let s=z();return _e(s.onUpButtonMouseDown(i))})("mouseup",function(){ye(e);let i=z();return _e(i.onUpButtonMouseUp())})("mouseleave",function(){ye(e);let i=z();return _e(i.onUpButtonMouseLeave())})("keydown",function(i){ye(e);let s=z();return _e(s.onUpButtonKeyDown(i))})("keyup",function(){ye(e);let i=z();return _e(i.onUpButtonKeyUp())}),Te(1,vR,1,2,"span",12)(2,IR,3,2,"ng-container",2),Ae()}if(n&2){let e=z();Ie(e.incrementButtonClass),L("ngClass",e._incrementButtonClass)("disabled",e.disabled),W("aria-hidden",!0)("data-pc-section","incrementbutton"),q(),L("ngIf",e.incrementButtonIcon),q(),L("ngIf",!e.incrementButtonIcon)}}function TR(n,t){if(n&1&&fe(0,"span",13),n&2){let e=z(2);L("ngClass",e.decrementButtonIcon),W("data-pc-section","decrementbuttonicon")}}function SR(n,t){n&1&&fe(0,"AngleDownIcon"),n&2&&W("data-pc-section","decrementbuttonicon")}function AR(n,t){}function DR(n,t){n&1&&Te(0,AR,0,0,"ng-template")}function RR(n,t){if(n&1&&(Vt(0),Te(1,SR,1,1,"AngleDownIcon",2)(2,DR,1,0,null,9),Ut()),n&2){let e=z(2);q(),L("ngIf",!e.decrementButtonIconTemplate&&!e._decrementButtonIconTemplate),q(),L("ngTemplateOutlet",e.decrementButtonIconTemplate||e._decrementButtonIconTemplate)}}function PR(n,t){if(n&1){let e=xn();Se(0,"button",11),Qe("mousedown",function(i){ye(e);let s=z();return _e(s.onDownButtonMouseDown(i))})("mouseup",function(){ye(e);let i=z();return _e(i.onDownButtonMouseUp())})("mouseleave",function(){ye(e);let i=z();return _e(i.onDownButtonMouseLeave())})("keydown",function(i){ye(e);let s=z();return _e(s.onDownButtonKeyDown(i))})("keyup",function(){ye(e);let i=z();return _e(i.onDownButtonKeyUp())}),Te(1,TR,1,2,"span",12)(2,RR,3,2,"ng-container",2),Ae()}if(n&2){let e=z();Ie(e.decrementButtonClass),L("ngClass",e._decrementButtonClass)("disabled",e.disabled),W("aria-hidden",!0)("data-pc-section","decrementbutton"),q(),L("ngIf",e.decrementButtonIcon),q(),L("ngIf",!e.decrementButtonIcon)}}var OR=({dt:n})=>`
.p-inputnumber {
    display: inline-flex;
    position: relative;
}

.p-inputnumber-button {
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 0 0 auto;
    cursor: pointer;
    background: ${n("inputnumber.button.background")};
    color: ${n("inputnumber.button.color")};
    width: ${n("inputnumber.button.width")};
    transition: background ${n("inputnumber.transition.duration")}, color ${n("inputnumber.transition.duration")}, border-color ${n("inputnumber.transition.duration")}, outline-color ${n("inputnumber.transition.duration")};
}

.p-inputnumber-button:hover {
    background: ${n("inputnumber.button.hover.background")};
    color: ${n("inputnumber.button.hover.color")};
}

.p-inputnumber-button:active {
    background: ${n("inputnumber.button.active.background")};
    color: ${n("inputnumber.button.active.color")};
}

.p-inputnumber-stacked .p-inputnumber-button {
    position: relative;
    border: 0 none;
}

.p-inputnumber-stacked .p-inputnumber-button-group {
    display: flex;
    flex-direction: column;
    position: absolute;
    inset-block-start: 1px;
    inset-inline-end: 1px;
    height: calc(100% - 2px);
    z-index: 1;
}

.p-inputnumber-stacked .p-inputnumber-increment-button {
    padding: 0;
    border-start-end-radius: calc(${n("inputnumber.button.border.radius")} - 1px);
}

.p-inputnumber-stacked .p-inputnumber-decrement-button {
    padding: 0;
    border-end-end-radius: calc(${n("inputnumber.button.border.radius")} - 1px);
}

.p-inputnumber-stacked .p-inputnumber-button {
    flex: 1 1 auto;
    border: 0 none;
}

.p-inputnumber-horizontal .p-inputnumber-button {
    border: 1px solid ${n("inputnumber.button.border.color")};
}

.p-inputnumber-horizontal .p-inputnumber-button:hover {
    border-color: ${n("inputnumber.button.hover.border.color")};
}

.p-inputnumber-horizontal .p-inputnumber-button:active {
    border-color: ${n("inputnumber.button.active.border.color")};
}

.p-inputnumber-horizontal .p-inputnumber-increment-button {
    order: 3;
    border-start-end-radius: ${n("inputnumber.button.border.radius")};
    border-end-end-radius: ${n("inputnumber.button.border.radius")};
    border-inline-start: 0 none;
}

.p-inputnumber-horizontal .p-inputnumber-input {
    order: 2;
    border-radius: 0;
}

.p-inputnumber-horizontal .p-inputnumber-decrement-button {
    order: 1;
    border-start-start-radius: ${n("inputnumber.button.border.radius")};
    border-end-start-radius: ${n("inputnumber.button.border.radius")};
    border-inline-end: 0 none;
}

.p-floatlabel:has(.p-inputnumber-horizontal) label {
    margin-inline-start: ${n("inputnumber.button.width")};
}

.p-inputnumber-vertical {
    flex-direction: column;
}

.p-inputnumber-vertical .p-inputnumber-button {
    border: 1px solid ${n("inputnumber.button.border.color")};
    padding-block: ${n("inputnumber.button.vertical.padding")};
    padding-inline: 0;
}

.p-inputnumber-vertical .p-inputnumber-button:hover {
    border-color: ${n("inputnumber.button.hover.border.color")};
}

.p-inputnumber-vertical .p-inputnumber-button:active {
    border-color: ${n("inputnumber.button.active.border.color")};
}

.p-inputnumber-vertical .p-inputnumber-increment-button {
    order: 1;
    border-start-start-radius: ${n("inputnumber.button.border.radius")};
    border-start-end-radius: ${n("inputnumber.button.border.radius")};
    width: 100%;
    border-block-end: 0 none;
}

.p-inputnumber-vertical .p-inputnumber-input {
    order: 2;
    border-radius: 0;
    text-align: center;
}

.p-inputnumber-vertical .p-inputnumber-decrement-button {
    order: 3;
    border-end-start-radius: ${n("inputnumber.button.border.radius")};
    border-end-end-radius: ${n("inputnumber.button.border.radius")};
    width: 100%;
    border-block-start: 0 none;
}

.p-inputnumber-input {
    flex: 1 1 auto;
}

.p-inputnumber-fluid {
    width: 100%;
}

.p-inputnumber-fluid .p-inputnumber-input {
    width: 1%;
}

.p-inputnumber-fluid.p-inputnumber-vertical .p-inputnumber-input {
    width: 100%;
}

.p-inputnumber:has(.p-inputtext-sm) .p-inputnumber-button .p-icon {
    font-size: ${n("form.field.sm.font.size")};
    width: ${n("form.field.sm.font.size")};
    height: ${n("form.field.sm.font.size")};
}

.p-inputnumber:has(.p-inputtext-lg) .p-inputnumber-button .p-icon {
    font-size: ${n("form.field.lg.font.size")};
    width: ${n("form.field.lg.font.size")};
    height: ${n("form.field.lg.font.size")};
}

p-inputnumber.ng-invalid.ng-dirty > .p-inputtext {
    border-color: ${n("inputtext.invalid.border.color")};
}

p-inputnumber.ng-invalid.ng-dirty > .p-inputtext:enabled:focus {
    border-color: ${n("inputtext.focus.border.color")};
}

p-inputnumber.ng-invalid.ng-dirty > .p-inputtext::placeholder {
    color: ${n("inputtext.invalid.placeholder.color")};
}
`,xR={root:({instance:n})=>({"p-inputnumber p-component p-inputwrapper":!0,"p-inputwrapper-filled":n.filled||n.allowEmpty===!1,"p-inputwrapper-focus":n.focused,"p-inputnumber-stacked":n.showButtons&&n.buttonLayout==="stacked","p-inputnumber-horizontal":n.showButtons&&n.buttonLayout==="horizontal","p-inputnumber-vertical":n.showButtons&&n.buttonLayout==="vertical","p-inputnumber-fluid":n.hasFluid}),pcInput:"p-inputnumber-input",buttonGroup:"p-inputnumber-button-group",incrementButton:({instance:n})=>({"p-inputnumber-button p-inputnumber-increment-button":!0,"p-disabled":n.showButtons&&n.max!==null&&n.maxlength}),decrementButton:({instance:n})=>({"p-inputnumber-button p-inputnumber-decrement-button":!0,"p-disabled":n.showButtons&&n.min!==null&&n.minlength})},M0=(()=>{class n extends Re{name="inputnumber";theme=OR;classes=xR;static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();var kR={provide:Ai,useExisting:tr(()=>F0),multi:!0},F0=(()=>{class n extends xe{injector;showButtons=!1;format=!0;buttonLayout="stacked";inputId;styleClass;style;placeholder;size;maxlength;tabindex;title;ariaLabelledBy;ariaLabel;ariaRequired;name;required;autocomplete;min;max;incrementButtonClass;decrementButtonClass;incrementButtonIcon;decrementButtonIcon;readonly=!1;step=1;allowEmpty=!0;locale;localeMatcher;mode="decimal";currency;currencyDisplay;useGrouping=!0;variant;minFractionDigits;maxFractionDigits;prefix;suffix;inputStyle;inputStyleClass;showClear=!1;autofocus;get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}fluid=!1;onInput=new ke;onFocus=new ke;onBlur=new ke;onKeyDown=new ke;onClear=new ke;clearIconTemplate;incrementButtonIconTemplate;decrementButtonIconTemplate;templates;input;_clearIconTemplate;_incrementButtonIconTemplate;_decrementButtonIconTemplate;value;onModelChange=()=>{};onModelTouched=()=>{};focused;initialized;groupChar="";prefixChar="";suffixChar="";isSpecialChar;timer;lastValue;_numeral;numberFormat;_decimal;_decimalChar;_group;_minusSign;_currency;_prefix;_suffix;_index;_disabled;_componentStyle=O(M0);ngControl=null;get _rootClass(){return this._componentStyle.classes.root({instance:this})}get hasFluid(){let r=this.el.nativeElement.closest("p-fluid");return this.fluid||!!r}get _incrementButtonClass(){return this._componentStyle.classes.incrementButton({instance:this})}get _decrementButtonClass(){return this._componentStyle.classes.decrementButton({instance:this})}constructor(e){super(),this.injector=e}ngOnChanges(e){super.ngOnChanges(e),["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(i=>!!e[i])&&this.updateConstructParser()}get hostClasses(){return typeof this._rootClass=="string"?this._rootClass:Array.isArray(this._rootClass)?this._rootClass.join(" "):typeof this._rootClass=="object"?Object.keys(this._rootClass).filter(e=>this._rootClass[e]).join(" "):""}ngOnInit(){super.ngOnInit(),this.ngControl=this.injector.get(sr,null,{optional:!0}),this.constructParser(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"clearicon":this._clearIconTemplate=e.template;break;case"incrementbuttonicon":this._incrementButtonIconTemplate=e.template;break;case"decrementbuttonicon":this._decrementButtonIconTemplate=e.template;break}})}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits??void 0,maximumFractionDigits:this.maxFractionDigits??void 0}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());let e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),r=new Map(e.map((i,s)=>[i,s]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._decimalChar=this.getDecimalChar(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=i=>r.get(i)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){let e=this.getDecimalChar();return new RegExp(`[${e}]`,"g")}getDecimalChar(){return new Intl.NumberFormat(this.locale,be(x({},this.getOptions()),{useGrouping:!1})).format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}getGroupingExpression(){let e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){let e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){let e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{let e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{let e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(e){if(e!=null){if(e==="-")return e;if(this.format){let i=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&e!=this.prefix&&(i=this.prefix+i),this.suffix&&e!=this.suffix&&(i=i+this.suffix),i}return e.toString()}return""}parseValue(e){let r=new RegExp(this._suffix,""),i=new RegExp(this._prefix,""),s=new RegExp(this._currency,""),o=e.replace(r,"").replace(i,"").trim().replace(/\s/g,"").replace(s,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(o){if(o==="-")return o;let c=+o;return isNaN(c)?null:c}return null}repeat(e,r,i){if(this.readonly)return;let s=r||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,i)},s),this.spin(e,i)}spin(e,r){let i=this.step*r,s=this.parseValue(this.input?.nativeElement.value)||0,o=this.validateValue(s+i);this.maxlength&&this.maxlength<this.formatValue(o).length||(this.updateInput(o,null,"spin",null),this.updateModel(e,o),this.handleOnInput(e,s,o))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(e){if(e.button===2){this.clearTimer();return}this.disabled||(this.input?.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault())}onUpButtonMouseUp(){this.disabled||this.clearTimer()}onUpButtonMouseLeave(){this.disabled||this.clearTimer()}onUpButtonKeyDown(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.disabled||this.clearTimer()}onDownButtonMouseDown(e){if(e.button===2){this.clearTimer();return}this.disabled||(this.input?.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault())}onDownButtonMouseUp(){this.disabled||this.clearTimer()}onDownButtonMouseLeave(){this.disabled||this.clearTimer()}onDownButtonKeyUp(){this.disabled||this.clearTimer()}onDownButtonKeyDown(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,-1)}onUserInput(e){this.readonly||(this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey){this.isSpecialChar=!0;return}let r=e.target.selectionStart,i=e.target.selectionEnd,s=e.target.value,o=null;switch(e.altKey&&e.preventDefault(),e.key){case"ArrowUp":this.spin(e,1),e.preventDefault();break;case"ArrowDown":this.spin(e,-1),e.preventDefault();break;case"ArrowLeft":for(let c=r;c<=s.length;c++){let u=c===0?0:c-1;if(this.isNumeralChar(s.charAt(u))){this.input.nativeElement.setSelectionRange(c,c);break}}break;case"ArrowRight":for(let c=i;c>=0;c--)if(this.isNumeralChar(s.charAt(c))){this.input.nativeElement.setSelectionRange(c,c);break}break;case"Tab":case"Enter":o=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(o),this.input.nativeElement.setAttribute("aria-valuenow",o),this.updateModel(e,o);break;case"Backspace":{if(e.preventDefault(),r===i){if(r==1&&this.prefix||r==s.length&&this.suffix)break;let c=s.charAt(r-1),{decimalCharIndex:u,decimalCharIndexWithoutPrefix:l}=this.getDecimalCharIndexes(s);if(this.isNumeralChar(c)){let f=this.getDecimalLength(s);if(this._group.test(c))this._group.lastIndex=0,o=s.slice(0,r-2)+s.slice(r-1);else if(this._decimal.test(c))this._decimal.lastIndex=0,f?this.input?.nativeElement.setSelectionRange(r-1,r-1):o=s.slice(0,r-1)+s.slice(r);else if(u>0&&r>u){let p=this.isDecimalMode()&&(this.minFractionDigits||0)<f?"":"0";o=s.slice(0,r-1)+p+s.slice(r)}else l===1?(o=s.slice(0,r-1)+"0"+s.slice(r),o=this.parseValue(o)>0?o:""):o=s.slice(0,r-1)+s.slice(r)}else this.mode==="currency"&&c.search(this._currency)!=-1&&(o=s.slice(1));this.updateValue(e,o,null,"delete-single")}else o=this.deleteRange(s,r,i),this.updateValue(e,o,null,"delete-range");break}case"Delete":if(e.preventDefault(),r===i){if(r==0&&this.prefix||r==s.length-1&&this.suffix)break;let c=s.charAt(r),{decimalCharIndex:u,decimalCharIndexWithoutPrefix:l}=this.getDecimalCharIndexes(s);if(this.isNumeralChar(c)){let f=this.getDecimalLength(s);if(this._group.test(c))this._group.lastIndex=0,o=s.slice(0,r)+s.slice(r+2);else if(this._decimal.test(c))this._decimal.lastIndex=0,f?this.input?.nativeElement.setSelectionRange(r+1,r+1):o=s.slice(0,r)+s.slice(r+1);else if(u>0&&r>u){let p=this.isDecimalMode()&&(this.minFractionDigits||0)<f?"":"0";o=s.slice(0,r)+p+s.slice(r+1)}else l===1?(o=s.slice(0,r)+"0"+s.slice(r+1),o=this.parseValue(o)>0?o:""):o=s.slice(0,r)+s.slice(r+1)}this.updateValue(e,o,null,"delete-back-single")}else o=this.deleteRange(s,r,i),this.updateValue(e,o,null,"delete-range");break;case"Home":this.min&&(this.updateModel(e,this.min),e.preventDefault());break;case"End":this.max&&(this.updateModel(e,this.max),e.preventDefault());break;default:break}this.onKeyDown.emit(e)}onInputKeyPress(e){if(this.readonly)return;let r=e.which||e.keyCode,i=String.fromCharCode(r),s=this.isDecimalSign(i),o=this.isMinusSign(i);r!=13&&e.preventDefault(),!s&&e.code==="NumpadDecimal"&&(s=!0,i=this._decimalChar,r=i.charCodeAt(0));let{value:c,selectionStart:u,selectionEnd:l}=this.input.nativeElement,f=this.parseValue(c+i),p=f!=null?f.toString():"",m=c.substring(u,l),y=this.parseValue(m),A=y!=null?y.toString():"";if(u!==l&&A.length>0){this.insert(e,i,{isDecimalSign:s,isMinusSign:o});return}this.maxlength&&p.length>this.maxlength||(48<=r&&r<=57||o||s)&&this.insert(e,i,{isDecimalSign:s,isMinusSign:o})}onPaste(e){if(!this.disabled&&!this.readonly){e.preventDefault();let r=(e.clipboardData||this.document.defaultView.clipboardData).getData("Text");if(r){this.maxlength&&(r=r.toString().substring(0,this.maxlength));let i=this.parseValue(r);i!=null&&this.insert(e,i.toString())}}}allowMinusSign(){return this.min==null||this.min<0}isMinusSign(e){return this._minusSign.test(e)||e==="-"?(this._minusSign.lastIndex=0,!0):!1}isDecimalSign(e){return this._decimal.test(e)?(this._decimal.lastIndex=0,!0):!1}isDecimalMode(){return this.mode==="decimal"}getDecimalCharIndexes(e){let r=e.search(this._decimal);this._decimal.lastIndex=0;let s=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:r,decimalCharIndexWithoutPrefix:s}}getCharIndexes(e){let r=e.search(this._decimal);this._decimal.lastIndex=0;let i=e.search(this._minusSign);this._minusSign.lastIndex=0;let s=e.search(this._suffix);this._suffix.lastIndex=0;let o=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:r,minusCharIndex:i,suffixCharIndex:s,currencyCharIndex:o}}insert(e,r,i={isDecimalSign:!1,isMinusSign:!1}){let s=r.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&s!==-1)return;let o=this.input?.nativeElement.selectionStart,c=this.input?.nativeElement.selectionEnd,u=this.input?.nativeElement.value.trim(),{decimalCharIndex:l,minusCharIndex:f,suffixCharIndex:p,currencyCharIndex:m}=this.getCharIndexes(u),y;if(i.isMinusSign)o===0&&(y=u,(f===-1||c!==0)&&(y=this.insertText(u,r,0,c)),this.updateValue(e,y,r,"insert"));else if(i.isDecimalSign)l>0&&o===l?this.updateValue(e,u,r,"insert"):l>o&&l<c?(y=this.insertText(u,r,o,c),this.updateValue(e,y,r,"insert")):l===-1&&this.maxFractionDigits&&(y=this.insertText(u,r,o,c),this.updateValue(e,y,r,"insert"));else{let A=this.numberFormat.resolvedOptions().maximumFractionDigits,P=o!==c?"range-insert":"insert";if(l>0&&o>l){if(o+r.length-(l+1)<=A){let D=m>=o?m-1:p>=o?p:u.length;y=u.slice(0,o)+r+u.slice(o+r.length,D)+u.slice(D),this.updateValue(e,y,r,P)}}else y=this.insertText(u,r,o,c),this.updateValue(e,y,r,P)}}insertText(e,r,i,s){if((r==="."?r:r.split(".")).length===2){let c=e.slice(i,s).search(this._decimal);return this._decimal.lastIndex=0,c>0?e.slice(0,i)+this.formatValue(r)+e.slice(s):e||this.formatValue(r)}else return s-i===e.length?this.formatValue(r):i===0?r+e.slice(s):s===e.length?e.slice(0,i)+r:e.slice(0,i)+r+e.slice(s)}deleteRange(e,r,i){let s;return i-r===e.length?s="":r===0?s=e.slice(i):i===e.length?s=e.slice(0,r):s=e.slice(0,r)+e.slice(i),s}initCursor(){let e=this.input?.nativeElement.selectionStart,r=this.input?.nativeElement.selectionEnd,i=this.input?.nativeElement.value,s=i.length,o=null,c=(this.prefixChar||"").length;i=i.replace(this._prefix,""),(e===r||e!==0||r<c)&&(e-=c);let u=i.charAt(e);if(this.isNumeralChar(u))return e+c;let l=e-1;for(;l>=0;)if(u=i.charAt(l),this.isNumeralChar(u)){o=l+c;break}else l--;if(o!==null)this.input?.nativeElement.setSelectionRange(o+1,o+1);else{for(l=e;l<s;)if(u=i.charAt(l),this.isNumeralChar(u)){o=l+c;break}else l++;o!==null&&this.input?.nativeElement.setSelectionRange(o,o)}return o||0}onInputClick(){let e=this.input?.nativeElement.value;!this.readonly&&e!==Kb()&&this.initCursor()}isNumeralChar(e){return e.length===1&&(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))?(this.resetRegex(),!0):!1}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,r,i,s){let o=this.input?.nativeElement.value,c=null;r!=null&&(c=this.parseValue(r),c=!c&&!this.allowEmpty?0:c,this.updateInput(c,i,s,r),this.handleOnInput(e,o,c))}handleOnInput(e,r,i){this.isValueChanged(r,i)&&(this.input.nativeElement.value=this.formatValue(i),this.input?.nativeElement.setAttribute("aria-valuenow",i),this.updateModel(e,i),this.onInput.emit({originalEvent:e,value:i,formattedValue:r}))}isValueChanged(e,r){if(r===null&&e!==null)return!0;if(r!=null){let i=typeof e=="string"?this.parseValue(e):e;return r!==i}return!1}validateValue(e){return e==="-"||e==null?null:this.min!=null&&e<this.min?this.min:this.max!=null&&e>this.max?this.max:e}updateInput(e,r,i,s){r=r||"";let o=this.input?.nativeElement.value,c=this.formatValue(e),u=o.length;if(c!==s&&(c=this.concatValues(c,s)),u===0){this.input.nativeElement.value=c,this.input.nativeElement.setSelectionRange(0,0);let f=this.initCursor()+r.length;this.input.nativeElement.setSelectionRange(f,f)}else{let l=this.input.nativeElement.selectionStart,f=this.input.nativeElement.selectionEnd;if(this.maxlength&&c.length>this.maxlength&&(c=c.slice(0,this.maxlength),l=Math.min(l,this.maxlength),f=Math.min(f,this.maxlength)),this.maxlength&&this.maxlength<c.length)return;this.input.nativeElement.value=c;let p=c.length;if(i==="range-insert"){let m=this.parseValue((o||"").slice(0,l)),A=(m!==null?m.toString():"").split("").join(`(${this.groupChar})?`),P=new RegExp(A,"g");P.test(c);let D=r.split("").join(`(${this.groupChar})?`),V=new RegExp(D,"g");V.test(c.slice(P.lastIndex)),f=P.lastIndex+V.lastIndex,this.input.nativeElement.setSelectionRange(f,f)}else if(p===u)i==="insert"||i==="delete-back-single"?this.input.nativeElement.setSelectionRange(f+1,f+1):i==="delete-single"?this.input.nativeElement.setSelectionRange(f-1,f-1):(i==="delete-range"||i==="spin")&&this.input.nativeElement.setSelectionRange(f,f);else if(i==="delete-back-single"){let m=o.charAt(f-1),y=o.charAt(f),A=u-p,P=this._group.test(y);P&&A===1?f+=1:!P&&this.isNumeralChar(m)&&(f+=-1*A+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(f,f)}else if(o==="-"&&i==="insert"){this.input.nativeElement.setSelectionRange(0,0);let y=this.initCursor()+r.length+1;this.input.nativeElement.setSelectionRange(y,y)}else f=f+(p-u),this.input.nativeElement.setSelectionRange(f,f)}this.input.nativeElement.setAttribute("aria-valuenow",e)}concatValues(e,r){if(e&&r){let i=r.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?i!==-1?e:e.replace(this.suffixChar,"").split(this._decimal)[0]+r.replace(this.suffixChar,"").slice(i)+this.suffixChar:i!==-1?e.split(this._decimal)[0]+r.slice(i):e}return e}getDecimalLength(e){if(e){let r=e.split(this._decimal);if(r.length===2)return r[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let r=this.validateValue(this.parseValue(this.input.nativeElement.value)),i=r?.toString();this.input.nativeElement.value=this.formatValue(i),this.input.nativeElement.setAttribute("aria-valuenow",i),this.updateModel(e,r),this.onBlur.emit(e)}formattedValue(){let e=!this.value&&!this.allowEmpty?0:this.value;return this.formatValue(e)}updateModel(e,r){let i=this.ngControl?.control?.updateOn==="blur";this.value!==r?(this.value=r,i&&this.focused||this.onModelChange(r)):i&&this.onModelChange(r),this.onModelTouched()}writeValue(e){this.value=e&&Number(e),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return this.value!=null&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}static \u0275fac=function(r){return new(r||n)(Y(it))};static \u0275cmp=de({type:n,selectors:[["p-inputNumber"],["p-inputnumber"],["p-input-number"]],contentQueries:function(r,i,s){if(r&1&&(yt(s,Z1,4),yt(s,eR,4),yt(s,tR,4),yt(s,Ms,4)),r&2){let o;ut(o=lt())&&(i.clearIconTemplate=o.first),ut(o=lt())&&(i.incrementButtonIconTemplate=o.first),ut(o=lt())&&(i.decrementButtonIconTemplate=o.first),ut(o=lt())&&(i.templates=o)}},viewQuery:function(r,i){if(r&1&&bv(nR,5),r&2){let s;ut(s=lt())&&(i.input=s.first)}},hostVars:4,hostBindings:function(r,i){r&2&&(W("data-pc-name","inputnumber")("data-pc-section","root"),Ie(i.hostClasses))},inputs:{showButtons:[2,"showButtons","showButtons",te],format:[2,"format","format",te],buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:[2,"maxlength","maxlength",Qt],tabindex:[2,"tabindex","tabindex",Qt],title:"title",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",ariaRequired:[2,"ariaRequired","ariaRequired",te],name:"name",required:[2,"required","required",te],autocomplete:"autocomplete",min:[2,"min","min",Qt],max:[2,"max","max",Qt],incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:[2,"readonly","readonly",te],step:[2,"step","step",Qt],allowEmpty:[2,"allowEmpty","allowEmpty",te],locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:[2,"useGrouping","useGrouping",te],variant:"variant",minFractionDigits:[2,"minFractionDigits","minFractionDigits",e=>Qt(e,null)],maxFractionDigits:[2,"maxFractionDigits","maxFractionDigits",e=>Qt(e,null)],prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:[2,"showClear","showClear",te],autofocus:[2,"autofocus","autofocus",te],disabled:"disabled",fluid:[2,"fluid","fluid",te]},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[we([kR,M0]),X,rt],decls:6,vars:32,consts:[["input",""],["pInputText","","role","spinbutton","inputmode","decimal",3,"input","keydown","keypress","paste","click","focus","blur","ngClass","ngStyle","value","variant","disabled","readonly","pSize","pAutoFocus","fluid"],[4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","tabindex","-1",3,"ngClass","class","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["class","p-inputnumber-clear-icon",3,"click",4,"ngIf"],[3,"click","ngClass"],[1,"p-inputnumber-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[1,"p-inputnumber-button-group"],["type","button","tabindex","-1",3,"mousedown","mouseup","mouseleave","keydown","keyup","ngClass","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(r,i){if(r&1){let s=xn();Se(0,"input",1,0),Qe("input",function(c){return ye(s),_e(i.onUserInput(c))})("keydown",function(c){return ye(s),_e(i.onInputKeyDown(c))})("keypress",function(c){return ye(s),_e(i.onInputKeyPress(c))})("paste",function(c){return ye(s),_e(i.onPaste(c))})("click",function(){return ye(s),_e(i.onInputClick())})("focus",function(c){return ye(s),_e(i.onInputFocus(c))})("blur",function(c){return ye(s),_e(i.onInputBlur(c))}),Ae(),Te(2,aR,3,2,"ng-container",2)(3,_R,7,17,"span",3)(4,CR,3,8,"button",4)(5,PR,3,8,"button",4)}r&2&&(Ie(i.inputStyleClass),L("ngClass","p-inputnumber-input")("ngStyle",i.inputStyle)("value",i.formattedValue())("variant",i.variant)("disabled",i.disabled)("readonly",i.readonly)("pSize",i.size)("pAutoFocus",i.autofocus)("fluid",i.hasFluid),W("id",i.inputId)("aria-valuemin",i.min)("aria-valuemax",i.max)("aria-valuenow",i.value)("placeholder",i.placeholder)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy)("title",i.title)("name",i.name)("autocomplete",i.autocomplete)("maxlength",i.maxlength)("tabindex",i.tabindex)("aria-required",i.ariaRequired)("required",i.required)("min",i.min)("max",i.max)("data-pc-section","input"),q(2),L("ngIf",i.buttonLayout!="vertical"&&i.showClear&&i.value),q(),L("ngIf",i.showButtons&&i.buttonLayout==="stacked"),q(),L("ngIf",i.showButtons&&i.buttonLayout!=="stacked"),q(),L("ngIf",i.showButtons&&i.buttonLayout!=="stacked"))},dependencies:[Ue,wi,Ei,Ci,Ii,d0,Fs,I0,v0,_0,Le],encapsulation:2,changeDetection:0})}return n})(),L0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({imports:[F0,Le,Le]})}return n})();var Ca=class{},NR=(()=>{class n{handle(e){return e.key}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),Ls=class{},MR=(()=>{class n extends Ls{compile(e,r){return e}compileTranslations(e,r){return e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),Vs=class{},FR=(()=>{class n extends Vs{getTranslation(e){return G({})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();function ju(n,t){if(n===t)return!0;if(n===null||t===null)return!1;if(n!==n&&t!==t)return!0;let e=typeof n,r=typeof t,i;if(e==r&&e=="object")if(Array.isArray(n)){if(!Array.isArray(t))return!1;if((i=n.length)==t.length){for(let s=0;s<i;s++)if(!ju(n[s],t[s]))return!1;return!0}}else{if(Array.isArray(t))return!1;if(cr(n)&&cr(t)){let s=Object.create(null);for(let o in n){if(!ju(n[o],t[o]))return!1;s[o]=!0}for(let o in t)if(!(o in s)&&typeof t[o]<"u")return!1;return!0}}return!1}function Vr(n){return typeof n<"u"&&n!==null}function V0(n){return n!==void 0}function cr(n){return Ia(n)&&!Pi(n)&&n!==null}function Ia(n){return typeof n=="object"&&n!==null}function Pi(n){return Array.isArray(n)}function zu(n){return typeof n=="string"}function LR(n){return typeof n=="function"}function Hu(n){if(Pi(n))return n.map(t=>Hu(t));if(cr(n)){let t={};return Object.keys(n).forEach(e=>{t[e]=Hu(n[e])}),t}else return n}function jf(n,t){if(!Ia(n))return Hu(t);let e=Hu(n);return Ia(e)&&Ia(t)&&Object.keys(t).forEach(r=>{cr(t[r])?r in n?e[r]=jf(n[r],t[r]):Object.assign(e,{[r]:t[r]}):Object.assign(e,{[r]:t[r]})}),e}function $0(n,t){let e=t.split(".");t="";do{t+=e.shift();let r=!e.length;if(Vr(n)){if(cr(n)&&V0(n[t])&&(cr(n[t])||Pi(n[t])||r)){n=n[t],t="";continue}if(Pi(n)){let i=parseInt(t,10);if(V0(n[i])&&(cr(n[i])||Pi(n[i])||r)){n=n[i],t="";continue}}}if(r){n=void 0;continue}t+="."}while(e.length);return n}function VR(n,t,e){return jf(n,UR(t,e))}function UR(n,t){return n.split(".").reduceRight((e,r)=>({[r]:e}),t)}var Us=class{},$R=(()=>{class n extends Us{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,r){if(zu(e))return this.interpolateString(e,r);if(LR(e))return this.interpolateFunction(e,r)}interpolateFunction(e,r){return e(r)}interpolateString(e,r){return r?e.replace(this.templateMatcher,(i,s)=>{let o=this.getInterpolationReplacement(r,s);return o!==void 0?o:i}):e}getInterpolationReplacement(e,r){return this.formatValue($0(e,r))}formatValue(e){if(zu(e))return e;if(typeof e=="number"||typeof e=="boolean")return e.toString();if(e===null)return"null";if(Pi(e))return e.join(", ");if(Ia(e))return typeof e.toString=="function"&&e.toString!==Object.prototype.toString?e.toString():JSON.stringify(e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),Uf=(()=>{class n{_onTranslationChange=new ze;_onLangChange=new ze;_onFallbackLangChange=new ze;fallbackLang=null;currentLang;translations={};languages=[];getTranslations(e){return this.translations[e]}setTranslations(e,r,i){this.translations[e]=i&&this.hasTranslationFor(e)?jf(this.translations[e],r):r,this.addLanguages([e]),this._onTranslationChange.next({lang:e,translations:this.getTranslations(e)})}getLanguages(){return this.languages}getCurrentLang(){return this.currentLang}getFallbackLang(){return this.fallbackLang}setFallbackLang(e,r=!0){this.fallbackLang=e,r&&this._onFallbackLangChange.next({lang:e,translations:this.translations[e]})}setCurrentLang(e,r=!0){this.currentLang=e,r&&this._onLangChange.next({lang:e,translations:this.translations[e]})}get onTranslationChange(){return this._onTranslationChange.asObservable()}get onLangChange(){return this._onLangChange.asObservable()}get onFallbackLangChange(){return this._onFallbackLangChange.asObservable()}addLanguages(e){this.languages=Array.from(new Set([...this.languages,...e]))}hasTranslationFor(e){return typeof this.translations[e]<"u"}deleteTranslations(e){delete this.translations[e]}getTranslation(e){let r=this.getValue(this.currentLang,e);return r===void 0&&this.fallbackLang!=null&&this.fallbackLang!==this.currentLang&&(r=this.getValue(this.fallbackLang,e)),r}getValue(e,r){return $0(this.getTranslations(e),r)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),$f=new Q("TRANSLATE_CONFIG"),Ea=n=>er(n)?n:G(n);var Bf=(()=>{class n{loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;currentLoader=O(Vs);compiler=O(Ls);parser=O(Us);missingTranslationHandler=O(Ca);store=O(Uf);extend=!1;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onFallbackLangChange(){return this.store.onFallbackLangChange}get onDefaultLangChange(){return this.store.onFallbackLangChange}constructor(){let e=x({extend:!1,fallbackLang:null},O($f,{optional:!0}));e.lang&&this.use(e.lang),e.fallbackLang&&this.setFallbackLang(e.fallbackLang),e.extend&&(this.extend=!0)}setFallbackLang(e){this.getFallbackLang()||this.store.setFallbackLang(e,!1);let r=this.loadOrExtendLanguage(e);return er(r)?(r.pipe(fn(1)).subscribe({next:()=>{this.store.setFallbackLang(e)},error:()=>{}}),r):(this.store.setFallbackLang(e),G(this.store.getTranslations(e)))}use(e){this.lastUseLanguage=e,this.getCurrentLang()||this.store.setCurrentLang(e,!1);let r=this.loadOrExtendLanguage(e);return er(r)?(r.pipe(fn(1)).subscribe({next:()=>{this.changeLang(e)},error:()=>{}}),r):(this.changeLang(e),G(this.store.getTranslations(e)))}loadOrExtendLanguage(e){if(!this.store.hasTranslationFor(e)||this.extend)return this._translationRequests[e]=this._translationRequests[e]||this.loadAndCompileTranslations(e),this._translationRequests[e]}changeLang(e){e===this.lastUseLanguage&&this.store.setCurrentLang(e)}getCurrentLang(){return this.store.getCurrentLang()}loadAndCompileTranslations(e){this.pending=!0;let r=this.currentLoader.getTranslation(e).pipe(Th(1),fn(1));return this.loadingTranslations=r.pipe(le(i=>this.compiler.compileTranslations(i,e)),Th(1),fn(1)),this.loadingTranslations.subscribe({next:i=>{this.store.setTranslations(e,i,this.extend),this.pending=!1},error:i=>{this.pending=!1}}),r}setTranslation(e,r,i=!1){let s=this.compiler.compileTranslations(r,e);this.store.setTranslations(e,s,i||this.extend)}getLangs(){return this.store.getLanguages()}addLangs(e){this.store.addLanguages(e)}getParsedResultForKey(e,r){let i=this.getTextToInterpolate(e);if(Vr(i))return this.runInterpolation(i,r);let s=this.missingTranslationHandler.handle(x({key:e,translateService:this},r!==void 0&&{interpolateParams:r}));return s!==void 0?s:e}getFallbackLang(){return this.store.getFallbackLang()}getTextToInterpolate(e){return this.store.getTranslation(e)}runInterpolation(e,r){if(Vr(e))return Pi(e)?this.runInterpolationOnArray(e,r):cr(e)?this.runInterpolationOnDict(e,r):this.parser.interpolate(e,r)}runInterpolationOnArray(e,r){return e.map(i=>this.runInterpolation(i,r))}runInterpolationOnDict(e,r){let i={};for(let s in e){let o=this.runInterpolation(e[s],r);o!==void 0&&(i[s]=o)}return i}getParsedResult(e,r){return e instanceof Array?this.getParsedResultForArray(e,r):this.getParsedResultForKey(e,r)}getParsedResultForArray(e,r){let i={},s=!1;for(let c of e)i[c]=this.getParsedResultForKey(c,r),s=s||er(i[c]);if(!s)return i;let o=e.map(c=>Ea(i[c]));return Jc(o).pipe(le(c=>{let u={};return c.forEach((l,f)=>{u[e[f]]=l}),u}))}get(e,r){if(!Vr(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(hn(()=>Ea(this.getParsedResult(e,r)))):Ea(this.getParsedResult(e,r))}getStreamOnTranslationChange(e,r){if(!Vr(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return ea(fs(()=>this.get(e,r)),this.onTranslationChange.pipe(Ct(()=>{let i=this.getParsedResult(e,r);return Ea(i)})))}stream(e,r){if(!Vr(e)||!e.length)throw new Error('Parameter "key" required');return ea(fs(()=>this.get(e,r)),this.onLangChange.pipe(Ct(()=>{let i=this.getParsedResult(e,r);return Ea(i)})))}instant(e,r){if(!Vr(e)||e.length===0)throw new Error('Parameter "key" is required and cannot be empty');let i=this.getParsedResult(e,r);return er(i)?Array.isArray(e)?e.reduce((s,o)=>(s[o]=o,s),{}):e:i}set(e,r,i=this.getCurrentLang()){this.store.setTranslations(i,VR(this.store.getTranslations(i),e,zu(r)?this.compiler.compile(r,i):this.compiler.compileTranslations(r,i)),!1)}reloadLang(e){return this.resetLang(e),this.loadAndCompileTranslations(e)}resetLang(e){delete this._translationRequests[e],this.store.deleteTranslations(e)}static getBrowserLang(){if(typeof window>"u"||!window.navigator)return;let e=this.getBrowserCultureLang();return e?e.split(/[-_]/)[0]:void 0}static getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}getBrowserLang(){return n.getBrowserLang()}getBrowserCultureLang(){return n.getBrowserCultureLang()}get defaultLang(){return this.getFallbackLang()}get currentLang(){return this.store.getCurrentLang()}get langs(){return this.store.getLanguages()}setDefaultLang(e){return this.setFallbackLang(e)}getDefaultLang(){return this.getFallbackLang()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();var u9=(()=>{class n{translate=O(Bf);_ref=O(Kt);value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onFallbackLangChange;updateValue(e,r,i){let s=o=>{this.value=o!==void 0?o:e,this.lastKey=e,this._ref.markForCheck()};if(i){let o=this.translate.getParsedResult(e,r);er(o)?o.subscribe(s):s(o)}this.translate.get(e,r).subscribe(s)}transform(e,...r){if(!e||!e.length)return e;if(ju(e,this.lastKey)&&ju(r,this.lastParams))return this.value;let i;if(Vr(r[0])&&r.length)if(zu(r[0])&&r[0].length){let s=r[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{i=JSON.parse(s)}catch(o){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${r[0]}`)}}else cr(r[0])&&(i=r[0]);return this.lastKey=e,this.lastParams=r,this.updateValue(e,i),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(s=>{(this.lastKey&&s.lang===this.translate.getCurrentLang()||s.lang===this.translate.getFallbackLang())&&(this.lastKey=null,this.updateValue(e,i,s.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(s=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,i,s.translations))})),this.onFallbackLangChange||(this.onFallbackLangChange=this.translate.onFallbackLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,i))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onFallbackLangChange<"u"&&(this.onFallbackLangChange.unsubscribe(),this.onFallbackLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=nu({name:"translate",type:n,pure:!1});static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();function BR(n){return{provide:Vs,useClass:n}}function jR(n){return{provide:Ls,useClass:n}}function zR(n){return{provide:Us,useClass:n}}function HR(n){return{provide:Ca,useClass:n}}function U0(n={},t){let e=[];n.loader&&e.push(n.loader),n.compiler&&e.push(n.compiler),n.parser&&e.push(n.parser),n.missingTranslationHandler&&e.push(n.missingTranslationHandler),t&&e.push(Uf),(n.useDefaultLang||n.defaultLanguage)&&(console.warn("The `useDefaultLang` and `defaultLanguage` options are deprecated. Please use `fallbackLang` instead."),n.useDefaultLang===!0&&n.defaultLanguage&&(n.fallbackLang=n.defaultLanguage));let r={fallbackLang:n.fallbackLang??null,lang:n.lang,extend:n.extend??!1};return e.push({provide:$f,useValue:r}),e.push({provide:Bf,useClass:Bf,deps:[Uf,Vs,Ls,Us,Ca,$f]}),e}var B0=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[...U0(x({compiler:jR(MR),parser:zR($R),loader:BR(FR),missingTranslationHandler:HR(NR)},e),!0)]}}static forChild(e={}){return{ngModule:n,providers:[...U0(e,e.isolate??!1)]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({})}return n})();var qR=["*"],GR=({dt:n})=>`
.p-inputgroup,
.p-inputgroup .p-floatlabel,
.p-inputgroup .p-iftalabel {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup .p-inputtext,
.p-inputgroup .p-inputwrapper {
    flex: 1 1 auto;
    width: 1%;
}

.p-inputgroupaddon {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: ${n("inputgroup.addon.padding")};
    background: ${n("inputgroup.addon.background")};
    color: ${n("inputgroup.addon.color")};
    border-block-start: 1px solid ${n("inputgroup.addon.border.color")};
    border-block-end: 1px solid ${n("inputgroup.addon.border.color")};
    min-width: ${n("inputgroup.addon.min.width")};
}

.p-inputgroupaddon:first-child,
.p-inputgroupaddon + .p-inputgroupaddon {
    border-inline-start: 1px solid ${n("inputgroup.addon.border.color")};
}

.p-inputgroupaddon:last-child {
    border-inline-end: 1px solid ${n("inputgroup.addon.border.color")};
}

.p-inputgroupaddon:has(.p-button) {
    padding: 0;
    overflow: hidden;
}

.p-inputgroupaddon .p-button {
    border-radius: 0;
}

.p-inputgroup > .p-component,
.p-inputgroup > .p-inputwrapper > .p-component,
.p-inputgroup:first-child > p-button > .p-button,
.p-inputgroup > .p-floatlabel > .p-component,
.p-inputgroup > .p-floatlabel > .p-inputwrapper > .p-component,
.p-inputgroup > .p-iftalabel > .p-component,
.p-inputgroup > .p-iftalabel > .p-inputwrapper > .p-component {
    border-radius: 0;
    margin: 0;
}

.p-inputgroupaddon:first-child,
.p-inputgroup > .p-component:first-child,
.p-inputgroup > .p-inputwrapper:first-child > .p-component,
.p-inputgroup > .p-floatlabel:first-child > .p-component,
.p-inputgroup > .p-floatlabel:first-child > .p-inputwrapper > .p-component,
.p-inputgroup > .p-iftalabel:first-child > .p-component,
.p-inputgroup > .p-iftalabel:first-child > .p-inputwrapper > .p-component {
    border-start-start-radius: ${n("inputgroup.addon.border.radius")};
    border-end-start-radius: ${n("inputgroup.addon.border.radius")};
}

.p-inputgroupaddon:last-child,
.p-inputgroup > .p-component:last-child,
.p-inputgroup > .p-inputwrapper:last-child > .p-component,
.p-inputgroup > .p-floatlabel:last-child > .p-component,
.p-inputgroup > .p-floatlabel:last-child > .p-inputwrapper > .p-component,
.p-inputgroup > .p-iftalabel:last-child > .p-component,
.p-inputgroup > .p-iftalabel:last-child > .p-inputwrapper > .p-component {
    border-start-end-radius: ${n("inputgroup.addon.border.radius")};
    border-end-end-radius: ${n("inputgroup.addon.border.radius")};
}

.p-inputgroup .p-component:focus,
.p-inputgroup .p-component.p-focus,
.p-inputgroup .p-inputwrapper-focus,
.p-inputgroup .p-component:focus ~ label,
.p-inputgroup .p-component.p-focus ~ label,
.p-inputgroup .p-inputwrapper-focus ~ label {
    z-index: 1;
}

.p-inputgroup > .p-button:not(.p-button-icon-only) {
    width: auto;
}

/*For PrimeNG*/

.p-inputgroup p-button:first-child, .p-inputgroup p-button:last-child {
    display: inline-flex;
}

.p-inputgroup:has(> p-button:first-child) .p-button{
    border-start-start-radius: ${n("inputgroup.addon.border.radius")};
    border-end-start-radius: ${n("inputgroup.addon.border.radius")};
}

.p-inputgroup:has(> p-button:last-child) .p-button {
    border-start-end-radius: ${n("inputgroup.addon.border.radius")};
    border-end-end-radius: ${n("inputgroup.addon.border.radius")};
}
`,WR={root:({props:n})=>["p-inputgroup",{"p-inputgroup-fluid":n.fluid}]},j0=(()=>{class n extends Re{name="inputgroup";theme=GR;classes=WR;static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();var KR=(()=>{class n extends xe{style;styleClass;_componentStyle=O(j0);static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275cmp=de({type:n,selectors:[["p-inputgroup"],["p-inputGroup"],["p-input-group"]],hostAttrs:[1,"p-inputgroup"],hostVars:5,hostBindings:function(r,i){r&2&&(W("data-pc-name","inputgroup"),_s(i.style),Ie(i.styleClass))},inputs:{style:"style",styleClass:"styleClass"},features:[we([j0]),X],ngContentSelectors:qR,decls:1,vars:0,template:function(r,i){r&1&&(gt(),mt(0))},dependencies:[Ue,Le],encapsulation:2})}return n})(),z0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({imports:[KR,Le,Le]})}return n})();var QR=["*"],YR={root:"p-inputgroupaddon"},H0=(()=>{class n extends Re{name="inputgroupaddon";classes=YR;static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),XR=(()=>{class n extends xe{style;styleClass;_componentStyle=O(H0);get hostStyle(){return this.style}static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275cmp=de({type:n,selectors:[["p-inputgroup-addon"],["p-inputGroupAddon"]],hostVars:7,hostBindings:function(r,i){r&2&&(W("data-pc-name","inputgroupaddon"),_s(i.hostStyle),Ie(i.styleClass),st("p-inputgroupaddon",!0))},inputs:{style:"style",styleClass:"styleClass"},features:[we([H0]),X],ngContentSelectors:QR,decls:1,vars:0,template:function(r,i){r&1&&(gt(),mt(0))},dependencies:[Ue],encapsulation:2})}return n})(),q0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({imports:[XR,Le,Le]})}return n})();var G0=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({imports:[A0,x0,L0,N0,Ue,$b,h0,z0,q0,B0]})};var oe="primary",La=Symbol("RouteTitle"),Wf=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function ki(n){return new Wf(n)}function ew(n,t,e){let r=e.path.split("/");if(r.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=n[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function JR(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Nn(n[e],t[e]))return!1;return!0}function Nn(n,t){let e=n?Kf(n):void 0,r=t?Kf(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let s=0;s<e.length;s++)if(i=e[s],!tw(n[i],t[i]))return!1;return!0}function Kf(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function tw(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),r=[...t].sort();return e.every((i,s)=>r[s]===i)}else return n===t}function nw(n){return n.length>0?n[n.length-1]:null}function zr(n){return er(n)?n:ys(n)?Ke(Promise.resolve(n)):G(n)}var ZR={exact:iw,subset:sw},rw={exact:eP,subset:tP,ignored:()=>!0};function W0(n,t,e){return ZR[e.paths](n.root,t.root,e.matrixParams)&&rw[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function eP(n,t){return Nn(n,t)}function iw(n,t,e){if(!Oi(n.segments,t.segments)||!Wu(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!n.children[r]||!iw(n.children[r],t.children[r],e))return!1;return!0}function tP(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>tw(n[e],t[e]))}function sw(n,t,e){return ow(n,t,t.segments,e)}function ow(n,t,e,r){if(n.segments.length>e.length){let i=n.segments.slice(0,e.length);return!(!Oi(i,e)||t.hasChildren()||!Wu(i,e,r))}else if(n.segments.length===e.length){if(!Oi(n.segments,e)||!Wu(n.segments,e,r))return!1;for(let i in t.children)if(!n.children[i]||!sw(n.children[i],t.children[i],r))return!1;return!0}else{let i=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!Oi(n.segments,i)||!Wu(n.segments,i,r)||!n.children[oe]?!1:ow(n.children[oe],t,s,r)}}function Wu(n,t,e){return t.every((r,i)=>rw[e](n[i].parameters,r.parameters))}var Fn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new De([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ki(this.queryParams),this._queryParamMap}toString(){return iP.serialize(this)}},De=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ku(this)}},Ur=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=ki(this.parameters),this._parameterMap}toString(){return cw(this)}};function nP(n,t){return Oi(n,t)&&n.every((e,r)=>Nn(e.parameters,t[r].parameters))}function Oi(n,t){return n.length!==t.length?!1:n.every((e,r)=>e.path===t[r].path)}function rP(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===oe&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==oe&&(e=e.concat(t(i,r)))}),e}var Hr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:()=>new $r,providedIn:"root"})}return n})(),$r=class{parse(t){let e=new Yf(t);return new Fn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Ta(t.root,!0)}`,r=aP(t.queryParams),i=typeof t.fragment=="string"?`#${sP(t.fragment)}`:"";return`${e}${r}${i}`}},iP=new $r;function Ku(n){return n.segments.map(t=>cw(t)).join("/")}function Ta(n,t){if(!n.hasChildren())return Ku(n);if(t){let e=n.children[oe]?Ta(n.children[oe],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==oe&&r.push(`${i}:${Ta(s,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=rP(n,(r,i)=>i===oe?[Ta(n.children[oe],!1)]:[`${i}:${Ta(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[oe]!=null?`${Ku(n)}/${e[0]}`:`${Ku(n)}/(${e.join("//")})`}}function aw(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qu(n){return aw(n).replace(/%3B/gi,";")}function sP(n){return encodeURI(n)}function Qf(n){return aw(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qu(n){return decodeURIComponent(n)}function K0(n){return Qu(n.replace(/\+/g,"%20"))}function cw(n){return`${Qf(n.path)}${oP(n.parameters)}`}function oP(n){return Object.entries(n).map(([t,e])=>`;${Qf(t)}=${Qf(e)}`).join("")}function aP(n){let t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(i=>`${qu(e)}=${qu(i)}`).join("&"):`${qu(e)}=${qu(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var cP=/^[^\/()?;#]+/;function zf(n){let t=n.match(cP);return t?t[0]:""}var uP=/^[^\/()?;=#]+/;function lP(n){let t=n.match(uP);return t?t[0]:""}var dP=/^[^=?&#]+/;function hP(n){let t=n.match(dP);return t?t[0]:""}var fP=/^[^&#]+/;function pP(n){let t=n.match(fP);return t?t[0]:""}var Yf=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[oe]=new De(t,e)),r}parseSegment(){let t=zf(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new ae(4009,!1);return this.capture(t),new Ur(Qu(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=lP(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=zf(this.remaining);i&&(r=i,this.capture(r))}t[Qu(e)]=Qu(r)}parseQueryParam(t){let e=hP(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let o=pP(this.remaining);o&&(r=o,this.capture(r))}let i=K0(e),s=K0(r);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=zf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ae(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=oe);let o=this.parseChildren();e[s]=Object.keys(o).length===1?o[oe]:new De([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new ae(4011,!1)}};function uw(n){return n.segments.length>0?new De([],{[oe]:n}):n}function lw(n){let t={};for(let[r,i]of Object.entries(n.children)){let s=lw(i);if(r===oe&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))t[o]=c;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}let e=new De(n.segments,t);return gP(e)}function gP(n){if(n.numberOfChildren===1&&n.children[oe]){let t=n.children[oe];return new De(n.segments.concat(t.segments),t.children)}return n}function Br(n){return n instanceof Fn}function dw(n,t,e=null,r=null){let i=hw(n);return fw(i,t,e,r)}function hw(n){let t;function e(s){let o={};for(let u of s.children){let l=e(u);o[u.outlet]=l}let c=new De(s.url,o);return s===n&&(t=c),c}let r=e(n.root),i=uw(r);return t??i}function fw(n,t,e,r){let i=n;for(;i.parent;)i=i.parent;if(t.length===0)return Hf(i,i,i,e,r);let s=mP(t);if(s.toRoot())return Hf(i,i,new De([],{}),e,r);let o=yP(s,i,n),c=o.processChildren?Aa(o.segmentGroup,o.index,s.commands):gw(o.segmentGroup,o.index,s.commands);return Hf(i,o.segmentGroup,c,e,r)}function Xu(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ra(n){return typeof n=="object"&&n!=null&&n.outlets}function Hf(n,t,e,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let o;n===t?o=e:o=pw(n,t,e);let c=uw(lw(o));return new Fn(c,s,i)}function pw(n,t,e){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===t?r[i]=e:r[i]=pw(s,t,e)}),new De(n.segments,r)}var Ju=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Xu(r[0]))throw new ae(4003,!1);let i=r.find(Ra);if(i&&i!==nw(r))throw new ae(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function mP(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Ju(!0,0,n);let t=0,e=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?e=!0:c===".."?t++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new Ju(e,t,r)}var js=class{segmentGroup;processChildren;index;constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function yP(n,t,e){if(n.isAbsolute)return new js(t,!0,0);if(!e)return new js(t,!1,NaN);if(e.parent===null)return new js(e,!0,0);let r=Xu(n.commands[0])?0:1,i=e.segments.length-1+r;return _P(e,i,n.numberOfDoubleDots)}function _P(n,t,e){let r=n,i=t,s=e;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ae(4005,!1);i=r.segments.length}return new js(r,!1,i-s)}function vP(n){return Ra(n[0])?n[0].outlets:{[oe]:n}}function gw(n,t,e){if(n??=new De([],{}),n.segments.length===0&&n.hasChildren())return Aa(n,t,e);let r=bP(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new De(n.segments.slice(0,r.pathIndex),{});return s.children[oe]=new De(n.segments.slice(r.pathIndex),n.children),Aa(s,0,i)}else return r.match&&i.length===0?new De(n.segments,{}):r.match&&!n.hasChildren()?Xf(n,t,e):r.match?Aa(n,0,i):Xf(n,t,e)}function Aa(n,t,e){if(e.length===0)return new De(n.segments,{});{let r=vP(e),i={};if(Object.keys(r).some(s=>s!==oe)&&n.children[oe]&&n.numberOfChildren===1&&n.children[oe].segments.length===0){let s=Aa(n.children[oe],t,e);return new De(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=gw(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new De(n.segments,i)}}function bP(n,t,e){let r=0,i=t,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return s;let o=n.segments[i],c=e[r];if(Ra(c))break;let u=`${c}`,l=r<e.length-1?e[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!Y0(u,l,o))return s;r+=2}else{if(!Y0(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Xf(n,t,e){let r=n.segments.slice(0,t),i=0;for(;i<e.length;){let s=e[i];if(Ra(s)){let u=wP(s.outlets);return new De(r,u)}if(i===0&&Xu(e[0])){let u=n.segments[t];r.push(new Ur(u.path,Q0(e[0]))),i++;continue}let o=Ra(s)?s.outlets[oe]:`${s}`,c=i<e.length-1?e[i+1]:null;o&&c&&Xu(c)?(r.push(new Ur(o,Q0(c))),i+=2):(r.push(new Ur(o,{})),i++)}return new De(r,{})}function wP(n){let t={};return Object.entries(n).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=Xf(new De([],{}),0,r))}),t}function Q0(n){let t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function Y0(n,t,e){return n==e.path&&Nn(t,e.parameters)}var Yu="imperative",ot=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ot||{}),en=class{id;url;constructor(t,e){this.id=t,this.url=e}},jr=class extends en{type=ot.NavigationStart;navigationTrigger;restoredState;constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},tn=class extends en{urlAfterRedirects;type=ot.NavigationEnd;constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},jt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(jt||{}),Hs=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Hs||{}),Mn=class extends en{reason;code;type=ot.NavigationCancel;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ln=class extends en{reason;code;type=ot.NavigationSkipped;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}},qs=class extends en{error;target;type=ot.NavigationError;constructor(t,e,r,i){super(t,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Pa=class extends en{urlAfterRedirects;state;type=ot.RoutesRecognized;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zu=class extends en{urlAfterRedirects;state;type=ot.GuardsCheckStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},el=class extends en{urlAfterRedirects;state;shouldActivate;type=ot.GuardsCheckEnd;constructor(t,e,r,i,s){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},tl=class extends en{urlAfterRedirects;state;type=ot.ResolveStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nl=class extends en{urlAfterRedirects;state;type=ot.ResolveEnd;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rl=class{route;type=ot.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},il=class{route;type=ot.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},sl=class{snapshot;type=ot.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ol=class{snapshot;type=ot.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},al=class{snapshot;type=ot.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cl=class{snapshot;type=ot.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gs=class{routerEvent;position;anchor;type=ot.Scroll;constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Oa=class{},Ws=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function EP(n,t){return n.providers&&!n._injector&&(n._injector=tu(n.providers,t,`Route: ${n.path}`)),n._injector??t}function bn(n){return n.outlet||oe}function IP(n,t){let e=n.filter(r=>bn(r)===t);return e.push(...n.filter(r=>bn(r)!==t)),e}function Va(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var ul=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Va(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Ni(this.rootInjector)}},Ni=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new ul(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||n)(Z(Pn))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ll=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Jf(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=Jf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Zf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Zf(t,this._root).map(e=>e.value)}};function Jf(n,t){if(n===t.value)return t;for(let e of t.children){let r=Jf(n,e);if(r)return r}return null}function Zf(n,t){if(n===t.value)return[t];for(let e of t.children){let r=Zf(n,e);if(r.length)return r.unshift(t),r}return[]}var Zt=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Bs(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var xa=class extends ll{snapshot;constructor(t,e){super(t),this.snapshot=e,ap(this,t)}toString(){return this.snapshot.toString()}};function mw(n){let t=CP(n),e=new Ye([new Ur("",{})]),r=new Ye({}),i=new Ye({}),s=new Ye({}),o=new Ye(""),c=new Vn(e,r,s,o,i,oe,n,t.root);return c.snapshot=t.root,new xa(new Zt(c,[]),t)}function CP(n){let t={},e={},r={},i="",s=new xi([],t,r,i,e,oe,n,null,{});return new ka("",new Zt(s,[]))}var Vn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,r,i,s,o,c,u){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(le(l=>l[La]))??G(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(le(t=>ki(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(le(t=>ki(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function dl(n,t,e="emptyOnly"){let r,{routeConfig:i}=n;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:x(x({},t.params),n.params),data:x(x({},t.data),n.data),resolve:x(x(x(x({},n.data),t.data),i?.data),n._resolvedData)}:r={params:x({},n.params),data:x({},n.data),resolve:x(x({},n.data),n._resolvedData??{})},i&&_w(i)&&(r.resolve[La]=i.title),r}var xi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[La]}constructor(t,e,r,i,s,o,c,u,l){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ki(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ki(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},ka=class extends ll{url;constructor(t,e){super(e),this.url=t,ap(this,e)}toString(){return yw(this._root)}};function ap(n,t){t.value._routerState=n,t.children.forEach(e=>ap(n,e))}function yw(n){let t=n.children.length>0?` { ${n.children.map(yw).join(", ")} } `:"";return`${n.value}${t}`}function qf(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Nn(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Nn(t.params,e.params)||n.paramsSubject.next(e.params),JR(t.url,e.url)||n.urlSubject.next(e.url),Nn(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ep(n,t){let e=Nn(n.params,t.params)&&nP(n.url,t.url),r=!n.parent!=!t.parent;return e&&!r&&(!n.parent||ep(n.parent,t.parent))}function _w(n){return typeof n.title=="string"||n.title===null}var vw=new Q(""),cp=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=oe;activateEvents=new ke;deactivateEvents=new ke;attachEvents=new ke;detachEvents=new ke;routerOutletData=On(void 0);parentContexts=O(Ni);location=O(ms);changeDetector=O(Kt);inputBinder=O(Ua,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ae(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ae(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ae(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new ae(4013,!1);this._activatedRoute=e;let i=this.location,o=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new tp(e,c,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ge({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[rt]})}return n})(),tp=class{route;childContexts;parent;outletData;constructor(t,e,r,i){this.route=t,this.childContexts=e,this.parent=r,this.outletData=i}get(t,e){return t===Vn?this.route:t===Ni?this.childContexts:t===vw?this.outletData:this.parent.get(t,e)}},Ua=new Q(""),up=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,i=Xc([r.queryParams,r.params,r.data]).pipe(Ct(([s,o,c],u)=>(c=x(x(x({},s),o),c),u===0?G(c):Promise.resolve(c)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let o=Pv(r.component);if(!o){this.unsubscribeFromRouteData(e);return}for(let{templateName:c}of o.inputs)e.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),lp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&fe(0,"router-outlet")},dependencies:[cp],encapsulation:2})}return n})();function dp(n){let t=n.children&&n.children.map(dp),e=t?be(x({},n),{children:t}):x({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==oe&&(e.component=lp),e}function TP(n,t,e){let r=Na(n,t._root,e?e._root:void 0);return new xa(r,t)}function Na(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let i=SP(n,t,e);return new Zt(r,i)}else{if(n.shouldAttach(t.value)){let s=n.retrieve(t.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(c=>Na(n,c)),o}}let r=AP(t.value),i=t.children.map(s=>Na(n,s));return new Zt(r,i)}}function SP(n,t,e){return t.children.map(r=>{for(let i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Na(n,r,i);return Na(n,r)})}function AP(n){return new Vn(new Ye(n.url),new Ye(n.params),new Ye(n.queryParams),new Ye(n.fragment),new Ye(n.data),n.outlet,n.component,n)}var Ks=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},bw="ngNavigationCancelingError";function hl(n,t){let{redirectTo:e,navigationBehaviorOptions:r}=Br(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=ww(!1,jt.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function ww(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[bw]=!0,e.cancellationCode=t,e}function DP(n){return Ew(n)&&Br(n.url)}function Ew(n){return!!n&&n[bw]}var RP=(n,t,e,r)=>le(i=>(new np(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)),np=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,r,i,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),qf(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let i=Bs(e);t.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,e,r){let i=t.value,s=e?e.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=Bs(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=Bs(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let i=Bs(e);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new cl(s.value.snapshot))}),t.children.length&&this.forwardEvent(new ol(t.value.snapshot))}activateRoutes(t,e,r){let i=t.value,s=e?e.value:null;if(qf(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),qf(c.route.value),this.activateChildRoutes(t,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,r)}},fl=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},zs=class{component;route;constructor(t,e){this.component=t,this.route=e}};function PP(n,t,e){let r=n._root,i=t?t._root:null;return Sa(r,i,e,[r.value])}function OP(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function Ys(n,t){let e=Symbol(),r=t.get(n,e);return r===e?typeof n=="function"&&!ev(n)?n:t.get(n):r}function Sa(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Bs(t);return n.children.forEach(o=>{xP(o,s[o.value.outlet],e,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>Da(c,e.getContext(o),i)),i}function xP(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=t?t.value:null,c=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=kP(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new fl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Sa(n,t,c?c.children:null,r,i):Sa(n,t,e,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new zs(c.outlet.component,o))}else o&&Da(t,c,i),i.canActivateChecks.push(new fl(r)),s.component?Sa(n,null,c?c.children:null,r,i):Sa(n,null,e,r,i);return i}function kP(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!Oi(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Oi(n.url,t.url)||!Nn(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ep(n,t)||!Nn(n.queryParams,t.queryParams);case"paramsChange":default:return!ep(n,t)}}function Da(n,t,e){let r=Bs(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?t?Da(o,t.children.getContext(s),e):Da(o,null,e):Da(o,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new zs(t.outlet.component,i)):e.canDeactivateChecks.push(new zs(null,i)):e.canDeactivateChecks.push(new zs(null,i))}function $a(n){return typeof n=="function"}function NP(n){return typeof n=="boolean"}function MP(n){return n&&$a(n.canLoad)}function FP(n){return n&&$a(n.canActivate)}function LP(n){return n&&$a(n.canActivateChild)}function VP(n){return n&&$a(n.canDeactivate)}function UP(n){return n&&$a(n.canMatch)}function Iw(n){return n instanceof X_||n?.name==="EmptyError"}var Gu=Symbol("INITIAL_VALUE");function Qs(){return Ct(n=>Xc(n.map(t=>t.pipe(fn(1),Sh(Gu)))).pipe(le(t=>{for(let e of t)if(e!==!0){if(e===Gu)return Gu;if(e===!1||$P(e))return e}return!0}),dn(t=>t!==Gu),fn(1)))}function $P(n){return Br(n)||n instanceof Ks}function BP(n,t){return Mt(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return o.length===0&&s.length===0?G(be(x({},e),{guardsResult:!0})):jP(o,r,i,n).pipe(Mt(c=>c&&NP(c)?zP(r,s,n,t):G(c)),le(c=>be(x({},e),{guardsResult:c})))})}function jP(n,t,e,r){return Ke(n).pipe(Mt(i=>KP(i.component,i.route,e,t,r)),Or(i=>i!==!0,!0))}function zP(n,t,e,r){return Ke(t).pipe(hn(i=>ea(qP(i.route.parent,r),HP(i.route,r),WP(n,i.path,e),GP(n,i.route,e))),Or(i=>i!==!0,!0))}function HP(n,t){return n!==null&&t&&t(new al(n)),G(!0)}function qP(n,t){return n!==null&&t&&t(new sl(n)),G(!0)}function GP(n,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return G(!0);let i=r.map(s=>fs(()=>{let o=Va(t)??e,c=Ys(s,o),u=FP(c)?c.canActivate(t,n):St(o,()=>c(t,n));return zr(u).pipe(Or())}));return G(i).pipe(Qs())}function WP(n,t,e){let r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>OP(o)).filter(o=>o!==null).map(o=>fs(()=>{let c=o.guards.map(u=>{let l=Va(o.node)??e,f=Ys(u,l),p=LP(f)?f.canActivateChild(r,n):St(l,()=>f(r,n));return zr(p).pipe(Or())});return G(c).pipe(Qs())}));return G(s).pipe(Qs())}function KP(n,t,e,r,i){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return G(!0);let o=s.map(c=>{let u=Va(t)??i,l=Ys(c,u),f=VP(l)?l.canDeactivate(n,t,e,r):St(u,()=>l(n,t,e,r));return zr(f).pipe(Or())});return G(o).pipe(Qs())}function QP(n,t,e,r){let i=t.canLoad;if(i===void 0||i.length===0)return G(!0);let s=i.map(o=>{let c=Ys(o,n),u=MP(c)?c.canLoad(t,e):St(n,()=>c(t,e));return zr(u)});return G(s).pipe(Qs(),Cw(r))}function Cw(n){return mh(Tt(t=>{if(typeof t!="boolean")throw hl(n,t)}),le(t=>t===!0))}function YP(n,t,e,r){let i=t.canMatch;if(!i||i.length===0)return G(!0);let s=i.map(o=>{let c=Ys(o,n),u=UP(c)?c.canMatch(t,e):St(n,()=>c(t,e));return zr(u)});return G(s).pipe(Qs(),Cw(r))}var Ma=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Fa=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function $s(n){return Jo(new Ma(n))}function XP(n){return Jo(new ae(4e3,!1))}function JP(n){return Jo(ww(!1,jt.GuardRejected))}var rp=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return G(r);if(i.numberOfChildren>1||!i.children[oe])return XP(`${t.redirectTo}`);i=i.children[oe]}}applyRedirectCommands(t,e,r,i,s){if(typeof e!="string"){let c=e,{queryParams:u,fragment:l,routeConfig:f,url:p,outlet:m,params:y,data:A,title:P}=i,D=St(s,()=>c({params:y,data:A,queryParams:u,fragment:l,routeConfig:f,url:p,outlet:m,title:P}));if(D instanceof Fn)throw new Fa(D);e=D}let o=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r);if(e[0]==="/")throw new Fa(o);return o}applyRedirectCreateUrlTree(t,e,r,i){let s=this.createSegmentGroup(t,e.root,r,i);return new Fn(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=e[c]}else r[i]=s}),r}createSegmentGroup(t,e,r,i){let s=this.createSegments(t,e.segments,r,i),o={};return Object.entries(e.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(t,u,r,i)}),new De(s,o)}createSegments(t,e,r,i){return e.map(s=>s.path[0]===":"?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,e,r){let i=r[e.path.substring(1)];if(!i)throw new ae(4001,!1);return i}findOrReturn(t,e){let r=0;for(let i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}},ip={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZP(n,t,e,r,i){let s=Tw(n,t,e);return s.matched?(r=EP(t,r),YP(r,t,e,i).pipe(le(o=>o===!0?s:x({},ip)))):G(s)}function Tw(n,t,e){if(t.path==="**")return eO(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?x({},ip):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||ew)(e,n,t);if(!i)return x({},ip);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?x(x({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function eO(n){return{matched:!0,parameters:n.length>0?nw(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function X0(n,t,e,r){return e.length>0&&rO(n,e,r)?{segmentGroup:new De(t,nO(r,new De(e,n.children))),slicedSegments:[]}:e.length===0&&iO(n,e,r)?{segmentGroup:new De(n.segments,tO(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new De(n.segments,n.children),slicedSegments:e}}function tO(n,t,e,r){let i={};for(let s of e)if(gl(n,t,s)&&!r[bn(s)]){let o=new De([],{});i[bn(s)]=o}return x(x({},r),i)}function nO(n,t){let e={};e[oe]=t;for(let r of n)if(r.path===""&&bn(r)!==oe){let i=new De([],{});e[bn(r)]=i}return e}function rO(n,t,e){return e.some(r=>gl(n,t,r)&&bn(r)!==oe)}function iO(n,t,e){return e.some(r=>gl(n,t,r))}function gl(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function sO(n,t,e){return t.length===0&&!n.children[e]}var sp=class{};function oO(n,t,e,r,i,s,o="emptyOnly"){return new op(n,t,e,r,i,o,s).recognize()}var aO=31,op=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,r,i,s,o,c){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new rp(this.urlSerializer,this.urlTree)}noMatchError(t){return new ae(4002,`'${t.segmentGroup}'`)}recognize(){let t=X0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(le(({children:e,rootSnapshot:r})=>{let i=new Zt(r,e),s=new ka("",i),o=dw(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(t){let e=new xi([],Object.freeze({}),Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,oe,e).pipe(le(r=>({children:r,rootSnapshot:e})),yi(r=>{if(r instanceof Fa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ma?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,e,r,s):this.processSegment(t,e,r,r.segments,i,!0,s).pipe(le(o=>o instanceof Zt?[o]:[]))}processChildren(t,e,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ke(s).pipe(hn(o=>{let c=r.children[o],u=IP(e,o);return this.processSegmentGroup(t,u,c,o,i)}),Ch((o,c)=>(o.push(...c),o)),Eh(null),J_(),Mt(o=>{if(o===null)return $s(r);let c=Sw(o);return cO(c),G(c)}))}processSegment(t,e,r,i,s,o,c){return Ke(e).pipe(hn(u=>this.processSegmentAgainstRoute(u._injector??t,e,u,r,i,s,o,c).pipe(yi(l=>{if(l instanceof Ma)return G(null);throw l}))),Or(u=>!!u),yi(u=>{if(Iw(u))return sO(r,i,s)?G(new sp):$s(r);throw u}))}processSegmentAgainstRoute(t,e,r,i,s,o,c,u){return bn(r)!==o&&(o===oe||!gl(i,s,r))?$s(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,s,o,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,s,o,u):$s(i)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:m}=Tw(e,i,s);if(!u)return $s(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>aO&&(this.allowRedirects=!1));let y=new xi(s,l,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,J0(i),bn(i),i.component??i._loadedComponent??null,i,Z0(i)),A=dl(y,c,this.paramsInheritanceStrategy);y.params=Object.freeze(A.params),y.data=Object.freeze(A.data);let P=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,y,t);return this.applyRedirects.lineralizeSegments(i,P).pipe(Mt(D=>this.processSegment(t,r,e,D.concat(m),o,!1,c)))}matchSegmentAgainstRoute(t,e,r,i,s,o){let c=ZP(e,r,i,t,this.urlSerializer);return r.path==="**"&&(e.children={}),c.pipe(Ct(u=>u.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Ct(({routes:l})=>{let f=r._loadedInjector??t,{parameters:p,consumedSegments:m,remainingSegments:y}=u,A=new xi(m,p,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,J0(r),bn(r),r.component??r._loadedComponent??null,r,Z0(r)),P=dl(A,o,this.paramsInheritanceStrategy);A.params=Object.freeze(P.params),A.data=Object.freeze(P.data);let{segmentGroup:D,slicedSegments:V}=X0(e,m,y,l);if(V.length===0&&D.hasChildren())return this.processChildren(f,l,D,A).pipe(le($=>new Zt(A,$)));if(l.length===0&&V.length===0)return G(new Zt(A,[]));let U=bn(r)===s;return this.processSegment(f,l,D,V,U?oe:s,!0,A).pipe(le($=>new Zt(A,$ instanceof Zt?[$]:[])))}))):$s(e)))}getChildConfig(t,e,r){return e.children?G({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?G({routes:e._loadedRoutes,injector:e._loadedInjector}):QP(t,e,r,this.urlSerializer).pipe(Mt(i=>i?this.configLoader.loadChildren(t,e).pipe(Tt(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):JP(e))):G({routes:[],injector:t})}};function cO(n){n.sort((t,e)=>t.value.outlet===oe?-1:e.value.outlet===oe?1:t.value.outlet.localeCompare(e.value.outlet))}function uO(n){let t=n.value.routeConfig;return t&&t.path===""}function Sw(n){let t=[],e=new Set;for(let r of n){if(!uO(r)){t.push(r);continue}let i=t.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):t.push(r)}for(let r of e){let i=Sw(r.children);t.push(new Zt(r.value,i))}return t.filter(r=>!e.has(r))}function J0(n){return n.data||{}}function Z0(n){return n.resolve||{}}function lO(n,t,e,r,i,s){return Mt(o=>oO(n,t,e,r,o.extractedUrl,i,s).pipe(le(({state:c,tree:u})=>be(x({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function dO(n,t){return Mt(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return G(e);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of Aw(u))o.add(l);let c=0;return Ke(o).pipe(hn(u=>s.has(u)?hO(u,r,n,t):(u.data=dl(u,u.parent,n).resolve,G(void 0))),Tt(()=>c++),Ih(1),Mt(u=>c===o.size?G(e):Zn))})}function Aw(n){let t=n.children.map(e=>Aw(e)).flat();return[n,...t]}function hO(n,t,e,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!_w(i)&&(s[La]=i.title),fO(s,n,t,r).pipe(le(o=>(n._resolvedData=o,n.data=dl(n,n.parent,e).resolve,null)))}function fO(n,t,e,r){let i=Kf(n);if(i.length===0)return G({});let s={};return Ke(i).pipe(Mt(o=>pO(n[o],t,e,r).pipe(Or(),Tt(c=>{if(c instanceof Ks)throw hl(new $r,c);s[o]=c}))),Ih(1),le(()=>s),yi(o=>Iw(o)?Zn:Jo(o)))}function pO(n,t,e,r){let i=Va(t)??r,s=Ys(n,i),o=s.resolve?s.resolve(t,e):St(i,()=>s(t,e));return zr(o)}function Gf(n){return Ct(t=>{let e=n(t);return e?Ke(e).pipe(le(()=>t)):G(t)})}var hp=(()=>{class n{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===oe);return r}getResolvedTitleForRoute(e){return e.data[La]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:()=>O(Dw),providedIn:"root"})}return n})(),Dw=(()=>{class n extends hp{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Z(cb))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Mi=new Q("",{providedIn:"root",factory:()=>({})}),Fi=new Q(""),ml=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=O(Sv);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return G(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=zr(e.loadComponent()).pipe(le(Pw),Tt(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),ps(()=>{this.componentLoaders.delete(e)})),i=new _h(r,()=>new ze).pipe(yh());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=Rw(r,this.compiler,e,this.onLoadEndListener).pipe(ps(()=>{this.childrenLoaders.delete(r)})),o=new _h(s,()=>new ze).pipe(yh());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Rw(n,t,e,r){return zr(n.loadChildren()).pipe(le(Pw),Mt(i=>i instanceof yv||Array.isArray(i)?G(i):Ke(t.compileModuleAsync(i))),le(i=>{r&&r(n);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(e).injector,o=s.get(Fi,[],{optional:!0,self:!0}).flat()),{routes:o.map(dp),injector:s}}))}function gO(n){return n&&typeof n=="object"&&"default"in n}function Pw(n){return gO(n)?n.default:n}var yl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:()=>O(mO),providedIn:"root"})}return n})(),mO=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fp=new Q(""),pp=new Q("");function Ow(n,t,e){let r=n.get(pp),i=n.get(Oe);return n.get(Be).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),c=i.startViewTransition(()=>(s(),yO(n))),{onViewTransitionCreated:u}=r;return u&&St(n,()=>u({transition:c,from:t,to:e})),o})}function yO(n){return new Promise(t=>{ov({read:()=>setTimeout(t)},{injector:n})})}var gp=new Q(""),Ba=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ze;transitionAbortSubject=new ze;configLoader=O(ml);environmentInjector=O(Pn);destroyRef=O(ta);urlSerializer=O(Hr);rootContexts=O(Ni);location=O(xr);inputBindingEnabled=O(Ua,{optional:!0})!==null;titleStrategy=O(hp);options=O(Mi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=O(yl);createViewTransition=O(fp,{optional:!0});navigationErrorHandler=O(gp,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>G(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new rl(i)),r=i=>this.events.next(new il(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(be(x({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(e){return this.transitions=new Ye(null),this.transitions.pipe(dn(r=>r!==null),Ct(r=>{let i=!1,s=!1;return G(r).pipe(Ct(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",jt.SupersededByNewNavigation),Zn;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?be(x({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=o.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&u!=="reload"){let l="";return this.events.next(new Ln(o.id,this.urlSerializer.serialize(o.rawUrl),l,Hs.IgnoredSameUrlNavigation)),o.resolve(!1),Zn}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return G(o).pipe(Ct(l=>(this.events.next(new jr(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Zn:Promise.resolve(l))),lO(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Tt(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=be(x({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let f=new Pa(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:f,source:p,restoredState:m,extras:y}=o,A=new jr(l,this.urlSerializer.serialize(f),p,m);this.events.next(A);let P=mw(this.rootComponentType).snapshot;return this.currentTransition=r=be(x({},o),{targetSnapshot:P,urlAfterRedirects:f,extras:be(x({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,G(r)}else{let l="";return this.events.next(new Ln(o.id,this.urlSerializer.serialize(o.extractedUrl),l,Hs.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Zn}}),Tt(o=>{let c=new Zu(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(c)}),le(o=>(this.currentTransition=r=be(x({},o),{guards:PP(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),BP(this.environmentInjector,o=>this.events.next(o)),Tt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw hl(this.urlSerializer,o.guardsResult);let c=new el(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(c)}),dn(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",jt.GuardRejected),!1)),Gf(o=>{if(o.guards.canActivateChecks.length!==0)return G(o).pipe(Tt(c=>{let u=new tl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Ct(c=>{let u=!1;return G(c).pipe(dO(this.paramsInheritanceStrategy,this.environmentInjector),Tt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",jt.NoDataFromResolver)}}))}),Tt(c=>{let u=new nl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Gf(o=>{let c=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(Tt(f=>{u.component=f}),le(()=>{})));for(let f of u.children)l.push(...c(f));return l};return Xc(c(o.targetSnapshot.root)).pipe(Eh(null),fn(1))}),Gf(()=>this.afterPreactivation()),Ct(()=>{let{currentSnapshot:o,targetSnapshot:c}=r,u=this.createViewTransition?.(this.environmentInjector,o.root,c.root);return u?Ke(u).pipe(le(()=>r)):G(r)}),le(o=>{let c=TP(e.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=be(x({},o),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,r}),Tt(()=>{this.events.next(new Oa)}),RP(this.rootContexts,e.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),fn(1),Tt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new tn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Z_(this.transitionAbortSubject.pipe(Tt(o=>{throw o}))),ps(()=>{!i&&!s&&this.cancelNavigationTransition(r,"",jt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),yi(o=>{if(this.destroyed)return r.resolve(!1),Zn;if(s=!0,Ew(o))this.events.next(new Mn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),DP(o)?this.events.next(new Ws(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let c=new qs(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let u=St(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof Ks){let{message:l,cancellationCode:f}=hl(this.urlSerializer,u);this.events.next(new Mn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,f)),this.events.next(new Ws(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),o}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Zn}))}))}cancelNavigationTransition(e,r,i){let s=new Mn(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _O(n){return n!==Yu}var xw=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:()=>O(vO),providedIn:"root"})}return n})(),pl=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},vO=(()=>{class n extends pl{static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kw=(()=>{class n{urlSerializer=O(Hr);options=O(Mi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=O(xr);urlHandlingStrategy=O(yl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Fn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:i}){let s=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,o=i??s;return o instanceof Fn?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:i}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=e):this.rawUrlTree=i}routerState=mw(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:()=>O(bO),providedIn:"root"})}return n})(),bO=(()=>{class n extends kw{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof jr?this.updateStateMemento():e instanceof Ln?this.commitTransition(r):e instanceof Pa?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Oa?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Mn&&(e.code===jt.GuardRejected||e.code===jt.NoDataFromResolver)?this.restoreHistory(r):e instanceof qs?this.restoreHistory(r,!0):e instanceof tn&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(e)||s){let c=this.browserPageId,u=x(x({},o),this.generateNgRouterState(i,c));this.location.replaceState(e,"",u)}else{let c=x(x({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(e,"",c)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===e.finalUrl&&s===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=j(n)))(i||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _l(n,t){n.events.pipe(dn(e=>e instanceof tn||e instanceof Mn||e instanceof qs||e instanceof Ln),le(e=>e instanceof tn||e instanceof Ln?0:(e instanceof Mn?e.code===jt.Redirect||e.code===jt.SupersededByNewNavigation:!1)?2:1),dn(e=>e!==2),fn(1)).subscribe(()=>{t()})}var wO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},EO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},wn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=O(Nh);stateManager=O(kw);options=O(Mi,{optional:!0})||{};pendingTasks=O(Zc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=O(Ba);urlSerializer=O(Hr);location=O(xr);urlHandlingStrategy=O(yl);_events=new ze;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=O(xw);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=O(Fi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!O(Ua,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new K_;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Mn&&r.code!==jt.Redirect&&r.code!==jt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof tn)this.navigated=!0;else if(r instanceof Ws){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=x({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||_O(i.source)},o);this.scheduleNavigation(c,Yu,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}CO(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Yu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,i)=>{this.navigateToSyncWithBrowser(e,i,r)})}navigateToSyncWithBrowser(e,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=x({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(e);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(dp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=x(x({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=hw(m)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),p=this.currentUrlTree.root}return fw(p,e,f,l??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=Br(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Yu,null,r)}navigate(e,r={skipLocationChange:!1}){return IO(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=x({},wO):r===!1?i=x({},EO):i=r,Br(e))return W0(this.currentUrlTree,e,i);let s=this.parseUrl(e);return W0(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(e,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,u,l;o?(c=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,m)=>{c=p,u=m});let f=this.pendingTasks.add();return _l(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function IO(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new ae(4008,!1)}function CO(n){return!(n instanceof Oa)&&!(n instanceof Ws)}var vl=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ze;constructor(e,r,i,s,o,c){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=c;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=e.events.subscribe(l=>{l instanceof tn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Br(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,s,o){let c=this.urlTree;if(c===null||this.isAnchorElement&&(e!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:pv(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,e,r):i.removeAttribute(s,e)}get urlTree(){return this.routerLinkInput===null?null:Br(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(Y(wn),Y(Vn),Dh("tabindex"),Y(on),Y(xt),Y(mn))};static \u0275dir=ge({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Qe("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&W("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",te],skipLocationChange:[2,"skipLocationChange","skipLocationChange",te],replaceUrl:[2,"replaceUrl","replaceUrl",te],routerLink:"routerLink"},features:[rt]})}return n})(),TO=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new ke;constructor(e,r,i,s,o){this.router=e,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.routerEventsSubscription=e.events.subscribe(c=>{c instanceof tn&&this.update()})}ngAfterContentInit(){G(this.links.changes,G(null)).pipe(Zo()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ke(e).pipe(Zo()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){let r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let r=SO(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?e.isActive(s,r):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(r){return new(r||n)(Y(wn),Y(xt),Y(on),Y(Kt),Y(vl,8))};static \u0275dir=ge({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&yt(s,vl,5),r&2){let o;ut(o=lt())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[rt]})}return n})();function SO(n){return!!n.paths}var ja=class{};var Nw=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,i,s){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(dn(e=>e instanceof tn),hn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=tu(s.providers,e,`Route: ${s.path}`));let o=s._injector??e,c=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(c,s.children??s._loadedRoutes))}return Ke(i).pipe(Zo())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(e,r):i=G(null);let s=i.pipe(Mt(o=>o===null?G(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Ke([s,o]).pipe(Zo())}else return s})}static \u0275fac=function(r){return new(r||n)(Z(wn),Z(Pn),Z(ja),Z(ml))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yp=new Q(""),Mw=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,r,i,s,o={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof jr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof tn?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Ln&&e.code===Hs.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Gs&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Gs(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){mv()};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();function AO(n,...t){return Wt([{provide:Fi,multi:!0,useValue:n},[],{provide:Vn,useFactory:Fw,deps:[wn]},{provide:Mh,multi:!0,useFactory:Lw},t.map(e=>e.\u0275providers)])}function Fw(n){return n.routerState.root}function Xs(n,t){return{\u0275kind:n,\u0275providers:t}}function DO(n={}){return Xs(4,[{provide:yp,useFactory:()=>{let e=O(Wh),r=O(Be),i=O(Ba),s=O(Hr);return new Mw(s,i,e,r,n)}}])}function Lw(){let n=O(it);return t=>{let e=n.get(Fh);if(t!==e.components[0])return;let r=n.get(wn),i=n.get(Vw);n.get(_p)===1&&r.initialNavigation(),n.get(Bw,null,Ah.Optional)?.setUpPreloading(),n.get(yp,null,Ah.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Vw=new Q("",{factory:()=>new ze}),_p=new Q("",{providedIn:"root",factory:()=>1});function Uw(){let n=[{provide:_p,useValue:0},ia(()=>{let t=O(it);return t.get(Bh,Promise.resolve()).then(()=>new Promise(r=>{let i=t.get(wn),s=t.get(Vw);_l(i,()=>{r(!0)}),t.get(Ba).afterPreactivation=()=>(r(!0),s.closed?G(void 0):s),i.initialNavigation()}))})];return Xs(2,n)}function $w(){let n=[ia(()=>{O(wn).setUpLocationChangeListener()}),{provide:_p,useValue:2}];return Xs(3,n)}var Bw=new Q("");function jw(n){return Xs(0,[{provide:Bw,useExisting:Nw},{provide:ja,useExisting:n}])}function zw(){return Xs(8,[up,{provide:Ua,useExisting:up}])}function Hw(n){xh("NgRouterViewTransitions");let t=[{provide:fp,useValue:Ow},{provide:pp,useValue:x({skipNextTransition:!!n?.skipInitialTransition},n)}];return Xs(9,t)}var qw=[xr,{provide:Hr,useClass:$r},wn,Ni,{provide:Vn,useFactory:Fw,deps:[wn]},ml,[]],RO=(()=>{class n{constructor(){}static forRoot(e,r){return{ngModule:n,providers:[qw,[],{provide:Fi,multi:!0,useValue:e},[],r?.errorHandler?{provide:gp,useValue:r.errorHandler}:[],{provide:Mi,useValue:r||{}},r?.useHash?OO():xO(),PO(),r?.preloadingStrategy?jw(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?kO(r):[],r?.bindToComponentInputs?zw().\u0275providers:[],r?.enableViewTransitions?Hw().\u0275providers:[],NO()]}}static forChild(e){return{ngModule:n,providers:[{provide:Fi,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({})}return n})();function PO(){return{provide:yp,useFactory:()=>{let n=O(Wh),t=O(Be),e=O(Mi),r=O(Ba),i=O(Hr);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Mw(i,r,n,t,e)}}}function OO(){return{provide:mn,useClass:qh}}function xO(){return{provide:mn,useClass:cu}}function kO(n){return[n.initialNavigation==="disabled"?$w().\u0275providers:[],n.initialNavigation==="enabledBlocking"?Uw().\u0275providers:[]]}var mp=new Q("");function NO(){return[{provide:mp,useFactory:Lw},{provide:Mh,multi:!0,useExisting:mp}]}var Gw=class n{static isArray(t,e=!0){return Array.isArray(t)&&(e||t.length!==0)}static isObject(t,e=!0){return typeof t=="object"&&!Array.isArray(t)&&t!=null&&(e||Object.keys(t).length!==0)}static equals(t,e,r){return r?this.resolveFieldData(t,r)===this.resolveFieldData(e,r):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=Array.isArray(t),i=Array.isArray(e),s,o,c;if(r&&i){if(o=t.length,o!=e.length)return!1;for(s=o;s--!==0;)if(!this.equalsByValue(t[s],e[s]))return!1;return!0}if(r!=i)return!1;var u=this.isDate(t),l=this.isDate(e);if(u!=l)return!1;if(u&&l)return t.getTime()==e.getTime();var f=t instanceof RegExp,p=e instanceof RegExp;if(f!=p)return!1;if(f&&p)return t.toString()==e.toString();var m=Object.keys(t);if(o=m.length,o!==Object.keys(e).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,m[s]))return!1;for(s=o;s--!==0;)if(c=m[s],!this.equalsByValue(t[c],e[c]))return!1;return!0}return t!==t&&e!==e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(e.indexOf(".")==-1)return t[e];{let r=e.split("."),i=t;for(let s=0,o=r.length;s<o;++s){if(i==null)return null;i=i[r[s]]}return i}}else return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,r){let i;t&&e!==r&&(r>=t.length&&(r%=t.length,e%=t.length),t.splice(r,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,r,i){if(r.length>0){let s=!1;for(let o=0;o<r.length;o++)if(this.findIndexInList(r[o],i)>e){r.splice(o,0,t),s=!0;break}s||r.push(t)}else r.push(t)}static findIndexInList(t,e){let r=-1;if(e){for(let i=0;i<e.length;i++)if(e[i]==t){r=i;break}}return r}static contains(t,e){if(t!=null&&e&&e.length){for(let r of e)if(this.equals(t,r))return!0}return!1}static removeAccents(t){return t&&(t=t.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),t}static isDate(t){return Object.prototype.toString.call(t)==="[object Date]"}static isEmpty(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!this.isDate(t)&&typeof t=="object"&&Object.keys(t).length===0}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,e,r,i=1){let s=-1,o=this.isEmpty(t),c=this.isEmpty(e);return o&&c?s=0:o?s=i:c?s=-i:typeof t=="string"&&typeof e=="string"?s=t.localeCompare(e,r,{numeric:!0}):s=t<e?-1:t>e?1:0,s}static sort(t,e,r=1,i,s=1){let o=n.compare(t,e,i,r),c=r;return(n.isEmpty(t)||n.isEmpty(e))&&(c=s===1?r:s),c*o}static merge(t,e){if(!(t==null&&e==null)){{if((t==null||typeof t=="object")&&(e==null||typeof e=="object"))return x(x({},t||{}),e||{});if((t==null||typeof t=="string")&&(e==null||typeof e=="string"))return[t||"",e||""].join(" ")}return e||t}}static isPrintableCharacter(t=""){return this.isNotEmpty(t)&&t.length===1&&t.match(/\S| /)}static getItemValue(t,...e){return this.isFunction(t)?t(...e):t}static findLastIndex(t,e){let r=-1;if(this.isNotEmpty(t))try{r=t.findLastIndex(e)}catch{r=t.lastIndexOf([...t].reverse().find(e))}return r}static findLast(t,e){let r;if(this.isNotEmpty(t))try{r=t.findLast(e)}catch{r=[...t].reverse().find(e)}return r}static deepEquals(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=Array.isArray(t),i=Array.isArray(e),s,o,c;if(r&&i){if(o=t.length,o!=e.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(t[s],e[s]))return!1;return!0}if(r!=i)return!1;var u=t instanceof Date,l=e instanceof Date;if(u!=l)return!1;if(u&&l)return t.getTime()==e.getTime();var f=t instanceof RegExp,p=e instanceof RegExp;if(f!=p)return!1;if(f&&p)return t.toString()==e.toString();var m=Object.keys(t);if(o=m.length,o!==Object.keys(e).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,m[s]))return!1;for(s=o;s--!==0;)if(c=m[s],!this.deepEquals(t[c],e[c]))return!1;return!0}return t!==t&&e!==e}static minifyCSS(t){return t&&t.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":")}static toFlatCase(t){return this.isString(t)?t.replace(/(-|_)/g,"").toLowerCase():t}static isString(t,e=!0){return typeof t=="string"&&(e||t!=="")}},Ww=0;function Xj(n="pn_id_"){return Ww++,`${n}${Ww}`}function MO(){let n=[],t=(s,o)=>{let c=n.length>0?n[n.length-1]:{key:s,value:o},u=c.value+(c.key===s?0:o)+2;return n.push({key:s,value:u}),u},e=s=>{n=n.filter(o=>o.value!==s)},r=()=>n.length>0?n[n.length-1].value:0,i=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:i,set:(s,o,c)=>{o&&(o.style.zIndex=String(t(s,c)))},clear:s=>{s&&(e(i(s)),s.style.zIndex="")},getCurrent:()=>r(),generateZIndex:t,revertZIndex:e}}var Jj=MO(),Zj=n=>!!n;var Kw=class n{authSubject=new Ye(null);productsSubject=new Ye([]);cartSubject=new Ye([]);loadingSubject=new Ye(!1);auth$=this.authSubject.asObservable();products$=this.productsSubject.asObservable();cart$=this.cartSubject.asObservable();loading$=this.loadingSubject.asObservable();setProducts(t){this.productsSubject.next(t)}setCart(t){this.cartSubject.next(t)}setLoading(t){this.loadingSubject.next(t)}addToCart(t){let e=this.cartSubject.value.slice(),r=e.findIndex(i=>i.id===t.id);r>-1?e[r]=be(x({},e[r]),{quantity:(e[r].quantity??1)+1}):e.push(be(x({},t),{quantity:1})),this.cartSubject.next(e)}removeFromCart(t){let e=this.cartSubject.value.slice(),r=e.findIndex(i=>i.id===t);r>-1&&((e[r].quantity??1)>1?e[r]=be(x({},e[r]),{quantity:e[r].quantity-1}):e.splice(r,1),this.cartSubject.next(e))}deleteFromCart(t){let e=this.cartSubject.value.slice();e=e.filter(r=>r.id!==t),this.cartSubject.next(e)}clearCart(){this.cartSubject.next([])}setUser(t){this.authSubject.next(t)}updateUserData(t){let e=this.authSubject.value;e&&this.authSubject.next(x(x({},e),t))}wishlistSubject=new Ye([]);wishlist$=this.wishlistSubject.asObservable();setWishlist(t){this.wishlistSubject.next(t)}clearWishlist(){this.wishlistSubject.next([])}static \u0275fac=function(e){return new(e||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var Qw=()=>{};var Jw=function(n){let t=[],e=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?t[e++]=i:i<2048?(t[e++]=i>>6|192,t[e++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=i>>18|240,t[e++]=i>>12&63|128,t[e++]=i>>6&63|128,t[e++]=i&63|128):(t[e++]=i>>12|224,t[e++]=i>>6&63|128,t[e++]=i&63|128)}return t},FO=function(n){let t=[],e=0,r=0;for(;e<n.length;){let i=n[e++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[e++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[e++],o=n[e++],c=n[e++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{let s=n[e++],o=n[e++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},bl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,c=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,f=s>>2,p=(s&3)<<4|c>>4,m=(c&15)<<2|l>>6,y=l&63;u||(y=64,o||(m=64)),r.push(e[f],e[p],e[m],e[y])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Jw(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):FO(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();let e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=e[n.charAt(i++)],c=i<n.length?e[n.charAt(i)]:0;++i;let l=i<n.length?e[n.charAt(i)]:64;++i;let p=i<n.length?e[n.charAt(i)]:64;if(++i,s==null||c==null||l==null||p==null)throw new bp;let m=s<<2|c>>4;if(r.push(m),l!==64){let y=c<<4&240|l>>2;if(r.push(y),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},bp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},LO=function(n){let t=Jw(n);return bl.encodeByteArray(t,!0)},Ha=function(n){return LO(n).replace(/\./g,"")},wl=function(n){try{return bl.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ep(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var VO=()=>Ep().__FIREBASE_DEFAULTS__,UO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},$O=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=n&&wl(n[1]);return t&&JSON.parse(t)},El=()=>{try{return Qw()||VO()||UO()||$O()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Ip=n=>{var t,e;return(e=(t=El())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},Zw=n=>{let t=Ip(n);if(!t)return;let e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},Cp=()=>{var n;return(n=El())===null||n===void 0?void 0:n.config},Tp=n=>{var t;return(t=El())===null||t===void 0?void 0:t[`_${n}`]};var Li=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}};function qr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Il(n){return v(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function eE(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let e={alg:"none",type:"JWT"},r=t||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ha(JSON.stringify(e)),Ha(JSON.stringify(o)),""].join(".")}var za={};function BO(){let n={prod:[],emulator:[]};for(let t of Object.keys(za))za[t]?n.emulator.push(t):n.prod.push(t);return n}function jO(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}var Yw=!1;function Cl(n,t){if(typeof window>"u"||typeof document>"u"||!qr(window.location.host)||za[n]===t||za[n]||Yw)return;za[n]=t;function e(m){return`__firebase__banner__${m}`}let r="__firebase__banner",s=BO().prod.length>0;function o(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Yw=!0,o()},m}function f(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=jO(r),y=e("text"),A=document.getElementById(y)||document.createElement("span"),P=e("learnmore"),D=document.getElementById(P)||document.createElement("a"),V=e("preprendIcon"),U=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let $=m.element;c($),f(D,P);let ne=l();u(U,V),$.append(U,A,D,ne),document.body.appendChild($)}s?(A.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function zO(){var n;let t=(n=El())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rE(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function iE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sE(){let n=dt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function oE(){return!zO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qa(){try{return typeof indexedDB=="object"}catch{return!1}}function aE(){return new Promise((n,t)=>{try{let e=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{e=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(e){t(e)}})}function a8(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var HO="FirebaseError",nn=class n extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=HO,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,En.prototype.create)}},En=class{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){let r=e[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?qO(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new nn(i,c,r)}};function qO(n,t){return n.replace(GO,(e,r)=>{let i=t[r];return i!=null?String(i):`<${r}?>`})}var GO=/\{\$([^}]+)}/g;function cE(n){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Un(n,t){if(n===t)return!0;let e=Object.keys(n),r=Object.keys(t);for(let i of e){if(!r.includes(i))return!1;let s=n[i],o=t[i];if(Xw(s)&&Xw(o)){if(!Un(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!e.includes(i))return!1;return!0}function Xw(n){return n!==null&&typeof n=="object"}function Ga(n){let t=[];for(let[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Js(n){let t={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function Zs(n){let t=n.indexOf("?");if(!t)return"";let e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function uE(n,t){let e=new wp(n,t);return e.subscribe.bind(e)}var wp=class{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let i;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");WO(t,["next","error","complete"])?i=t:i={next:t,error:e,complete:r},i.next===void 0&&(i.next=vp),i.error===void 0&&(i.error=vp),i.complete===void 0&&(i.complete=vp);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function WO(n,t){if(typeof n!="object"||n===null)return!1;for(let e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function vp(){}var KO=1e3,QO=2,YO=4*60*60*1e3,XO=.5;function JO(n,t=KO,e=QO){let r=t*Math.pow(e,n),i=Math.round(XO*r*(Math.random()-.5)*2);return Math.min(YO,r+i)}function at(n){return n&&n._delegate?n._delegate:n}var Nt=class{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Vi="[DEFAULT]";var Sp=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){let r=new Li;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:e});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;let r=this.normalizeInstanceIdentifier(t?.identifier),i=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ex(t))try{this.getOrInitializeService({instanceIdentifier:Vi})}catch{}for(let[e,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(e);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Vi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return v(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=Vi){return this.instances.has(t)}getOptions(t=Vi){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:e});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(t,e){var r;let i=this.normalizeInstanceIdentifier(e),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){let r=this.onInitCallbacks.get(e);if(r)for(let i of r)try{i(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZO(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Vi){return this.component?this.component.multipleInstances?t:Vi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ZO(n){return n===Vi?void 0:n}function ex(n){return n.instantiationMode==="EAGER"}var Tl=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let e=new Sp(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}};var tx=[],me=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(me||{}),nx={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},rx=me.INFO,ix={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},sx=(n,t,...e)=>{if(t<n.logLevel)return;let r=new Date().toISOString(),i=ix[t];if(i)console[i](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},$n=class{constructor(t){this.name=t,this._logLevel=rx,this._logHandler=sx,this._userLogHandler=null,tx.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in me))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...t),this._logHandler(this,me.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...t),this._logHandler(this,me.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,me.INFO,...t),this._logHandler(this,me.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,me.WARN,...t),this._logHandler(this,me.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...t),this._logHandler(this,me.ERROR,...t)}};var ox=(n,t)=>t.some(e=>n instanceof e),lE,dE;function ax(){return lE||(lE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cx(){return dE||(dE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var hE=new WeakMap,Dp=new WeakMap,fE=new WeakMap,Ap=new WeakMap,Pp=new WeakMap;function ux(n){let t=new Promise((e,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(Bn(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&hE.set(e,n)}).catch(()=>{}),Pp.set(t,n),t}function lx(n){if(Dp.has(n))return;let t=new Promise((e,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Dp.set(n,t)}var Rp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Dp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||fE.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Bn(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function pE(n){Rp=n(Rp)}function dx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){let r=n.call(Sl(this),t,...e);return fE.set(r,t.sort?t.sort():[t]),Bn(r)}:cx().includes(n)?function(...t){return n.apply(Sl(this),t),Bn(hE.get(this))}:function(...t){return Bn(n.apply(Sl(this),t))}}function hx(n){return typeof n=="function"?dx(n):(n instanceof IDBTransaction&&lx(n),ox(n,ax())?new Proxy(n,Rp):n)}function Bn(n){if(n instanceof IDBRequest)return ux(n);if(Ap.has(n))return Ap.get(n);let t=hx(n);return t!==n&&(Ap.set(n,t),Pp.set(t,n)),t}var Sl=n=>Pp.get(n);function mE(n,t,{blocked:e,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,t),c=Bn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Bn(o.result),u.oldVersion,u.newVersion,Bn(o.transaction),u)}),e&&o.addEventListener("blocked",u=>e(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var fx=["get","getKey","getAll","getAllKeys","count"],px=["put","add","delete","clear"],Op=new Map;function gE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Op.get(t))return Op.get(t);let e=t.replace(/FromIndex$/,""),r=t!==e,i=px.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fx.includes(e)))return;let s=function(o,...c){return v(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[e](...c),i&&u.done]))[0]})};return Op.set(t,s),s}pE(n=>be(x({},n),{get:(t,e,r)=>gE(t,e)||n.get(t,e,r),has:(t,e)=>!!gE(t,e)||n.has(t,e)}));var kp=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(gx(e)){let r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}};function gx(n){let t=n.getComponent();return t?.type==="VERSION"}var Np="@firebase/app",yE="0.13.2";var ur=new $n("@firebase/app"),mx="@firebase/app-compat",yx="@firebase/analytics-compat",_x="@firebase/analytics",vx="@firebase/app-check-compat",bx="@firebase/app-check",wx="@firebase/auth",Ex="@firebase/auth-compat",Ix="@firebase/database",Cx="@firebase/data-connect",Tx="@firebase/database-compat",Sx="@firebase/functions",Ax="@firebase/functions-compat",Dx="@firebase/installations",Rx="@firebase/installations-compat",Px="@firebase/messaging",Ox="@firebase/messaging-compat",xx="@firebase/performance",kx="@firebase/performance-compat",Nx="@firebase/remote-config",Mx="@firebase/remote-config-compat",Fx="@firebase/storage",Lx="@firebase/storage-compat",Vx="@firebase/firestore",Ux="@firebase/ai",$x="@firebase/firestore-compat",Bx="firebase",jx="11.10.0";var Mp="[DEFAULT]",zx={[Np]:"fire-core",[mx]:"fire-core-compat",[_x]:"fire-analytics",[yx]:"fire-analytics-compat",[bx]:"fire-app-check",[vx]:"fire-app-check-compat",[wx]:"fire-auth",[Ex]:"fire-auth-compat",[Ix]:"fire-rtdb",[Cx]:"fire-data-connect",[Tx]:"fire-rtdb-compat",[Sx]:"fire-fn",[Ax]:"fire-fn-compat",[Dx]:"fire-iid",[Rx]:"fire-iid-compat",[Px]:"fire-fcm",[Ox]:"fire-fcm-compat",[xx]:"fire-perf",[kx]:"fire-perf-compat",[Nx]:"fire-rc",[Mx]:"fire-rc-compat",[Fx]:"fire-gcs",[Lx]:"fire-gcs-compat",[Vx]:"fire-fst",[$x]:"fire-fst-compat",[Ux]:"fire-vertex","fire-js":"fire-js",[Bx]:"fire-js-all"};var Wa=new Map,Hx=new Map,Fp=new Map;function _E(n,t){try{n.container.addComponent(t)}catch(e){ur.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function In(n){let t=n.name;if(Fp.has(t))return ur.debug(`There were multiple attempts to register component ${t}.`),!1;Fp.set(t,n);for(let e of Wa.values())_E(e,n);for(let e of Hx.values())_E(e,n);return!0}function eo(n,t){let e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function zt(n){return n==null?!1:n.settings!==void 0}var qx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new En("app","Firebase",qx);var Lp=class{constructor(t,e,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}};var Wr=jx;function $p(n,t={}){let e=n;typeof t!="object"&&(t={name:t});let r=Object.assign({name:Mp,automaticDataCollectionEnabled:!0},t),i=r.name;if(typeof i!="string"||!i)throw Gr.create("bad-app-name",{appName:String(i)});if(e||(e=Cp()),!e)throw Gr.create("no-options");let s=Wa.get(i);if(s){if(Un(e,s.options)&&Un(r,s.config))return s;throw Gr.create("duplicate-app",{appName:i})}let o=new Tl(i);for(let u of Fp.values())o.addComponent(u);let c=new Lp(e,r,o);return Wa.set(i,c),c}function Ui(n=Mp){let t=Wa.get(n);if(!t&&n===Mp&&Cp())return $p();if(!t)throw Gr.create("no-app",{appName:n});return t}function Al(){return Array.from(Wa.values())}function Ge(n,t,e){var r;let i=(r=zx[n])!==null&&r!==void 0?r:n;e&&(i+=`-${e}`);let s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${t}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ur.warn(c.join(" "));return}In(new Nt(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}var Gx="firebase-heartbeat-database",Wx=1,Ka="firebase-heartbeat-store",xp=null;function EE(){return xp||(xp=mE(Gx,Wx,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Ka)}catch(e){console.warn(e)}}}}).catch(n=>{throw Gr.create("idb-open",{originalErrorMessage:n.message})})),xp}function Kx(n){return v(this,null,function*(){try{let e=(yield EE()).transaction(Ka),r=yield e.objectStore(Ka).get(IE(n));return yield e.done,r}catch(t){if(t instanceof nn)ur.warn(t.message);else{let e=Gr.create("idb-get",{originalErrorMessage:t?.message});ur.warn(e.message)}}})}function vE(n,t){return v(this,null,function*(){try{let r=(yield EE()).transaction(Ka,"readwrite");yield r.objectStore(Ka).put(t,IE(n)),yield r.done}catch(e){if(e instanceof nn)ur.warn(e.message);else{let r=Gr.create("idb-set",{originalErrorMessage:e?.message});ur.warn(r.message)}}})}function IE(n){return`${n.name}!${n.options.appId}`}var Qx=1024,Yx=30,Vp=class{constructor(t){this.container=t,this._heartbeatsCache=null;let e=this.container.getProvider("app").getImmediate();this._storage=new Up(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var t,e;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=bE();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Yx){let o=Jx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ur.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=bE(),{heartbeatsToSend:r,unsentEntries:i}=Xx(this._heartbeatsCache.heartbeats),s=Ha(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ur.warn(e),""}})}};function bE(){return new Date().toISOString().substring(0,10)}function Xx(n,t=Qx){let e=[],r=n.slice();for(let i of n){let s=e.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),wE(e)>t){s.dates.pop();break}}else if(e.push({agent:i.agent,dates:[i.date]}),wE(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}var Up=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return qa()?aE().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let e=yield Kx(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return v(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return vE(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return v(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return vE(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return})}};function wE(n){return Ha(JSON.stringify({version:2,heartbeats:n})).length}function Jx(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}function Zx(n){In(new Nt("platform-logger",t=>new kp(t),"PRIVATE")),In(new Nt("heartbeat",t=>new Vp(t),"PRIVATE")),Ge(Np,yE,n),Ge(Np,yE,"esm2017"),Ge("fire-js","")}Zx("");var ek="firebase",tk="11.10.0";Ge(ek,tk,"app");function Bp(n){n===void 0&&(nv(Bp),n=O(it));let t=n.get(eu);return e=>new sn(r=>{let i=t.add(),s=!1;function o(){s||(i(),s=!0)}let c=e.subscribe({next:u=>{r.next(u),o()},complete:()=>{r.complete(),o()},error:u=>{r.error(u),o()}});return c.add(()=>{r.unsubscribe(),o()}),c})}var Kr=new sa("ANGULARFIRE2_VERSION");function Qa(n,t,e){if(t){if(t.length===1)return t[0];let s=t.filter(o=>o.app===e);if(s.length===1)return s[0]}return e.container.getProvider(n).getImmediate({optional:!0})}var no=(n,t)=>{let e=t?[t]:Al(),r=[];return e.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},to=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(to||{}),CE=Uh()&&typeof Zone<"u"?to.WARN:to.SILENT;var Dl=class{zone;delegate;constructor(t,e=Y_){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{t.apply(this,[o])}):t.apply(this,[o])};return this.delegate.schedule(s,e,r)}},Qr=(()=>{class n{outsideAngular;insideAngular;constructor(){let e=O(Be);this.outsideAngular=e.runOutsideAngular(()=>new Dl(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=e.run(()=>new Dl(typeof Zone>"u"?void 0:Zone.current,Q_))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TE=!1;function nk(n,t){!TE&&(CE>to.SILENT||Uh())&&(TE=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),CE>=t&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function rk(n){let t=O(Be,{optional:!0});return t?t.runOutsideAngular(()=>n()):n()}function $i(n){let t=O(Be,{optional:!0});return t?t.run(()=>n()):n()}var ik=(n,t,e)=>(...r)=>(t&&setTimeout(t,0),St(e,()=>$i(()=>n.apply(void 0,r)))),Xe=(n,t,e)=>(e||=t?to.WARN:to.VERBOSE,function(){let r,i=arguments,s,o,c;try{s=O(Qr),o=O(eu),c=O(Pn)}catch{return nk(n,e),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(t&&(r||=$i(()=>o.add())),i[l]=ik(i[l],r,c));let u=rk(()=>n.apply(this,i));return t?u instanceof sn?u.pipe(wh(s.outsideAngular),bh(s.insideAngular),Bp(c)):u instanceof Promise?$i(()=>new Promise((l,f)=>{o.run(()=>u).then(p=>St(c,()=>$i(()=>l(p))),p=>St(c,()=>$i(()=>f(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:$i(()=>u):u instanceof sn?u.pipe(wh(s.outsideAngular),bh(s.insideAngular)):$i(()=>u)});var lr=class{constructor(t){return t}},Bi=class{constructor(){return Al()}};function sk(n){return n&&n.length===1?n[0]:new lr(Ui())}var jp=new Q("angularfire2._apps"),ok={provide:lr,useFactory:sk,deps:[[new Gt,jp]]},ak={provide:Bi,deps:[[new Gt,jp]]};function ck(n){return(t,e)=>{let r=e.get(Lt);Ge("angularfire",Kr.full,"core"),Ge("angularfire",Kr.full,"app"),Ge("angular",Tv.full,r.toString());let i=t.runOutsideAngular(()=>n(e));return new lr(i)}}function i7(n,...t){return Wt([ok,ak,{provide:jp,useFactory:ck(n),multi:!0,deps:[Be,it,Qr,...t]}])}var s7=Xe($p,!0);var uk=new Map,lk={activated:!1,tokenObservers:[]},dk={initialized:!1,enabled:!1};function Cn(n){return uk.get(n)||Object.assign({},lk)}function RE(){return dk}var hk="https://content-firebaseappcheck.googleapis.com/v1";var fk="exchangeDebugToken",SE={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},f7=24*60*60*1e3;var qp=class{constructor(t,e,r,i,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return v(this,null,function*(){this.stop();try{this.pending=new Li,this.pending.promise.catch(e=>{}),yield pk(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new Li,this.pending.promise.catch(e=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(e){this.retryPolicy(e)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}};function pk(n){return new Promise(t=>{setTimeout(t,n)})}var gk={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Yr=new En("appCheck","AppCheck",gk);function PE(n){if(!Cn(n).activated)throw Yr.create("use-before-activation",{appName:n.name})}function OE(r,i){return v(this,arguments,function*({url:n,body:t},e){let s={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){let y=yield o.getHeartbeatsHeader();y&&(s["X-Firebase-Client"]=y)}let c={method:"POST",body:JSON.stringify(t),headers:s},u;try{u=yield fetch(n,c)}catch(y){throw Yr.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Yr.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Yr.create("fetch-parse-error",{originalErrorMessage:y?.message})}let f=l.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw Yr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(f[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function xE(n,t){let{projectId:e,appId:r,apiKey:i}=n.options;return{url:`${hk}/projects/${e}/apps/${r}:${fk}?key=${i}`,body:{debug_token:t}}}var mk="firebase-app-check-database",yk=1,Gp="firebase-app-check-store";var Rl=null;function _k(){return Rl||(Rl=new Promise((n,t)=>{try{let e=indexedDB.open(mk,yk);e.onsuccess=r=>{n(r.target.result)},e.onerror=r=>{var i;t(Yr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},e.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Gp,{keyPath:"compositeKey"})}}}catch(e){t(Yr.create("storage-open",{originalErrorMessage:e?.message}))}}),Rl)}function vk(n,t){return bk(wk(n),t)}function bk(n,t){return v(this,null,function*(){let r=(yield _k()).transaction(Gp,"readwrite"),s=r.objectStore(Gp).put({compositeKey:n,value:t});return new Promise((o,c)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;c(Yr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function wk(n){return`${n.options.appId}-${n.name}`}var Ya=new $n("@firebase/app-check");function zp(n,t){return qa()?vk(n,t).catch(e=>{Ya.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function kE(){return RE().enabled}function NE(){return v(this,null,function*(){let n=RE();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Ek={error:"UNKNOWN_ERROR"};function Ik(n){return bl.encodeString(JSON.stringify(n),!1)}function Wp(n,t=!1,e=!1){return v(this,null,function*(){let r=n.app;PE(r);let i=Cn(r),s=i.token,o;if(s&&!Xa(s)&&(i.token=void 0,s=void 0),!s){let l=yield i.cachedTokenPromise;l&&(Xa(l)?s=l:yield zp(r,void 0))}if(!t&&s&&Xa(s))return{token:s.token};let c=!1;if(kE())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=OE(xE(r,yield NE()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=yield i.exchangeTokenPromise;return yield zp(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Ya.warn(l.message):e&&Ya.error(l),Hp(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),s=yield Cn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Ya.warn(l.message):e&&Ya.error(l),o=l}let u;return s?o?Xa(s)?u={token:s.token,internalError:o}:u=Hp(o):(u={token:s.token},i.token=s,yield zp(r,s)):u=Hp(o),c&&Ak(r,u),u})}function Ck(n){return v(this,null,function*(){let t=n.app;PE(t);let{provider:e}=Cn(t);if(kE()){let r=yield NE(),{token:i}=yield OE(xE(t,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield e.getToken();return{token:r}}})}function Tk(n,t,e,r){let{app:i}=n,s=Cn(i),o={next:e,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Xa(s.token)){let c=s.token;Promise.resolve().then(()=>{e({token:c.token}),AE(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>AE(n))}function ME(n,t){let e=Cn(n),r=e.tokenObservers.filter(i=>i.next!==t);r.length===0&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=r}function AE(n){let{app:t}=n,e=Cn(t),r=e.tokenRefresher;r||(r=Sk(n),e.tokenRefresher=r),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function Sk(n){let{app:t}=n;return new qp(()=>v(null,null,function*(){let e=Cn(t),r;if(e.token?r=yield Wp(n,!0):r=yield Wp(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let e=Cn(t);if(e.token){let r=e.token.issuedAtTimeMillis+(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)*.5+3e5,i=e.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},SE.RETRIAL_MIN_WAIT,SE.RETRIAL_MAX_WAIT)}function Ak(n,t){let e=Cn(n).tokenObservers;for(let r of e)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function Xa(n){return n.expireTimeMillis-Date.now()>0}function Hp(n){return{token:Ik(Ek),error:n}}var Kp=class{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){let{tokenObservers:t}=Cn(this.app);for(let e of t)ME(this.app,e.next);return Promise.resolve()}};function Dk(n,t){return new Kp(n,t)}function Rk(n){return{getToken:t=>Wp(n,t),getLimitedUseToken:()=>Ck(n),addTokenListener:t=>Tk(n,"INTERNAL",t),removeTokenListener:t=>ME(n.app,t)}}var Pk="@firebase/app-check",Ok="0.10.1";var xk="app-check",DE="app-check-internal";function kk(){In(new Nt(xk,n=>{let t=n.getProvider("app").getImmediate(),e=n.getProvider("heartbeat");return Dk(t,e)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(DE).initialize()})),In(new Nt(DE,n=>{let t=n.getProvider("app-check").getImmediate();return Rk(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ge(Pk,Ok)}kk();var Nk="app-check";var ro=class{constructor(){return no(Nk)}};var Mk=["localhost","0.0.0.0","127.0.0.1"],S7=typeof window<"u"&&Mk.includes(window.location.hostname);function XE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var JE=XE,ZE=new En("auth","Firebase",XE());var Ml=new $n("@firebase/auth");function Fk(n,...t){Ml.logLevel<=me.WARN&&Ml.warn(`Auth (${Wr}): ${n}`,...t)}function Ol(n,...t){Ml.logLevel<=me.ERROR&&Ml.error(`Auth (${Wr}): ${n}`,...t)}function zn(n,...t){throw _g(n,...t)}function ji(n,...t){return _g(n,...t)}function eI(n,t,e){let r=Object.assign(Object.assign({},JE()),{[t]:e});return new En("auth","Firebase",r).create(t,{appName:n.name})}function fr(n){return eI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _g(n,...t){if(typeof n!="string"){let e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return ZE.create(n,...t)}function K(n,t,...e){if(!n)throw _g(t,...e)}function dr(n){let t="INTERNAL ASSERTION FAILED: "+n;throw Ol(t),new Error(t)}function Zr(n,t){n||dr(t)}function Jp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Lk(){return FE()==="http:"||FE()==="https:"}function FE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Vk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Lk()||rE()||"connection"in navigator)?navigator.onLine:!0}function Uk(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var zi=class{constructor(t,e){this.shortDelay=t,this.longDelay=e,Zr(e>t,"Short delay should be less than long delay!"),this.isMobile=tE()||iE()}get(){return Vk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function vg(n,t){Zr(n.emulator,"Emulator should always be set here");let{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}var Fl=class{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var $k={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Bk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jk=new zi(3e4,6e4);function pr(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function gr(s,o,c,u){return v(this,arguments,function*(n,t,e,r,i={}){return tI(n,i,()=>v(null,null,function*(){let l={},f={};r&&(t==="GET"?f=r:l={body:JSON.stringify(r)});let p=Ga(Object.assign({key:n.config.apiKey},f)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:t,headers:m},l);return nE()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&qr(n.emulatorConfig.host)&&(y.credentials="include"),Fl.fetch()(yield nI(n,n.config.apiHost,e,p),y)}))})}function tI(n,t,e){return v(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},$k),t);try{let i=new Zp(n),s=yield Promise.race([e(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Pl(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pl(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Pl(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw Pl(n,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw eI(n,f,l);zn(n,f)}}catch(i){if(i instanceof nn)throw i;zn(n,"network-request-failed",{message:String(i)})}})}function oc(s,o,c,u){return v(this,arguments,function*(n,t,e,r,i={}){let l=yield gr(n,t,e,r,i);return"mfaPendingCredential"in l&&zn(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function nI(n,t,e,r){return v(this,null,function*(){let i=`${t}${e}?${r}`,s=n,o=s.config.emulator?vg(n.config,i):`${n.config.apiScheme}://${i}`;return Bk.includes(e)&&(yield s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o})}function zk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Zp=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(ji(this.auth,"network-request-failed")),jk.get())})}};function Pl(n,t,e){let r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);let i=ji(n,t,r);return i.customData._tokenResponse=e,i}function LE(n){return n!==void 0&&n.enterprise!==void 0}var eg=class{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return zk(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function Hk(n,t){return v(this,null,function*(){return gr(n,"GET","/v2/recaptchaConfig",pr(n,t))})}function qk(n,t){return v(this,null,function*(){return gr(n,"POST","/v1/accounts:delete",t)})}function Ll(n,t){return v(this,null,function*(){return gr(n,"POST","/v1/accounts:lookup",t)})}function Za(n){if(n)try{let t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function bg(n,t=!1){return v(this,null,function*(){let e=at(n),r=yield e.getIdToken(t),i=wg(r);K(i&&i.exp&&i.auth_time&&i.iat,e.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Za(Qp(i.auth_time)),issuedAtTime:Za(Qp(i.iat)),expirationTime:Za(Qp(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Qp(n){return Number(n)*1e3}function wg(n){let[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return Ol("JWT malformed, contained fewer than 3 sections"),null;try{let i=wl(e);return i?JSON.parse(i):(Ol("Failed to decode base64 JWT payload"),null)}catch(i){return Ol("Caught error parsing JWT payload as JSON",i?.toString()),null}}function VE(n){let t=wg(n);return K(t,"internal-error"),K(typeof t.exp<"u","internal-error"),K(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function tc(n,t,e=!1){return v(this,null,function*(){if(e)return t;try{return yield t}catch(r){throw r instanceof nn&&Gk(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Gk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var tg=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;let e=this.getInterval(t);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),e)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var nc=class{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Za(this.lastLoginAt),this.creationTime=Za(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Vl(n){return v(this,null,function*(){var t;let e=n.auth,r=yield n.getIdToken(),i=yield tc(n,Ll(e,{idToken:r}));K(i?.users.length,e,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?rI(s.providerUserInfo):[],c=Wk(n.providerData,o),u=n.isAnonymous,l=!(n.email&&s.passwordHash)&&!c?.length,f=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new nc(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,p)})}function Eg(n){return v(this,null,function*(){let t=at(n);yield Vl(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function Wk(n,t){return[...n.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function rI(n){return n.map(t=>{var{providerId:e}=t,r=vh(t,["providerId"]);return{providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Kk(n,t){return v(this,null,function*(){let e=yield tI(n,{},()=>v(null,null,function*(){let r=Ga({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=yield nI(n,i,"/v1/token",`key=${s}`),c=yield n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return n.emulatorConfig&&qr(n.emulatorConfig.host)&&(u.credentials="include"),Fl.fetch()(o,u)}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})}function Qk(n,t){return v(this,null,function*(){return gr(n,"POST","/v2/accounts:revokeToken",pr(n,t))})}var ec=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){K(t.idToken,"internal-error"),K(typeof t.idToken<"u","internal-error"),K(typeof t.refreshToken<"u","internal-error");let e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):VE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){K(t.length!==0,"internal-error");let e=VE(t);this.updateTokensAndExpiration(t,null,e)}getToken(t,e=!1){return v(this,null,function*(){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,e){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Kk(t,e);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){let{refreshToken:r,accessToken:i,expirationTime:s}=e,o=new n;return r&&(K(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(K(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return dr("not implemented")}};function Xr(n,t){K(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}var Jr=class n{constructor(t){var{uid:e,auth:r,stsTokenManager:i}=t,s=vh(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new nc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(t){return v(this,null,function*(){let e=yield tc(this,this.stsTokenManager.getToken(this.auth,t));return K(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e})}getIdTokenResult(t){return bg(this,t)}reload(){return Eg(this)}_assign(t){this!==t&&(K(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let e=new n(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){return v(this,null,function*(){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&(yield Vl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(zt(this.auth.app))return Promise.reject(fr(this.auth));let t=yield this.getIdToken();return yield tc(this,qk(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var r,i,s,o,c,u,l,f;let p=(r=e.displayName)!==null&&r!==void 0?r:void 0,m=(i=e.email)!==null&&i!==void 0?i:void 0,y=(s=e.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=e.photoURL)!==null&&o!==void 0?o:void 0,P=(c=e.tenantId)!==null&&c!==void 0?c:void 0,D=(u=e._redirectEventId)!==null&&u!==void 0?u:void 0,V=(l=e.createdAt)!==null&&l!==void 0?l:void 0,U=(f=e.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:$,emailVerified:ne,isAnonymous:$e,providerData:se,stsTokenManager:I}=e;K($&&I,t,"internal-error");let _=ec.fromJSON(this.name,I);K(typeof $=="string",t,"internal-error"),Xr(p,t.name),Xr(m,t.name),K(typeof ne=="boolean",t,"internal-error"),K(typeof $e=="boolean",t,"internal-error"),Xr(y,t.name),Xr(A,t.name),Xr(P,t.name),Xr(D,t.name),Xr(V,t.name),Xr(U,t.name);let w=new n({uid:$,auth:t,email:m,emailVerified:ne,displayName:p,isAnonymous:$e,photoURL:A,phoneNumber:y,tenantId:P,stsTokenManager:_,createdAt:V,lastLoginAt:U});return se&&Array.isArray(se)&&(w.providerData=se.map(E=>Object.assign({},E))),D&&(w._redirectEventId=D),w}static _fromIdTokenResponse(t,e,r=!1){return v(this,null,function*(){let i=new ec;i.updateFromServerResponse(e);let s=new n({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield Vl(s),s})}static _fromGetAccountInfoResponse(t,e,r){return v(this,null,function*(){let i=e.users[0];K(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?rI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new ec;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:t,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new nc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var UE=new Map;function hr(n){Zr(n instanceof Function,"Expected a class definition");let t=UE.get(n);return t?(Zr(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,UE.set(n,t),t)}var Yk=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(e,r){return v(this,null,function*(){this.storage[e]=r})}_get(e){return v(this,null,function*(){let r=this.storage[e];return r===void 0?null:r})}_remove(e){return v(this,null,function*(){delete this.storage[e]})}_addListener(e,r){}_removeListener(e,r){}}return n.type="NONE",n})(),ng=Yk;function xl(n,t,e){return`firebase:${n}:${t}:${e}`}var Ul=class n{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=xl(this.userKey,i.apiKey,s),this.fullPersistenceKey=xl("persistence",i.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return v(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let e=yield Ll(this.auth,{idToken:t}).catch(()=>{});return e?Jr._fromGetAccountInfoResponse(this.auth,e,t):null}return Jr._fromJSON(this.auth,t)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return v(this,null,function*(){if(this.persistence===t)return;let e=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,r="authUser"){return v(this,null,function*(){if(!e.length)return new n(hr(ng),t,r);let i=(yield Promise.all(e.map(l=>v(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||hr(ng),o=xl(r,t.config.apiKey,t.name),c=null;for(let l of e)try{let f=yield l._get(o);if(f){let p;if(typeof f=="string"){let m=yield Ll(t,{idToken:f}).catch(()=>{});if(!m)break;p=yield Jr._fromGetAccountInfoResponse(t,m,f)}else p=Jr._fromJSON(t,f);l!==s&&(c=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new n(s,t,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(e.map(l=>v(null,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new n(s,t,r))})}};function $E(n){let t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(aI(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(iI(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(uI(t))return"Blackberry";if(lI(t))return"Webos";if(sI(t))return"Safari";if((t.includes("chrome/")||oI(t))&&!t.includes("edge/"))return"Chrome";if(cI(t))return"Android";{let e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if(r?.length===2)return r[1]}return"Other"}function iI(n=dt()){return/firefox\//i.test(n)}function sI(n=dt()){let t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function oI(n=dt()){return/crios\//i.test(n)}function aI(n=dt()){return/iemobile/i.test(n)}function cI(n=dt()){return/android/i.test(n)}function uI(n=dt()){return/blackberry/i.test(n)}function lI(n=dt()){return/webos/i.test(n)}function Ig(n=dt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Xk(n=dt()){var t;return Ig(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Jk(){return sE()&&document.documentMode===10}function dI(n=dt()){return Ig(n)||cI(n)||lI(n)||uI(n)||/windows phone/i.test(n)||aI(n)}function hI(n,t=[]){let e;switch(n){case"Browser":e=$E(dt());break;case"Worker":e=`${$E(dt())}-${n}`;break;default:e=n}let r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Wr}/${r}`}var rg=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){let r=s=>new Promise((o,c)=>{try{let u=t(s);o(u)}catch(u){c(u)}});r.onAbort=e,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){return v(this,null,function*(){if(this.auth.currentUser===t)return;let e=[];try{for(let r of this.queue)yield r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(let i of e)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Zk(e){return v(this,arguments,function*(n,t={}){return gr(n,"GET","/v2/passwordPolicy",pr(n,t))})}var eN=6,ig=class{constructor(t){var e,r,i,s;let o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=o.minPasswordLength)!==null&&e!==void 0?e:eN,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(e=u.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(t,e){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),i&&(e.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}};var sg=class{constructor(t,e,r,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $l(this),this.idTokenSubscription=new $l(this),this.beforeStateQueue=new rg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=hr(e)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,s;if(!this._deleted&&(this.persistenceManager=yield Ul.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(e),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return v(this,null,function*(){try{let e=yield Ll(this,{idToken:t}),r=yield Jr._fromGetAccountInfoResponse(this,e,t);yield this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return v(this,null,function*(){var e;if(zt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(t);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(t){return v(this,null,function*(){let e=null;try{e=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return e})}reloadAndSetCurrentUserOrClear(t){return v(this,null,function*(){try{yield Vl(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=Uk()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return v(this,null,function*(){if(zt(this.app))return Promise.reject(fr(this));let e=t?at(t):null;return e&&K(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))})}_updateCurrentUser(t,e=!1){return v(this,null,function*(){if(!this._deleted)return t&&K(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return zt(this.app)?Promise.reject(fr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return zt(this.app)?Promise.reject(fr(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(hr(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let t=yield Zk(this),e=new ig(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new En("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{let r=this.onAuthStateChanged(()=>{r(),t()},e)}})}revokeAccessToken(t){return v(this,null,function*(){if(this.currentUser){let e=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Qk(this,r)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,e){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return v(this,null,function*(){if(!this.redirectPersistenceManager){let e=t&&hr(t)||this._popupRedirectResolver;K(e,this,"argument-error"),this.redirectPersistenceManager=yield Ul.create(this,[hr(e._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return v(this,null,function*(){var e,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return v(this,null,function*(){if(t===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,i){if(this._deleted)return()=>{};let s=typeof e=="function"?e:e.next.bind(e),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof e=="function"){let u=t.addObserver(e,r,i);return()=>{o=!0,u()}}else{let u=t.addObserver(e);return()=>{o=!0,u()}}}directlySetCurrentUser(t){return v(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=hI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var t;let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e})}_getAppCheckToken(){return v(this,null,function*(){var t;if(zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return e?.error&&Fk(`Error while retrieving App Check token: ${e.error}`),e?.token})}};function ei(n){return at(n)}var $l=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=uE(e=>this.observer=e)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Kl={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tN(n){Kl=n}function fI(n){return Kl.loadJS(n)}function nN(){return Kl.recaptchaEnterpriseScript}function rN(){return Kl.gapiScript}function pI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var og=class{constructor(){this.enterprise=new ag}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}},ag=class{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}};var iN="recaptcha-enterprise",gI="NO_RECAPTCHA",cg=class{constructor(t){this.type=iN,this.auth=ei(t)}verify(t="verify",e=!1){return v(this,null,function*(){function r(s){return v(this,null,function*(){if(!e){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,c)=>v(null,null,function*(){Hk(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let l=new eg(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{c(u)})}))})}function i(s,o,c){let u=window.grecaptcha;LE(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:t}).then(l=>{o(l)}).catch(()=>{o(gI)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new og().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(c=>{if(!e&&LE(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=nN();u.length!==0&&(u+=c),fI(u).then(()=>{i(c,s,o)}).catch(l=>{o(l)})}}).catch(c=>{o(c)})})})}};function Ja(n,t,e,r=!1,i=!1){return v(this,null,function*(){let s=new cg(n),o;if(i)o=gI;else try{o=yield s.verify(e)}catch{o=yield s.verify(e,!0)}let c=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){let u=c.phoneEnrollmentInfo.phoneNumber,l=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){let u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c})}function Bl(n,t,e,r,i){return v(this,null,function*(){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let c=yield Ja(n,t,e,e==="getOobCode");return r(n,c)}else return r(n,t).catch(c=>v(null,null,function*(){if(c.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield Ja(n,t,e,e==="getOobCode");return r(n,u)}else return Promise.reject(c)}));else if(i==="PHONE_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){let c=yield Ja(n,t,e);return r(n,c).catch(u=>v(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${e} flow.`);let f=yield Ja(n,t,e,!1,!0);return r(n,f)}return Promise.reject(u)}))}else{let c=yield Ja(n,t,e,!1,!0);return r(n,c)}else return Promise.reject(i+" provider is not supported.")})}function Cg(n,t){let e=eo(n,"auth");if(e.isInitialized()){let i=e.getImmediate(),s=e.getOptions();if(Un(s,t??{}))return i;zn(i,"already-initialized")}return e.initialize({options:t})}function sN(n,t){let e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(hr);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}function Tg(n,t,e){let r=ei(n);K(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=!!e?.disableWarnings,s=mI(t),{host:o,port:c}=oN(t),u=c===null?"":`:${c}`,l={url:`${s}//${o}${u}/`},f=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){K(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),K(Un(l,r.config.emulator)&&Un(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,qr(o)?(Il(`${s}//${o}${u}`),Cl("Auth",!0)):i||aN()}function mI(n){let t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function oN(n){let t=mI(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};let r=e[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:BE(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:BE(o)}}}function BE(n){if(!n)return null;let t=Number(n);return isNaN(t)?null:t}function aN(){function n(){let t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var rc=class{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return dr("not implemented")}_getIdTokenResponse(t){return dr("not implemented")}_linkToIdToken(t,e){return dr("not implemented")}_getReauthenticationResolver(t){return dr("not implemented")}};function cN(n,t){return v(this,null,function*(){return gr(n,"POST","/v1/accounts:signUp",t)})}function uN(n,t){return v(this,null,function*(){return oc(n,"POST","/v1/accounts:signInWithPassword",pr(n,t))})}function yI(n,t){return v(this,null,function*(){return gr(n,"POST","/v1/accounts:sendOobCode",pr(n,t))})}function lN(n,t){return v(this,null,function*(){return yI(n,t)})}function dN(n,t){return v(this,null,function*(){return yI(n,t)})}function hN(n,t){return v(this,null,function*(){return oc(n,"POST","/v1/accounts:signInWithEmailLink",pr(n,t))})}function fN(n,t){return v(this,null,function*(){return oc(n,"POST","/v1/accounts:signInWithEmailLink",pr(n,t))})}var ic=class n extends rc{constructor(t,e,r,i=null){super("password",r),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new n(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new n(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){let e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}_getIdTokenResponse(t){return v(this,null,function*(){switch(this.signInMethod){case"password":let e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bl(t,e,"signInWithPassword",uN,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return hN(t,{email:this._email,oobCode:this._password});default:zn(t,"internal-error")}})}_linkToIdToken(t,e){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bl(t,r,"signUpPassword",cN,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return fN(t,{idToken:e,email:this._email,oobCode:this._password});default:zn(t,"internal-error")}})}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}};function Yp(n,t){return v(this,null,function*(){return oc(n,"POST","/v1/accounts:signInWithIdp",pr(n,t))})}function pN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gN(n){let t=Js(Zs(n)).link,e=t?Js(Zs(t)).deep_link_id:null,r=Js(Zs(n)).deep_link_id;return(r?Js(Zs(r)).link:null)||r||e||t||n}var jl=class n{constructor(t){var e,r,i,s,o,c;let u=Js(Zs(t)),l=(e=u.apiKey)!==null&&e!==void 0?e:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,p=pN((i=u.mode)!==null&&i!==void 0?i:null);K(l&&f&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.lang)!==null&&o!==void 0?o:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(t){let e=gN(t);try{return new n(e)}catch{return null}}};var _I=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(e,r){return ic._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){let i=jl.parseLink(r);return K(i,"argument-error"),ic._fromEmailAndCode(e,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),zl=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var ug=class extends zl{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};function mN(n,t){return v(this,null,function*(){return oc(n,"POST","/v1/accounts:signUp",pr(n,t))})}var io=class n{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,r,i=!1){return v(this,null,function*(){let s=yield Jr._fromIdTokenResponse(t,r,i),o=jE(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:e})})}static _forOperation(t,e,r){return v(this,null,function*(){yield t._updateTokensIfNecessary(r,!0);let i=jE(r);return new n({user:t,providerId:i,_tokenResponse:r,operationType:e})})}};function jE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var lg=class n extends nn{constructor(t,e,r,i){var s;super(e.code,e.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,i){return new n(t,e,r,i)}};function vI(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?lg._fromErrorAndOperation(n,s,t,r):s})}function yN(n,t,e=!1){return v(this,null,function*(){let r=yield tc(n,t._linkToIdToken(n.auth,yield n.getIdToken()),e);return io._forOperation(n,"link",r)})}function _N(n,t,e=!1){return v(this,null,function*(){let{auth:r}=n;if(zt(r.app))return Promise.reject(fr(r));let i="reauthenticate";try{let s=yield tc(n,vI(r,i,t,n),e);K(s.idToken,r,"internal-error");let o=wg(s.idToken);K(o,r,"internal-error");let{sub:c}=o;return K(n.uid===c,r,"user-mismatch"),io._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&zn(r,"user-mismatch"),s}})}function bI(n,t,e=!1){return v(this,null,function*(){if(zt(n.app))return Promise.reject(fr(n));let r="signIn",i=yield vI(n,r,t),s=yield io._fromIdTokenResponse(n,r,i);return e||(yield n._updateCurrentUser(s.user)),s})}function Sg(n,t){return v(this,null,function*(){return bI(ei(n),t)})}function wI(n,t,e){var r;K(((r=e.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),K(typeof e.dynamicLinkDomain>"u"||e.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),K(typeof e.linkDomain>"u"||e.linkDomain.length>0,n,"invalid-hosting-link-domain"),t.continueUrl=e.url,t.dynamicLinkDomain=e.dynamicLinkDomain,t.linkDomain=e.linkDomain,t.canHandleCodeInApp=e.handleCodeInApp,e.iOS&&(K(e.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),t.iOSBundleId=e.iOS.bundleId),e.android&&(K(e.android.packageName.length>0,n,"missing-android-pkg-name"),t.androidInstallApp=e.android.installApp,t.androidMinimumVersionCode=e.android.minimumVersion,t.androidPackageName=e.android.packageName)}function EI(n){return v(this,null,function*(){let t=ei(n);t._getPasswordPolicyInternal()&&(yield t._updatePasswordPolicy())})}function Ag(n,t,e){return v(this,null,function*(){let r=ei(n),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};e&&wI(r,i,e),yield Bl(r,i,"getOobCode",dN,"EMAIL_PASSWORD_PROVIDER")})}function Dg(n,t,e){return v(this,null,function*(){if(zt(n.app))return Promise.reject(fr(n));let r=ei(n),o=yield Bl(r,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mN,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&EI(n),u}),c=yield io._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(c.user),c})}function Rg(n,t,e){return zt(n.app)?Promise.reject(fr(n)):Sg(at(n),_I.credential(t,e)).catch(r=>v(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&EI(n),r}))}function Pg(n,t){return v(this,null,function*(){let e=at(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};t&&wI(e.auth,i,t);let{email:s}=yield lN(e.auth,i);s!==n.email&&(yield n.reload())})}function Ql(n,t,e,r){return at(n).onIdTokenChanged(t,e,r)}function Og(n,t,e){return at(n).beforeAuthStateChanged(t,e)}function ac(n,t,e,r){return at(n).onAuthStateChanged(t,e,r)}function xg(n){return at(n).signOut()}var Hl="__sak";var ql=class{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Hl,"1"),this.storage.removeItem(Hl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){let e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var vN=1e3,bN=10,wN=(()=>{class n extends ql{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&e(r,s,i)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=e.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);Jk()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,bN):s()}notifyListeners(e,r){this.localCache[e]=r;let i=this.listeners[e];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:i}),!0)})},vN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(e,r){return v(this,null,function*(){yield Pr(n.prototype,this,"_set").call(this,e,r),this.localCache[e]=JSON.stringify(r)})}_get(e){return v(this,null,function*(){let r=yield Pr(n.prototype,this,"_get").call(this,e);return this.localCache[e]=JSON.stringify(r),r})}_remove(e){return v(this,null,function*(){yield Pr(n.prototype,this,"_remove").call(this,e),delete this.localCache[e]})}}return n.type="LOCAL",n})(),II=wN;var EN=(()=>{class n extends ql{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}return n.type="SESSION",n})(),kg=EN;function IN(n){return Promise.all(n.map(t=>v(null,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(e){return{fulfilled:!1,reason:e}}})))}var CN=(()=>{class n{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;let i=new n(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}handleEvent(e){return v(this,null,function*(){let r=e,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(f=>v(this,null,function*(){return f(r.origin,o)})),l=yield IN(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function CI(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}var dg=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let l=CI("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(m.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function jn(){return window}function TN(n){jn().location.href=n}function TI(){return typeof jn().WorkerGlobalScope<"u"&&typeof jn().importScripts=="function"}function SN(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function AN(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function DN(){return TI()?self:null}var SI="firebaseLocalStorageDb",RN=1,Gl="firebaseLocalStorage",AI="fbase_key",Hi=class{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}};function Yl(n,t){return n.transaction([Gl],t?"readwrite":"readonly").objectStore(Gl)}function PN(){let n=indexedDB.deleteDatabase(SI);return new Hi(n).toPromise()}function hg(){let n=indexedDB.open(SI,RN);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Gl,{keyPath:AI})}catch(i){e(i)}}),n.addEventListener("success",()=>v(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Gl)?t(r):(r.close(),yield PN(),t(yield hg()))}))})}function zE(n,t,e){return v(this,null,function*(){let r=Yl(n,!0).put({[AI]:t,value:e});return new Hi(r).toPromise()})}function ON(n,t){return v(this,null,function*(){let e=Yl(n,!1).get(t),r=yield new Hi(e).toPromise();return r===void 0?null:r.value})}function HE(n,t){let e=Yl(n,!0).delete(t);return new Hi(e).toPromise()}var xN=800,kN=3,NN=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield hg(),this.db)})}_withRetries(e){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield e(i)}catch(i){if(r++>kN)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return TI()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=CN._getInstance(DN()),this.receiver._subscribe("keyChanged",(e,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(e,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var e,r;if(this.activeServiceWorker=yield SN(),!this.activeServiceWorker)return;this.sender=new dg(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(e){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||AN()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let e=yield hg();return yield zE(e,Hl,"1"),yield HE(e,Hl),!0}catch{}return!1})}_withPendingWrite(e){return v(this,null,function*(){this.pendingWrites++;try{yield e()}finally{this.pendingWrites--}})}_set(e,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>zE(i,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)}))})}_get(e){return v(this,null,function*(){let r=yield this._withRetries(i=>ON(i,e));return this.localCache[e]=r,r})}_remove(e){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>HE(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)}))})}_poll(){return v(this,null,function*(){let e=yield this._withRetries(s=>{let o=Yl(s,!1).getAll();return new Hi(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(e.length!==0)for(let{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(e,r){this.localCache[e]=r;let i=this.listeners[e];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),xN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),DI=NN;var N7=pI("rcb"),M7=new zi(3e4,6e4);function MN(n,t){return t?hr(t):(K(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var sc=class extends rc{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Yp(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Yp(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Yp(t,this._buildIdpRequest())}_buildIdpRequest(t){let e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}};function FN(n){return bI(n.auth,new sc(n),n.bypassAuthState)}function LN(n){let{auth:t,user:e}=n;return K(e,t,"internal-error"),_N(e,new sc(n),n.bypassAuthState)}function VN(n){return v(this,null,function*(){let{auth:t,user:e}=n;return K(e,t,"internal-error"),yN(e,new sc(n),n.bypassAuthState)})}var fg=class{constructor(t,e,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((t,e)=>v(this,null,function*(){this.pendingPromise={resolve:t,reject:e};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(t){return v(this,null,function*(){let{urlResponse:e,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=t;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:e,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return FN;case"linkViaPopup":case"linkViaRedirect":return VN;case"reauthViaPopup":case"reauthViaRedirect":return LN;default:zn(this.auth,"internal-error")}}resolve(t){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var F7=new zi(2e3,1e4);var UN="pendingRedirect",kl=new Map,pg=class n extends fg{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let t=kl.get(this.auth._key());if(!t){try{let r=(yield $N(this.resolver,this.auth))?yield Pr(n.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}kl.set(this.auth._key(),t)}return this.bypassAuthState||kl.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return v(this,null,function*(){if(t.type==="signInViaRedirect")return Pr(n.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let e=yield this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,Pr(n.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function $N(n,t){return v(this,null,function*(){let e=zN(t),r=jN(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(e))==="true";return yield r._remove(e),i})}function BN(n,t){kl.set(n._key(),t)}function jN(n){return hr(n._redirectPersistence)}function zN(n){return xl(UN,n.config.apiKey,n.name)}function HN(n,t,e=!1){return v(this,null,function*(){if(zt(n.app))return Promise.reject(fr(n));let r=ei(n),i=MN(r,t),o=yield new pg(r,i,e).execute();return o&&!e&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,t)),o})}var qN=10*60*1e3,gg=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!GN(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var r;if(t.error&&!RI(t)){let i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";e.onError(ji(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){let r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=qN&&this.cachedEventUids.clear(),this.cachedEventUids.has(qE(t))}saveEventToCache(t){this.cachedEventUids.add(qE(t)),this.lastProcessedEventTime=Date.now()}};function qE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function RI({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function GN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RI(n);default:return!1}}function WN(e){return v(this,arguments,function*(n,t={}){return gr(n,"GET","/v1/projects",t)})}var KN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QN=/^https?/;function YN(n){return v(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:t}=yield WN(n);for(let e of t)try{if(XN(e))return}catch{}zn(n,"unauthorized-domain")})}function XN(n){let t=Jp(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&o.hostname===r}if(!QN.test(e))return!1;if(KN.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var JN=new zi(3e4,6e4);function GE(){let n=jn().___jsl;if(n?.H){for(let t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function ZN(n){return new Promise((t,e)=>{var r,i,s;function o(){GE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{GE(),e(ji(n,"network-request-failed"))},timeout:JN.get()})}if(!((i=(r=jn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=jn().gapi)===null||s===void 0)&&s.load)o();else{let c=pI("iframefcb");return jn()[c]=()=>{gapi.load?o():e(ji(n,"network-request-failed"))},fI(`${rN()}?onload=${c}`).catch(u=>e(u))}}).catch(t=>{throw Nl=null,t})}var Nl=null;function eM(n){return Nl=Nl||ZN(n),Nl}var tM=new zi(5e3,15e3),nM="__/auth/iframe",rM="emulator/auth/iframe",iM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oM(n){let t=n.config;K(t.authDomain,n,"auth-domain-config-required");let e=t.emulator?vg(t,rM):`https://${n.config.authDomain}/${nM}`,r={apiKey:t.apiKey,appName:n.name,v:Wr},i=sM.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${e}?${Ga(r).slice(1)}`}function aM(n){return v(this,null,function*(){let t=yield eM(n),e=jn().gapi;return K(e,n,"internal-error"),t.open({where:document.body,url:oM(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iM,dontclear:!0},r=>new Promise((i,s)=>v(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=ji(n,"network-request-failed"),c=jn().setTimeout(()=>{s(o)},tM.get());function u(){jn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var cM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uM=500,lM=600,dM="_blank",hM="http://localhost",Wl=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function fM(n,t,e,r=uM,i=lM){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},cM),{width:r.toString(),height:i.toString(),top:s,left:o}),l=dt().toLowerCase();e&&(c=oI(l)?dM:e),iI(l)&&(t=t||hM,u.scrollbars="yes");let f=Object.entries(u).reduce((m,[y,A])=>`${m}${y}=${A},`,"");if(Xk(l)&&c!=="_self")return pM(t||"",c),new Wl(null);let p=window.open(t||"",c,f);K(p,n,"popup-blocked");try{p.focus()}catch{}return new Wl(p)}function pM(n,t){let e=document.createElement("a");e.href=n,e.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}var gM="__/auth/handler",mM="emulator/auth/handler",yM=encodeURIComponent("fac");function WE(n,t,e,r,i,s){return v(this,null,function*(){K(n.config.authDomain,n,"auth-domain-config-required"),K(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Wr,eventId:i};if(t instanceof zl){t.setDefaultLanguage(n.languageCode),o.providerId=t.providerId||"",cE(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(let[f,p]of Object.entries(s||{}))o[f]=p}if(t instanceof ug){let f=t.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}n.tenantId&&(o.tid=n.tenantId);let c=o;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield n._getAppCheckToken(),l=u?`#${yM}=${encodeURIComponent(u)}`:"";return`${_M(n)}?${Ga(c).slice(1)}${l}`})}function _M({config:n}){return n.emulator?vg(n,mM):`https://${n.authDomain}/${gM}`}var Xp="webStorageSupport",mg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kg,this._completeRedirectFn=HN,this._overrideRedirectResult=BN}_openPopup(t,e,r,i){return v(this,null,function*(){var s;Zr((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield WE(t,e,r,Jp(),i);return fM(t,o,CI())})}_openRedirect(t,e,r,i){return v(this,null,function*(){yield this._originValidation(t);let s=yield WE(t,e,r,Jp(),i);return TN(s),new Promise(()=>{})})}_initialize(t){let e=t._key();if(this.eventManagers[e]){let{manager:i,promise:s}=this.eventManagers[e];return i?Promise.resolve(i):(Zr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}initAndGetManager(t){return v(this,null,function*(){let e=yield aM(t),r=new gg(t);return e.register("authEvent",i=>(K(i?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r})}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Xp,{type:Xp},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Xp];o!==void 0&&e(!!o),zn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=YN(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return dI()||sI()||Ig()}},PI=mg;var KE="@firebase/auth",QE="1.10.8";var yg=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function vM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bM(n){In(new Nt("auth",(t,{options:e})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;K(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hI(n)},l=new sg(r,i,s,u);return sN(l,e),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),In(new Nt("auth-internal",t=>{let e=ei(t.getProvider("auth").getImmediate());return(r=>new yg(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ge(KE,QE,vM(n)),Ge(KE,QE,"esm2017")}var wM=5*60,EM=Tp("authIdTokenMaxAge")||wM,YE=null,IM=n=>t=>v(null,null,function*(){let e=t&&(yield t.getIdTokenResult()),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>EM)return;let i=e?.token;YE!==i&&(YE=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ng(n=Ui()){let t=eo(n,"auth");if(t.isInitialized())return t.getImmediate();let e=Cg(n,{popupRedirectResolver:PI,persistence:[DI,II,kg]}),r=Tp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=IM(s.toString());Og(e,o,()=>o(e.currentUser)),Ql(e,c=>o(c))}}let i=Ip("auth");return i&&Tg(e,`http://${i}`),e}function CM(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}tN({loadJS(n){return new Promise((t,e)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=i=>{let s=ji("internal-error");s.customData=i,e(s)},r.type="text/javascript",r.charset="UTF-8",CM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bM("Browser");function xI(n){return new sn(function(t){var e=ac(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t));return{unsubscribe:e}})}var kI="auth",qi=class{constructor(t){return t}},cc=class{constructor(){return no(kI)}};var Mg=new Q("angularfire2.auth-instances");function uF(n,t){let e=Qa(kI,n,t);return e&&new qi(e)}function lF(n){return(t,e)=>{let r=t.runOutsideAngular(()=>n(e));return new qi(r)}}var dF={provide:cc,deps:[[new Gt,Mg]]},hF={provide:qi,useFactory:uF,deps:[[new Gt,Mg],lr]};function Dz(n,...t){return Ge("angularfire",Kr.full,"auth"),Wt([hF,dF,{provide:Mg,useFactory:lF(n),multi:!0,deps:[Be,it,Qr,Bi,[new Gt,ro],...t]}])}var Rz=Xe(xI,!0);var NI=Xe(Dg,!0,2);var Pz=Xe(Ng,!0);var Fg=Xe(ac,!0);var Lg=Xe(Pg,!0,2),MI=Xe(Ag,!0,2);var FI=Xe(Rg,!0,2);var LI=Xe(xg,!0,2);var VI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},UI={};var mr,Vg;(function(){var n;function t(I,_){function w(){}w.prototype=_.prototype,I.D=_.prototype,I.prototype=new w,I.prototype.constructor=I,I.C=function(E,C,S){for(var b=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)b[Rt-2]=arguments[Rt];return _.prototype[C].apply(E,b)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,e),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,_,w){w||(w=0);var E=Array(16);if(typeof _=="string")for(var C=0;16>C;++C)E[C]=_.charCodeAt(w++)|_.charCodeAt(w++)<<8|_.charCodeAt(w++)<<16|_.charCodeAt(w++)<<24;else for(C=0;16>C;++C)E[C]=_[w++]|_[w++]<<8|_[w++]<<16|_[w++]<<24;_=I.g[0],w=I.g[1],C=I.g[2];var S=I.g[3],b=_+(S^w&(C^S))+E[0]+3614090360&4294967295;_=w+(b<<7&4294967295|b>>>25),b=S+(C^_&(w^C))+E[1]+3905402710&4294967295,S=_+(b<<12&4294967295|b>>>20),b=C+(w^S&(_^w))+E[2]+606105819&4294967295,C=S+(b<<17&4294967295|b>>>15),b=w+(_^C&(S^_))+E[3]+3250441966&4294967295,w=C+(b<<22&4294967295|b>>>10),b=_+(S^w&(C^S))+E[4]+4118548399&4294967295,_=w+(b<<7&4294967295|b>>>25),b=S+(C^_&(w^C))+E[5]+1200080426&4294967295,S=_+(b<<12&4294967295|b>>>20),b=C+(w^S&(_^w))+E[6]+2821735955&4294967295,C=S+(b<<17&4294967295|b>>>15),b=w+(_^C&(S^_))+E[7]+4249261313&4294967295,w=C+(b<<22&4294967295|b>>>10),b=_+(S^w&(C^S))+E[8]+1770035416&4294967295,_=w+(b<<7&4294967295|b>>>25),b=S+(C^_&(w^C))+E[9]+2336552879&4294967295,S=_+(b<<12&4294967295|b>>>20),b=C+(w^S&(_^w))+E[10]+4294925233&4294967295,C=S+(b<<17&4294967295|b>>>15),b=w+(_^C&(S^_))+E[11]+2304563134&4294967295,w=C+(b<<22&4294967295|b>>>10),b=_+(S^w&(C^S))+E[12]+1804603682&4294967295,_=w+(b<<7&4294967295|b>>>25),b=S+(C^_&(w^C))+E[13]+4254626195&4294967295,S=_+(b<<12&4294967295|b>>>20),b=C+(w^S&(_^w))+E[14]+2792965006&4294967295,C=S+(b<<17&4294967295|b>>>15),b=w+(_^C&(S^_))+E[15]+1236535329&4294967295,w=C+(b<<22&4294967295|b>>>10),b=_+(C^S&(w^C))+E[1]+4129170786&4294967295,_=w+(b<<5&4294967295|b>>>27),b=S+(w^C&(_^w))+E[6]+3225465664&4294967295,S=_+(b<<9&4294967295|b>>>23),b=C+(_^w&(S^_))+E[11]+643717713&4294967295,C=S+(b<<14&4294967295|b>>>18),b=w+(S^_&(C^S))+E[0]+3921069994&4294967295,w=C+(b<<20&4294967295|b>>>12),b=_+(C^S&(w^C))+E[5]+3593408605&4294967295,_=w+(b<<5&4294967295|b>>>27),b=S+(w^C&(_^w))+E[10]+38016083&4294967295,S=_+(b<<9&4294967295|b>>>23),b=C+(_^w&(S^_))+E[15]+3634488961&4294967295,C=S+(b<<14&4294967295|b>>>18),b=w+(S^_&(C^S))+E[4]+3889429448&4294967295,w=C+(b<<20&4294967295|b>>>12),b=_+(C^S&(w^C))+E[9]+568446438&4294967295,_=w+(b<<5&4294967295|b>>>27),b=S+(w^C&(_^w))+E[14]+3275163606&4294967295,S=_+(b<<9&4294967295|b>>>23),b=C+(_^w&(S^_))+E[3]+4107603335&4294967295,C=S+(b<<14&4294967295|b>>>18),b=w+(S^_&(C^S))+E[8]+1163531501&4294967295,w=C+(b<<20&4294967295|b>>>12),b=_+(C^S&(w^C))+E[13]+2850285829&4294967295,_=w+(b<<5&4294967295|b>>>27),b=S+(w^C&(_^w))+E[2]+4243563512&4294967295,S=_+(b<<9&4294967295|b>>>23),b=C+(_^w&(S^_))+E[7]+1735328473&4294967295,C=S+(b<<14&4294967295|b>>>18),b=w+(S^_&(C^S))+E[12]+2368359562&4294967295,w=C+(b<<20&4294967295|b>>>12),b=_+(w^C^S)+E[5]+4294588738&4294967295,_=w+(b<<4&4294967295|b>>>28),b=S+(_^w^C)+E[8]+2272392833&4294967295,S=_+(b<<11&4294967295|b>>>21),b=C+(S^_^w)+E[11]+1839030562&4294967295,C=S+(b<<16&4294967295|b>>>16),b=w+(C^S^_)+E[14]+4259657740&4294967295,w=C+(b<<23&4294967295|b>>>9),b=_+(w^C^S)+E[1]+2763975236&4294967295,_=w+(b<<4&4294967295|b>>>28),b=S+(_^w^C)+E[4]+1272893353&4294967295,S=_+(b<<11&4294967295|b>>>21),b=C+(S^_^w)+E[7]+4139469664&4294967295,C=S+(b<<16&4294967295|b>>>16),b=w+(C^S^_)+E[10]+3200236656&4294967295,w=C+(b<<23&4294967295|b>>>9),b=_+(w^C^S)+E[13]+681279174&4294967295,_=w+(b<<4&4294967295|b>>>28),b=S+(_^w^C)+E[0]+3936430074&4294967295,S=_+(b<<11&4294967295|b>>>21),b=C+(S^_^w)+E[3]+3572445317&4294967295,C=S+(b<<16&4294967295|b>>>16),b=w+(C^S^_)+E[6]+76029189&4294967295,w=C+(b<<23&4294967295|b>>>9),b=_+(w^C^S)+E[9]+3654602809&4294967295,_=w+(b<<4&4294967295|b>>>28),b=S+(_^w^C)+E[12]+3873151461&4294967295,S=_+(b<<11&4294967295|b>>>21),b=C+(S^_^w)+E[15]+530742520&4294967295,C=S+(b<<16&4294967295|b>>>16),b=w+(C^S^_)+E[2]+3299628645&4294967295,w=C+(b<<23&4294967295|b>>>9),b=_+(C^(w|~S))+E[0]+4096336452&4294967295,_=w+(b<<6&4294967295|b>>>26),b=S+(w^(_|~C))+E[7]+1126891415&4294967295,S=_+(b<<10&4294967295|b>>>22),b=C+(_^(S|~w))+E[14]+2878612391&4294967295,C=S+(b<<15&4294967295|b>>>17),b=w+(S^(C|~_))+E[5]+4237533241&4294967295,w=C+(b<<21&4294967295|b>>>11),b=_+(C^(w|~S))+E[12]+1700485571&4294967295,_=w+(b<<6&4294967295|b>>>26),b=S+(w^(_|~C))+E[3]+2399980690&4294967295,S=_+(b<<10&4294967295|b>>>22),b=C+(_^(S|~w))+E[10]+4293915773&4294967295,C=S+(b<<15&4294967295|b>>>17),b=w+(S^(C|~_))+E[1]+2240044497&4294967295,w=C+(b<<21&4294967295|b>>>11),b=_+(C^(w|~S))+E[8]+1873313359&4294967295,_=w+(b<<6&4294967295|b>>>26),b=S+(w^(_|~C))+E[15]+4264355552&4294967295,S=_+(b<<10&4294967295|b>>>22),b=C+(_^(S|~w))+E[6]+2734768916&4294967295,C=S+(b<<15&4294967295|b>>>17),b=w+(S^(C|~_))+E[13]+1309151649&4294967295,w=C+(b<<21&4294967295|b>>>11),b=_+(C^(w|~S))+E[4]+4149444226&4294967295,_=w+(b<<6&4294967295|b>>>26),b=S+(w^(_|~C))+E[11]+3174756917&4294967295,S=_+(b<<10&4294967295|b>>>22),b=C+(_^(S|~w))+E[2]+718787259&4294967295,C=S+(b<<15&4294967295|b>>>17),b=w+(S^(C|~_))+E[9]+3951481745&4294967295,I.g[0]=I.g[0]+_&4294967295,I.g[1]=I.g[1]+(C+(b<<21&4294967295|b>>>11))&4294967295,I.g[2]=I.g[2]+C&4294967295,I.g[3]=I.g[3]+S&4294967295}r.prototype.u=function(I,_){_===void 0&&(_=I.length);for(var w=_-this.blockSize,E=this.B,C=this.h,S=0;S<_;){if(C==0)for(;S<=w;)i(this,I,S),S+=this.blockSize;if(typeof I=="string"){for(;S<_;)if(E[C++]=I.charCodeAt(S++),C==this.blockSize){i(this,E),C=0;break}}else for(;S<_;)if(E[C++]=I[S++],C==this.blockSize){i(this,E),C=0;break}}this.h=C,this.o+=_},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var _=1;_<I.length-8;++_)I[_]=0;var w=8*this.o;for(_=I.length-8;_<I.length;++_)I[_]=w&255,w/=256;for(this.u(I),I=Array(16),_=w=0;4>_;++_)for(var E=0;32>E;E+=8)I[w++]=this.g[_]>>>E&255;return I};function s(I,_){var w=c;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=_(I)}function o(I,_){this.h=_;for(var w=[],E=!0,C=I.length-1;0<=C;C--){var S=I[C]|0;E&&S==_||(w[C]=S,E=!1)}this.g=w}var c={};function u(I){return-128<=I&&128>I?s(I,function(_){return new o([_|0],0>_?-1:0)}):new o([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return D(l(-I));for(var _=[],w=1,E=0;I>=w;E++)_[E]=I/w|0,w*=4294967296;return new o(_,0)}function f(I,_){if(I.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(I.charAt(0)=="-")return D(f(I.substring(1),_));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(_,8)),E=p,C=0;C<I.length;C+=8){var S=Math.min(8,I.length-C),b=parseInt(I.substring(C,C+S),_);8>S?(S=l(Math.pow(_,S)),E=E.j(S).add(l(b))):(E=E.j(w),E=E.add(l(b)))}return E}var p=u(0),m=u(1),y=u(16777216);n=o.prototype,n.m=function(){if(P(this))return-D(this).m();for(var I=0,_=1,w=0;w<this.g.length;w++){var E=this.i(w);I+=(0<=E?E:4294967296+E)*_,_*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(A(this))return"0";if(P(this))return"-"+D(this).toString(I);for(var _=l(Math.pow(I,6)),w=this,E="";;){var C=ne(w,_).g;w=V(w,C.j(_));var S=((0<w.g.length?w.g[0]:w.h)>>>0).toString(I);if(w=C,A(w))return S+E;for(;6>S.length;)S="0"+S;E=S+E}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function A(I){if(I.h!=0)return!1;for(var _=0;_<I.g.length;_++)if(I.g[_]!=0)return!1;return!0}function P(I){return I.h==-1}n.l=function(I){return I=V(this,I),P(I)?-1:A(I)?0:1};function D(I){for(var _=I.g.length,w=[],E=0;E<_;E++)w[E]=~I.g[E];return new o(w,~I.h).add(m)}n.abs=function(){return P(this)?D(this):this},n.add=function(I){for(var _=Math.max(this.g.length,I.g.length),w=[],E=0,C=0;C<=_;C++){var S=E+(this.i(C)&65535)+(I.i(C)&65535),b=(S>>>16)+(this.i(C)>>>16)+(I.i(C)>>>16);E=b>>>16,S&=65535,b&=65535,w[C]=b<<16|S}return new o(w,w[w.length-1]&-2147483648?-1:0)};function V(I,_){return I.add(D(_))}n.j=function(I){if(A(this)||A(I))return p;if(P(this))return P(I)?D(this).j(D(I)):D(D(this).j(I));if(P(I))return D(this.j(D(I)));if(0>this.l(y)&&0>I.l(y))return l(this.m()*I.m());for(var _=this.g.length+I.g.length,w=[],E=0;E<2*_;E++)w[E]=0;for(E=0;E<this.g.length;E++)for(var C=0;C<I.g.length;C++){var S=this.i(E)>>>16,b=this.i(E)&65535,Rt=I.i(C)>>>16,An=I.i(C)&65535;w[2*E+2*C]+=b*An,U(w,2*E+2*C),w[2*E+2*C+1]+=S*An,U(w,2*E+2*C+1),w[2*E+2*C+1]+=b*Rt,U(w,2*E+2*C+1),w[2*E+2*C+2]+=S*Rt,U(w,2*E+2*C+2)}for(E=0;E<_;E++)w[E]=w[2*E+1]<<16|w[2*E];for(E=_;E<2*_;E++)w[E]=0;return new o(w,0)};function U(I,_){for(;(I[_]&65535)!=I[_];)I[_+1]+=I[_]>>>16,I[_]&=65535,_++}function $(I,_){this.g=I,this.h=_}function ne(I,_){if(A(_))throw Error("division by zero");if(A(I))return new $(p,p);if(P(I))return _=ne(D(I),_),new $(D(_.g),D(_.h));if(P(_))return _=ne(I,D(_)),new $(D(_.g),_.h);if(30<I.g.length){if(P(I)||P(_))throw Error("slowDivide_ only works with positive integers.");for(var w=m,E=_;0>=E.l(I);)w=$e(w),E=$e(E);var C=se(w,1),S=se(E,1);for(E=se(E,2),w=se(w,2);!A(E);){var b=S.add(E);0>=b.l(I)&&(C=C.add(w),S=b),E=se(E,1),w=se(w,1)}return _=V(I,C.j(_)),new $(C,_)}for(C=p;0<=I.l(_);){for(w=Math.max(1,Math.floor(I.m()/_.m())),E=Math.ceil(Math.log(w)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),S=l(w),b=S.j(_);P(b)||0<b.l(I);)w-=E,S=l(w),b=S.j(_);A(S)&&(S=m),C=C.add(S),I=V(I,b)}return new $(C,I)}n.A=function(I){return ne(this,I).h},n.and=function(I){for(var _=Math.max(this.g.length,I.g.length),w=[],E=0;E<_;E++)w[E]=this.i(E)&I.i(E);return new o(w,this.h&I.h)},n.or=function(I){for(var _=Math.max(this.g.length,I.g.length),w=[],E=0;E<_;E++)w[E]=this.i(E)|I.i(E);return new o(w,this.h|I.h)},n.xor=function(I){for(var _=Math.max(this.g.length,I.g.length),w=[],E=0;E<_;E++)w[E]=this.i(E)^I.i(E);return new o(w,this.h^I.h)};function $e(I){for(var _=I.g.length+1,w=[],E=0;E<_;E++)w[E]=I.i(E)<<1|I.i(E-1)>>>31;return new o(w,I.h)}function se(I,_){var w=_>>5;_%=32;for(var E=I.g.length-w,C=[],S=0;S<E;S++)C[S]=0<_?I.i(S+w)>>>_|I.i(S+w+1)<<32-_:I.i(S+w);return new o(C,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Vg=UI.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,mr=UI.Integer=o}).apply(typeof VI<"u"?VI:typeof self<"u"?self:typeof window<"u"?window:{});var Xl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yr={};var Ug,pF,so,$g,uc,Jl,Bg,jg,zg;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function e(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xl=="object"&&Xl];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=e(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var T=a[g];if(!(T in h))break e;h=h[T]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&t(h,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var h=0,g=!1,T={next:function(){if(!g&&h<a.length){var R=h++;return{value:d(R,a[R]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,h){return h})}});var o=o||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),a.apply(d,T)}}return function(){return a.apply(d,arguments)}}function m(a,d,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function y(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function A(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,T,R){for(var F=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)F[Ne-2]=arguments[Ne];return d.prototype[T].apply(g,F)}}function P(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function D(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let T=a.length||0,R=g.length||0;a.length=T+R;for(let F=0;F<R;F++)a[T+F]=g[F]}else a.push(g)}}class V{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function U(a){return/^[\s\xa0]*$/.test(a)}function $(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ne(a){return ne[" "](a),a}ne[" "]=function(){};var $e=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function se(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function I(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function _(a){let d={};for(let h in a)d[h]=a[h];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let h,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(h in g)a[h]=g[h];for(let R=0;R<w.length;R++)h=w[R],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function C(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function S(a){c.setTimeout(()=>{throw a},0)}function b(){var a=Tr;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Rt{constructor(){this.h=this.g=null}add(d,h){let g=An.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var An=new V(()=>new ss,a=>a.reset());class ss{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Dn,Rn=!1,Tr=new Rt,di=()=>{let a=c.Promise.resolve(void 0);Dn=()=>{a.then(os)}};var os=()=>{for(var a;a=b();){try{a.h.call(a.g)}catch(h){S(h)}var d=An;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Rn=!1};function Ht(){this.s=this.s,this.C=this.C}Ht.prototype.s=!1,Ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var Rc=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function Sr(a,d){if(nt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if($e){e:{try{ne(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Pc[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Sr.aa.h.call(this)}}A(Sr,nt);var Pc={2:"touch",3:"pen",4:"mouse"};Sr.prototype.h=function(){Sr.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var hi="closure_listenable_"+(1e6*Math.random()|0),Kd=0;function Qd(a,d,h,g,T){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=T,this.key=++Kd,this.da=this.fa=!1}function as(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function cs(a){this.src=a,this.g={},this.h=0}cs.prototype.add=function(a,d,h,g,T){var R=a.toString();a=this.g[R],a||(a=this.g[R]=[],this.h++);var F=ko(a,d,g,T);return-1<F?(d=a[F],h||(d.fa=!1)):(d=new Qd(d,this.src,R,!!g,T),d.fa=h,a.push(d)),d};function xo(a,d){var h=d.type;if(h in a.g){var g=a.g[h],T=Array.prototype.indexOf.call(g,d,void 0),R;(R=0<=T)&&Array.prototype.splice.call(g,T,1),R&&(as(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function ko(a,d,h,g){for(var T=0;T<a.length;++T){var R=a[T];if(!R.da&&R.listener==d&&R.capture==!!h&&R.ha==g)return T}return-1}var No="closure_lm_"+(1e6*Math.random()|0),Mo={};function Oc(a,d,h,g,T){if(g&&g.once)return kc(a,d,h,g,T);if(Array.isArray(d)){for(var R=0;R<d.length;R++)Oc(a,d[R],h,g,T);return null}return h=Zd(h),a&&a[hi]?a.K(d,h,l(g)?!!g.capture:!!g,T):xc(a,d,h,!1,g,T)}function xc(a,d,h,g,T,R){if(!d)throw Error("Invalid event type");var F=l(T)?!!T.capture:!!T,Ne=Lo(a);if(Ne||(a[No]=Ne=new cs(a)),h=Ne.add(d,h,g,F,R),h.proxy)return h;if(g=Yd(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)Rc||(T=F),T===void 0&&(T=!1),a.addEventListener(d.toString(),g,T);else if(a.attachEvent)a.attachEvent(Mc(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function Yd(){function a(h){return d.call(a.src,a.listener,h)}let d=Xd;return a}function kc(a,d,h,g,T){if(Array.isArray(d)){for(var R=0;R<d.length;R++)kc(a,d[R],h,g,T);return null}return h=Zd(h),a&&a[hi]?a.L(d,h,l(g)?!!g.capture:!!g,T):xc(a,d,h,!0,g,T)}function Nc(a,d,h,g,T){if(Array.isArray(d))for(var R=0;R<d.length;R++)Nc(a,d[R],h,g,T);else g=l(g)?!!g.capture:!!g,h=Zd(h),a&&a[hi]?(a=a.i,d=String(d).toString(),d in a.g&&(R=a.g[d],h=ko(R,h,g,T),-1<h&&(as(R[h]),Array.prototype.splice.call(R,h,1),R.length==0&&(delete a.g[d],a.h--)))):a&&(a=Lo(a))&&(d=a.g[d.toString()],a=-1,d&&(a=ko(d,h,g,T)),(h=-1<a?d[a]:null)&&Fo(h))}function Fo(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[hi])xo(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(Mc(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=Lo(d))?(xo(h,a),h.h==0&&(h.src=null,d[No]=null)):as(a)}}}function Mc(a){return a in Mo?Mo[a]:Mo[a]="on"+a}function Xd(a,d){if(a.da)a=!0;else{d=new Sr(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&Fo(a),a=h.call(g,d)}return a}function Lo(a){return a=a[No],a instanceof cs?a:null}var Jd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zd(a){return typeof a=="function"?a:(a[Jd]||(a[Jd]=function(d){return a.handleEvent(d)}),a[Jd])}function wt(){Ht.call(this),this.i=new cs(this),this.M=this,this.F=null}A(wt,Ht),wt.prototype[hi]=!0,wt.prototype.removeEventListener=function(a,d,h,g){Nc(this,a,d,h,g)};function Pt(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new nt(d,a);else if(d instanceof nt)d.target=d.target||a;else{var T=d;d=new nt(g,a),E(d,T)}if(T=!0,h)for(var R=h.length-1;0<=R;R--){var F=d.g=h[R];T=Fc(F,g,!0,d)&&T}if(F=d.g=a,T=Fc(F,g,!0,d)&&T,T=Fc(F,g,!1,d)&&T,h)for(R=0;R<h.length;R++)F=d.g=h[R],T=Fc(F,g,!1,d)&&T}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)as(h[g]);delete a.g[d],a.h--}}this.F=null},wt.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},wt.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function Fc(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,R=0;R<d.length;++R){var F=d[R];if(F&&!F.da&&F.capture==h){var Ne=F.listener,pt=F.ha||F.src;F.fa&&xo(a.i,F),T=Ne.call(pt,g)!==!1&&T}}return T&&!g.defaultPrevented}function Zy(a,d,h){if(typeof a=="function")h&&(a=m(a,h));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function e_(a){a.g=Zy(()=>{a.g=null,a.i&&(a.i=!1,e_(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class yS extends Ht{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:e_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vo(a){Ht.call(this),this.h=a,this.g={}}A(Vo,Ht);var t_=[];function n_(a){se(a.g,function(d,h){this.g.hasOwnProperty(h)&&Fo(d)},a),a.g={}}Vo.prototype.N=function(){Vo.aa.N.call(this),n_(this)},Vo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var eh=c.JSON.stringify,_S=c.JSON.parse,vS=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function th(){}th.prototype.h=null;function r_(a){return a.h||(a.h=a.i())}function i_(){}var Uo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nh(){nt.call(this,"d")}A(nh,nt);function rh(){nt.call(this,"c")}A(rh,nt);var fi={},s_=null;function Lc(){return s_=s_||new wt}fi.La="serverreachability";function o_(a){nt.call(this,fi.La,a)}A(o_,nt);function $o(a){let d=Lc();Pt(d,new o_(d))}fi.STAT_EVENT="statevent";function a_(a,d){nt.call(this,fi.STAT_EVENT,a),this.stat=d}A(a_,nt);function Ot(a){let d=Lc();Pt(d,new a_(d,a))}fi.Ma="timingevent";function c_(a,d){nt.call(this,fi.Ma,a),this.size=d}A(c_,nt);function Bo(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function jo(){this.g=!0}jo.prototype.xa=function(){this.g=!1};function bS(a,d,h,g,T,R){a.info(function(){if(a.g)if(R)for(var F="",Ne=R.split("&"),pt=0;pt<Ne.length;pt++){var Ce=Ne[pt].split("=");if(1<Ce.length){var Et=Ce[0];Ce=Ce[1];var It=Et.split("_");F=2<=It.length&&It[1]=="type"?F+(Et+"="+Ce+"&"):F+(Et+"=redacted&")}}else F=null;else F=R;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+h+`
`+F})}function wS(a,d,h,g,T,R,F){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+h+`
`+R+" "+F})}function us(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+IS(a,h)+(g?" "+g:"")})}function ES(a,d){a.info(function(){return"TIMEOUT: "+d})}jo.prototype.info=function(){};function IS(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var R=T[0];if(R!="noop"&&R!="stop"&&R!="close")for(var F=1;F<T.length;F++)T[F]=""}}}}return eh(h)}catch{return d}}var Vc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},u_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ih;function Uc(){}A(Uc,th),Uc.prototype.g=function(){return new XMLHttpRequest},Uc.prototype.i=function(){return{}},ih=new Uc;function Ar(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new Vo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new l_}function l_(){this.i=null,this.g="",this.h=!1}var d_={},sh={};function oh(a,d,h){a.L=1,a.v=zc(Xn(d)),a.m=h,a.P=!0,h_(a,null)}function h_(a,d){a.F=Date.now(),$c(a),a.A=Xn(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),S_(h.i,"t",g),a.C=0,h=a.j.J,a.h=new l_,a.g=H_(a.j,h?d:null,!a.m),0<a.O&&(a.M=new yS(m(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var T="readystatechange";Array.isArray(T)||(T&&(t_[0]=T.toString()),T=t_);for(var R=0;R<T.length;R++){var F=Oc(h,T[R],g||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=a.H?_(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),$o(),bS(a.i,a.u,a.A,a.l,a.R,a.m)}Ar.prototype.ca=function(a){a=a.target;let d=this.M;d&&Jn(a)==3?d.j():this.Y(a)},Ar.prototype.Y=function(a){try{if(a==this.g)e:{let It=Jn(this.g);var d=this.g.Ba();let hs=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||k_(this.g)))){this.J||It!=4||d==7||(d==8||0>=hs?$o(3):$o(2)),ah(this);var h=this.g.Z();this.X=h;t:if(f_(this)){var g=k_(this.g);a="";var T=g.length,R=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pi(this),zo(this);var F="";break t}this.h.i=new c.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(R&&d==T-1)});g.length=0,this.h.g+=a,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=h==200,wS(this.i,this.u,this.A,this.l,this.R,It,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,pt=this.g;if((Ne=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Ne)){var Ce=Ne;break t}}Ce=null}if(h=Ce)us(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ch(this,h);else{this.o=!1,this.s=3,Ot(12),pi(this),zo(this);break e}}if(this.P){h=!0;let ln;for(;!this.J&&this.C<F.length;)if(ln=CS(this,F),ln==sh){It==4&&(this.s=4,Ot(14),h=!1),us(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==d_){this.s=4,Ot(15),us(this.i,this.l,F,"[Invalid Chunk]"),h=!1;break}else us(this.i,this.l,ln,null),ch(this,ln);if(f_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||F.length!=0||this.h.h||(this.s=1,Ot(16),h=!1),this.o=this.o&&h,!h)us(this.i,this.l,F,"[Invalid Chunked Response]"),pi(this),zo(this);else if(0<F.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),ph(Et),Et.M=!0,Ot(11))}}else us(this.i,this.l,F,null),ch(this,F);It==4&&pi(this),this.o&&!this.J&&(It==4?$_(this.j,this):(this.o=!1,$c(this)))}else BS(this.g),h==400&&0<F.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),pi(this),zo(this)}}}catch{}finally{}};function f_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function CS(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?sh:(h=Number(d.substring(h,g)),isNaN(h)?d_:(g+=1,g+h>d.length?sh:(d=d.slice(g,g+h),a.C=g+h,d)))}Ar.prototype.cancel=function(){this.J=!0,pi(this)};function $c(a){a.S=Date.now()+a.I,p_(a,a.I)}function p_(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Bo(m(a.ba,a),d)}function ah(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Ar.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(ES(this.i,this.A),this.L!=2&&($o(),Ot(17)),pi(this),this.s=2,zo(this)):p_(this,this.S-a)};function zo(a){a.j.G==0||a.J||$_(a.j,a)}function pi(a){ah(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,n_(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function ch(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||uh(h.h,a))){if(!a.K&&uh(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Kc(h),Gc(h);else break e;fh(h),Ot(18)}}else h.za=T[1],0<h.za-h.T&&37500>T[2]&&h.F&&h.v==0&&!h.C&&(h.C=Bo(m(h.Za,h),6e3));if(1>=y_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else mi(h,11)}else if((a.K||h.g==a)&&Kc(h),!U(d))for(T=h.Da.g.parse(d),d=0;d<T.length;d++){let Ce=T[d];if(h.T=Ce[0],Ce=Ce[1],h.G==2)if(Ce[0]=="c"){h.K=Ce[1],h.ia=Ce[2];let Et=Ce[3];Et!=null&&(h.la=Et,h.j.info("VER="+h.la));let It=Ce[4];It!=null&&(h.Aa=It,h.j.info("SVER="+h.Aa));let hs=Ce[5];hs!=null&&typeof hs=="number"&&0<hs&&(g=1.5*hs,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let ln=a.g;if(ln){let Yc=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yc){var R=g.h;R.g||Yc.indexOf("spdy")==-1&&Yc.indexOf("quic")==-1&&Yc.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(lh(R,R.h),R.h=null))}if(g.D){let gh=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;gh&&(g.ya=gh,Ve(g.I,g.D,gh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var F=a;if(g.qa=z_(g,g.J?g.ia:null,g.W),F.K){__(g.h,F);var Ne=F,pt=g.L;pt&&(Ne.I=pt),Ne.B&&(ah(Ne),$c(Ne)),g.g=F}else V_(g);0<h.i.length&&Wc(h)}else Ce[0]!="stop"&&Ce[0]!="close"||mi(h,7);else h.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?mi(h,7):hh(h):Ce[0]!="noop"&&h.l&&h.l.ta(Ce),h.v=0)}}$o(4)}catch{}}var TS=class{constructor(a,d){this.g=a,this.map=d}};function g_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function m_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function y_(a){return a.h?1:a.g?a.g.size:0}function uh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function lh(a,d){a.g?a.g.add(d):a.h=d}function __(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}g_.prototype.cancel=function(){if(this.i=v_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function v_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return P(a.i)}function SS(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function AS(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function b_(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=AS(a),g=SS(a),T=g.length,R=0;R<T;R++)d.call(void 0,g[R],h&&h[R],a)}var w_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function DS(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),T=null;if(0<=g){var R=a[h].substring(0,g);T=a[h].substring(g+1)}else R=a[h];d(R,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function gi(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof gi){this.h=a.h,Bc(this,a.j),this.o=a.o,this.g=a.g,jc(this,a.s),this.l=a.l;var d=a.i,h=new Go;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),E_(this,h),this.m=a.m}else a&&(d=String(a).match(w_))?(this.h=!1,Bc(this,d[1]||"",!0),this.o=Ho(d[2]||""),this.g=Ho(d[3]||"",!0),jc(this,d[4]),this.l=Ho(d[5]||"",!0),E_(this,d[6]||"",!0),this.m=Ho(d[7]||"")):(this.h=!1,this.i=new Go(null,this.h))}gi.prototype.toString=function(){var a=[],d=this.j;d&&a.push(qo(d,I_,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(qo(d,I_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(qo(h,h.charAt(0)=="/"?OS:PS,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",qo(h,kS)),a.join("")};function Xn(a){return new gi(a)}function Bc(a,d,h){a.j=h?Ho(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function jc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function E_(a,d,h){d instanceof Go?(a.i=d,NS(a.i,a.h)):(h||(d=qo(d,xS)),a.i=new Go(d,a.h))}function Ve(a,d,h){a.i.set(d,h)}function zc(a){return Ve(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ho(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function qo(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,RS),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function RS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var I_=/[#\/\?@]/g,PS=/[#\?:]/g,OS=/[#\?]/g,xS=/[#\?@]/g,kS=/#/g;function Go(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Dr(a){a.g||(a.g=new Map,a.h=0,a.i&&DS(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}n=Go.prototype,n.add=function(a,d){Dr(this),this.i=null,a=ls(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function C_(a,d){Dr(a),d=ls(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function T_(a,d){return Dr(a),d=ls(a,d),a.g.has(d)}n.forEach=function(a,d){Dr(this),this.g.forEach(function(h,g){h.forEach(function(T){a.call(d,T,g,this)},this)},this)},n.na=function(){Dr(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let T=a[g];for(let R=0;R<T.length;R++)h.push(d[g])}return h},n.V=function(a){Dr(this);let d=[];if(typeof a=="string")T_(this,a)&&(d=d.concat(this.g.get(ls(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},n.set=function(a,d){return Dr(this),this.i=null,a=ls(this,a),T_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function S_(a,d,h){C_(a,d),0<h.length&&(a.i=null,a.g.set(ls(a,d),P(h)),a.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let R=encodeURIComponent(String(g)),F=this.V(g);for(g=0;g<F.length;g++){var T=R;F[g]!==""&&(T+="="+encodeURIComponent(String(F[g]))),a.push(T)}}return this.i=a.join("&")};function ls(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function NS(a,d){d&&!a.j&&(Dr(a),a.i=null,a.g.forEach(function(h,g){var T=g.toLowerCase();g!=T&&(C_(this,g),S_(this,T,h))},a)),a.j=d}function MS(a,d){let h=new jo;if(c.Image){let g=new Image;g.onload=y(Rr,h,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Rr,h,"TestLoadImage: error",!1,d,g),g.onabort=y(Rr,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Rr,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function FS(a,d){let h=new jo,g=new AbortController,T=setTimeout(()=>{g.abort(),Rr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(R=>{clearTimeout(T),R.ok?Rr(h,"TestPingServer: ok",!0,d):Rr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),Rr(h,"TestPingServer: error",!1,d)})}function Rr(a,d,h,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(h)}catch{}}function LS(){this.g=new vS}function VS(a,d,h){let g=h||"";try{b_(a,function(T,R){let F=T;l(T)&&(F=eh(T)),d.push(g+R+"="+encodeURIComponent(F))})}catch(T){throw d.push(g+"type="+encodeURIComponent("_badmap")),T}}function Wo(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Wo,th),Wo.prototype.g=function(){return new Hc(this.l,this.j)},Wo.prototype.i=function(a){return function(){return a}}({});function Hc(a,d){wt.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Hc,wt),n=Hc.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Qo(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ko(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Qo(this)),this.g&&(this.readyState=3,Qo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;A_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function A_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Ko(this):Qo(this),this.readyState==3&&A_(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,Ko(this))},n.Qa=function(a){this.g&&(this.response=a,Ko(this))},n.ga=function(){this.g&&Ko(this)};function Ko(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Qo(a)}n.setRequestHeader=function(a,d){this.u.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function Qo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Hc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function D_(a){let d="";return se(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function dh(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=D_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Ve(a,d,h))}function qe(a){wt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(qe,wt);var US=/^https?$/i,$S=["POST","PUT"];n=qe.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ih.g(),this.v=this.o?r_(this.o):r_(ih),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(R){R_(this,R);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)h.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let R of g.keys())h.set(R,g.get(R));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(R=>R.toLowerCase()=="content-type"),T=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call($S,d,void 0))||g||T||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,F]of h)this.g.setRequestHeader(R,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{x_(this),this.u=!0,this.g.send(a),this.u=!1}catch(R){R_(this,R)}};function R_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,P_(a),qc(a)}function P_(a){a.A||(a.A=!0,Pt(a,"complete"),Pt(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Pt(this,"complete"),Pt(this,"abort"),qc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qc(this,!0)),qe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?O_(this):this.bb())},n.bb=function(){O_(this)};function O_(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Jn(a)!=4||a.Z()!=2)){if(a.u&&Jn(a)==4)Zy(a.Ea,0,a);else if(Pt(a,"readystatechange"),Jn(a)==4){a.h=!1;try{let F=a.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=F===0){var T=String(a.D).match(w_)[1]||null;!T&&c.self&&c.self.location&&(T=c.self.location.protocol.slice(0,-1)),g=!US.test(T?T.toLowerCase():"")}h=g}if(h)Pt(a,"complete"),Pt(a,"success");else{a.m=6;try{var R=2<Jn(a)?a.g.statusText:""}catch{R=""}a.l=R+" ["+a.Z()+"]",P_(a)}}finally{qc(a)}}}}function qc(a,d){if(a.g){x_(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||Pt(a,"ready");try{h.onreadystatechange=g}catch{}}}function x_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function Jn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),_S(d)}};function k_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function BS(a){let d={};a=(a.g&&2<=Jn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(U(a[g]))continue;var h=C(a[g]);let T=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let R=d[T]||[];d[T]=R,R.push(h)}I(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yo(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function N_(a){this.Aa=0,this.i=[],this.j=new jo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yo("baseRetryDelayMs",5e3,a),this.cb=Yo("retryDelaySeedMs",1e4,a),this.Wa=Yo("forwardChannelMaxRetries",2,a),this.wa=Yo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new g_(a&&a.concurrentRequestLimit),this.Da=new LS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=N_.prototype,n.la=8,n.G=1,n.connect=function(a,d,h,g){Ot(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=z_(this,null,this.W),Wc(this)};function hh(a){if(M_(a),a.G==3){var d=a.U++,h=Xn(a.I);if(Ve(h,"SID",a.K),Ve(h,"RID",d),Ve(h,"TYPE","terminate"),Xo(a,h),d=new Ar(a,a.j,d),d.L=2,d.v=zc(Xn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=H_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),$c(d)}j_(a)}function Gc(a){a.g&&(ph(a),a.g.cancel(),a.g=null)}function M_(a){Gc(a),a.u&&(c.clearTimeout(a.u),a.u=null),Kc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Wc(a){if(!m_(a.h)&&!a.s){a.s=!0;var d=a.Ga;Dn||di(),Rn||(Dn(),Rn=!0),Tr.add(d,a),a.B=0}}function jS(a,d){return y_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Bo(m(a.Ga,a,d),B_(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let T=new Ar(this,this.j,a),R=this.o;if(this.S&&(R?(R=_(R),E(R,this.S)):R=this.S),this.m!==null||this.O||(T.H=R,R=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=L_(this,T,d),h=Xn(this.I),Ve(h,"RID",a),Ve(h,"CVER",22),this.D&&Ve(h,"X-HTTP-Session-Id",this.D),Xo(this,h),R&&(this.O?d="headers="+encodeURIComponent(String(D_(R)))+"&"+d:this.m&&dh(h,this.m,R)),lh(this.h,T),this.Ua&&Ve(h,"TYPE","init"),this.P?(Ve(h,"$req",d),Ve(h,"SID","null"),T.T=!0,oh(T,h,null)):oh(T,h,d),this.G=2}}else this.G==3&&(a?F_(this,a):this.i.length==0||m_(this.h)||F_(this))};function F_(a,d){var h;d?h=d.l:h=a.U++;let g=Xn(a.I);Ve(g,"SID",a.K),Ve(g,"RID",h),Ve(g,"AID",a.T),Xo(a,g),a.m&&a.o&&dh(g,a.m,a.o),h=new Ar(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=L_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),lh(a.h,h),oh(h,g,d)}function Xo(a,d){a.H&&se(a.H,function(h,g){Ve(d,g,h)}),a.l&&b_({},function(h,g){Ve(d,g,h)})}function L_(a,d,h){h=Math.min(a.i.length,h);var g=a.l?m(a.l.Na,a.l,a):null;e:{var T=a.i;let R=-1;for(;;){let F=["count="+h];R==-1?0<h?(R=T[0].g,F.push("ofs="+R)):R=0:F.push("ofs="+R);let Ne=!0;for(let pt=0;pt<h;pt++){let Ce=T[pt].g,Et=T[pt].map;if(Ce-=R,0>Ce)R=Math.max(0,T[pt].g-100),Ne=!1;else try{VS(Et,F,"req"+Ce+"_")}catch{g&&g(Et)}}if(Ne){g=F.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function V_(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Dn||di(),Rn||(Dn(),Rn=!0),Tr.add(d,a),a.v=0}}function fh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Bo(m(a.Fa,a),B_(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,U_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Bo(m(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),Gc(this),U_(this))};function ph(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function U_(a){a.g=new Ar(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Xn(a.qa);Ve(d,"RID","rpc"),Ve(d,"SID",a.K),Ve(d,"AID",a.T),Ve(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ve(d,"TO",a.ja),Ve(d,"TYPE","xmlhttp"),Xo(a,d),a.m&&a.o&&dh(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=zc(Xn(d)),h.m=null,h.P=!0,h_(h,a)}n.Za=function(){this.C!=null&&(this.C=null,Gc(this),fh(this),Ot(19))};function Kc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function $_(a,d){var h=null;if(a.g==d){Kc(a),ph(a),a.g=null;var g=2}else if(uh(a.h,d))h=d.D,__(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var T=a.B;g=Lc(),Pt(g,new c_(g,h)),Wc(a)}else V_(a);else if(T=d.s,T==3||T==0&&0<d.X||!(g==1&&jS(a,d)||g==2&&fh(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),T){case 1:mi(a,5);break;case 4:mi(a,10);break;case 3:mi(a,6);break;default:mi(a,2)}}}function B_(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function mi(a,d){if(a.j.info("Error code "+d),d==2){var h=m(a.fb,a),g=a.Xa;let T=!g;g=new gi(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Bc(g,"https"),zc(g),T?MS(g.toString(),h):FS(g.toString(),h)}else Ot(2);a.G=0,a.l&&a.l.sa(d),j_(a),M_(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function j_(a){if(a.G=0,a.ka=[],a.l){let d=v_(a.h);(d.length!=0||a.i.length!=0)&&(D(a.ka,d),D(a.ka,a.i),a.h.i.length=0,P(a.i),a.i.length=0),a.l.ra()}}function z_(a,d,h){var g=h instanceof gi?Xn(h):new gi(h);if(g.g!="")d&&(g.g=d+"."+g.g),jc(g,g.s);else{var T=c.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var R=new gi(null);g&&Bc(R,g),d&&(R.g=d),T&&jc(R,T),h&&(R.l=h),g=R}return h=a.D,d=a.ya,h&&d&&Ve(g,h,d),Ve(g,"VER",a.la),Xo(a,g),g}function H_(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new qe(new Wo({eb:h})):new qe(a.pa),d.Ha(a.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function q_(){}n=q_.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Qc(){}Qc.prototype.g=function(a,d){return new qt(a,d)};function qt(a,d){wt.call(this),this.g=new N_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!U(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!U(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new ds(this)}A(qt,wt),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){hh(this.g)},qt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=eh(a),a=h);d.i.push(new TS(d.Ya++,a)),d.G==3&&Wc(d)},qt.prototype.N=function(){this.g.l=null,delete this.j,hh(this.g),delete this.g,qt.aa.N.call(this)};function G_(a){nh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(G_,nh);function W_(){rh.call(this),this.status=1}A(W_,rh);function ds(a){this.g=a}A(ds,q_),ds.prototype.ua=function(){Pt(this.g,"a")},ds.prototype.ta=function(a){Pt(this.g,new G_(a))},ds.prototype.sa=function(a){Pt(this.g,new W_)},ds.prototype.ra=function(){Pt(this.g,"b")},Qc.prototype.createWebChannel=Qc.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,zg=yr.createWebChannelTransport=function(){return new Qc},jg=yr.getStatEventTarget=function(){return Lc()},Bg=yr.Event=fi,Jl=yr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vc.NO_ERROR=0,Vc.TIMEOUT=8,Vc.HTTP_ERROR=6,uc=yr.ErrorCode=Vc,u_.COMPLETE="complete",$g=yr.EventType=u_,i_.EventType=Uo,Uo.OPEN="a",Uo.CLOSE="b",Uo.ERROR="c",Uo.MESSAGE="d",wt.prototype.listen=wt.prototype.K,so=yr.WebChannel=i_,pF=yr.FetchXmlHttpFactory=Wo,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,Ug=yr.XhrIo=qe}).apply(typeof Xl<"u"?Xl:typeof self<"u"?self:typeof window<"u"?window:{});var $I="@firebase/firestore",BI="4.8.0";var ht=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");var Do="11.10.0";var Yi=new $n("@firebase/firestore");function oo(){return Yi.logLevel}function B(n,...t){if(Yi.logLevel<=me.DEBUG){let e=t.map(Dy);Yi.debug(`Firestore (${Do}): ${n}`,...e)}}function vr(n,...t){if(Yi.logLevel<=me.ERROR){let e=t.map(Dy);Yi.error(`Firestore (${Do}): ${n}`,...e)}}function oi(n,...t){if(Yi.logLevel<=me.WARN){let e=t.map(Dy);Yi.warn(`Firestore (${Do}): ${n}`,...e)}}function Dy(n){if(typeof n=="string")return n;try{return function(e){return JSON.stringify(e)}(n)}catch{return n}}function ee(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,PC(n,r,e)}function PC(n,t,e){let r=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw vr(r),new Error(r)}function Pe(n,t,e,r){let i="Unexpected state";typeof e=="string"?i=e:r=e,n||PC(t,i,r)}function re(n,t){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends nn{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var qn=class{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}};var sd=class{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},Kg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ht.UNAUTHENTICATED))}shutdown(){}},Qg=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}},Yg=class{constructor(t){this.t=t,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Pe(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,e(u)):Promise.resolve(),s=new qn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new qn,t.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;t.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new qn)}},0),o()}getToken(){let t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string",31837,{l:r}),new sd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let t=this.auth&&this.auth.getUid();return Pe(t===null||typeof t=="string",2055,{h:t}),new ht(t)}},Xg=class{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Jg=class{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new Xg(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}},od=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Zg=class{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zt(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Pe(this.o===void 0,3512);let r=s=>{s.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.m;return this.m=s.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};let i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.V.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new od(this.p));let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Pe(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new od(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function gF(n){let t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}function OC(){return new TextEncoder}var gc=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=gF(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<e&&(r+=t.charAt(i[s]%62))}return r}};function he(n,t){return n<t?-1:n>t?1:0}function em(n,t){let e=0;for(;e<n.length&&e<t.length;){let r=n.codePointAt(e),i=t.codePointAt(e);if(r!==i){if(r<128&&i<128)return he(r,i);{let s=OC(),o=mF(s.encode(jI(n,e)),s.encode(jI(t,e)));return o!==0?o:he(r,i)}}e+=r>65535?2:1}return he(n.length,t.length)}function jI(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function mF(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return he(n[e],t[e]);return he(n.length,t.length)}function go(n,t,e){return n.length===t.length&&n.every((r,i)=>e(r,t[i]))}var zI="__name__",ad=class n{constructor(t,e,r){e===void 0?e=0:e>t.length&&ee(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&ee(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return n.comparator(this,t)===0}child(t){let e=this.segments.slice(this.offset,this.limit());return t instanceof n?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){let r=Math.min(t.length,e.length);for(let i=0;i<r;i++){let s=n.compareSegments(t.get(i),e.get(i));if(s!==0)return s}return he(t.length,e.length)}static compareSegments(t,e){let r=n.isNumericId(t),i=n.isNumericId(e);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(t).compare(n.extractNumericId(e)):em(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return mr.fromString(t.substring(4,t.length-2))}},He=class n extends ad{construct(t,e,r){return new n(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let e=[];for(let r of t){if(r.indexOf("//")>=0)throw new H(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(i=>i.length>0))}return new n(e)}static emptyPath(){return new n([])}},yF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rn=class n extends ad{construct(t,e,r){return new n(t,e,r)}static isValidIdentifier(t){return yF.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zI}static keyField(){return new n([zI])}static fromServerFormat(t){let e=[],r="",i=0,s=()=>{if(r.length===0)throw new H(k.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""},o=!1;for(;i<t.length;){let c=t[i];if(c==="\\"){if(i+1===t.length)throw new H(k.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new H(k.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new n(e)}static emptyPath(){return new n([])}};var J=class n{constructor(t){this.path=t}static fromPath(t){return new n(He.fromString(t))}static fromName(t){return new n(He.fromString(t).popFirst(5))}static empty(){return new n(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&He.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return He.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new n(new He(t.slice()))}};function xC(n,t,e){if(!e)throw new H(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function _F(n,t,e,r){if(t===!0&&r===!0)throw new H(k.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function HI(n){if(!J.isDocumentKey(n))throw new H(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qI(n){if(J.isDocumentKey(n))throw new H(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ry(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let t=function(r){return r.constructor?r.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":ee(12329,{type:typeof n})}function _r(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new H(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let e=Ry(n);throw new H(k.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function et(n,t){let e={typeString:n};return t&&(e.value=t),e}function Sc(n,t){if(!kC(n))throw new H(k.INVALID_ARGUMENT,"JSON must be an object");let e;for(let r in t)if(t[r]){let i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}let o=n[r];if(i&&typeof o!==i){e=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){e=`Expected '${r}' field to equal '${s.value}'`;break}}if(e)throw new H(k.INVALID_ARGUMENT,e);return!0}var GI=-62135596800,WI=1e6,tt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(t){return n.fromMillis(t.getTime())}static fromMillis(t){let e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*WI);return new n(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new H(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new H(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<GI)throw new H(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new H(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/WI}_compareTo(t){return this.seconds===t.seconds?he(this.nanoseconds,t.nanoseconds):he(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Sc(t,n._jsonSchema))return new n(t.seconds,t.nanoseconds)}valueOf(){let t=this.seconds-GI;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:et("string",tt._jsonSchemaVersion),seconds:et("number"),nanoseconds:et("number")};var ie=class n{static fromTimestamp(t){return new n(t)}static min(){return new n(new tt(0,0))}static max(){return new n(new tt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var mc=-1,tm=class{constructor(t,e,r,i){this.indexId=t,this.collectionGroup=e,this.fields=r,this.indexState=i}};tm.UNKNOWN_ID=-1;function vF(n,t){let e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new tt(e+1,0):new tt(e,r));return new Xi(i,J.empty(),t)}function bF(n){return new Xi(n.readTime,n.key,mc)}var Xi=class n{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new n(ie.min(),J.empty(),mc)}static max(){return new n(ie.max(),J.empty(),mc)}};function wF(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=J.comparator(n.documentKey,t.documentKey),e!==0?e:he(n.largestBatchId,t.largestBatchId))}var EF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",nm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}};function Ro(n){return v(this,null,function*(){if(n.code!==k.FAILED_PRECONDITION||n.message!==EF)throw n;B("LocalStore","Unexpectedly lost primary lease")})}var M=class n{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(e,s).next(r,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{let e=t();return e instanceof n?e:n.resolve(e)}catch(e){return n.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):n.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):n.reject(e)}static resolve(t){return new n((e,r)=>{e(t)})}static reject(t){return new n((e,r)=>{r(t)})}static waitFor(t){return new n((e,r)=>{let i=0,s=0,o=!1;t.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&e()},u=>r(u))}),o=!0,s===i&&e()})}static or(t){let e=n.resolve(!1);for(let r of t)e=e.next(i=>i?n.resolve(i):r());return e}static forEach(t,e){let r=[];return t.forEach((i,s)=>{r.push(e.call(this,i,s))}),this.waitFor(r)}static mapArray(t,e){return new n((r,i)=>{let s=t.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let l=u;e(t[l]).next(f=>{o[l]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(t,e){return new n((r,i)=>{let s=()=>{t()===!0?e().next(()=>{s()},i):r()};s()})}};function IF(n){let t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Po(n){return n.name==="IndexedDbTransactionError"}var Py=(()=>{class n{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ae&&this.ae(e),e}}n.ue=-1;return n})(),Oy=-1;function Ud(n){return n==null}function yc(n){return n===0&&1/n==-1/0}function CF(n){return typeof n=="number"&&Number.isInteger(n)&&!yc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var NC="";function TF(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=KI(t)),t=SF(n.get(e),t);return KI(t)}function SF(n,t){let e=t,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":e+="";break;case NC:e+="";break;default:e+=s}}return e}function KI(n){return n+NC+""}var AF="remoteDocuments",MC="owner";var FC="mutationQueues";var LC="mutations";var VC="documentMutations",DF="remoteDocumentsV14";var UC="remoteDocumentGlobal";var $C="targets";var BC="targetDocuments";var jC="targetGlobal",zC="collectionParents";var HC="clientMetadata";var qC="bundles";var GC="namedQueries";var RF="indexConfiguration";var PF="indexState";var OF="indexEntries";var WC="documentOverlays";var xF="globals";var kF=[FC,LC,VC,AF,$C,MC,jC,BC,HC,UC,zC,qC,GC],Hz=[...kF,WC],NF=[FC,LC,VC,DF,$C,MC,jC,BC,HC,UC,zC,qC,GC,WC],MF=NF,FF=[...MF,RF,PF,OF];var qz=[...FF,xF];function QI(n){let t=0;for(let e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ns(n,t){for(let e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function KC(n){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}var We=class n{constructor(t,e){this.comparator=t,this.root=e||Gn.EMPTY}insert(t,e){return new n(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Gn.BLACK,null,null))}remove(t){return new n(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Gn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){let r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(t,r.key);if(i===0)return e+r.left.size;i<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){let t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new lo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new lo(this.root,t,this.comparator,!1)}getReverseIterator(){return new lo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new lo(this.root,t,this.comparator,!0)}},lo=class{constructor(t,e,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?r(t.key,e):1,e&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},Gn=class n{constructor(t,e,r,i,s){this.key=t,this.value=e,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,i,s){return new n(t??this.key,e??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let i=this,s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,e,r),null):s===0?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),e(t,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});let t=this.left.check();if(t!==this.right.check())throw ee(27949);return t+(this.isRed()?0:1)}};Gn.EMPTY=null,Gn.RED=!0,Gn.BLACK=!1;Gn.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(t,e,r,i,s){return this}insert(t,e,r){return new Gn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ft=class n{constructor(t){this.comparator=t,this.data=new We(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){let r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){let e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new cd(this.data.getIterator())}getIteratorFrom(t){return new cd(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof n)||this.size!==t.size)return!1;let e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){let i=e.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(e=>{t.push(e)}),t}toString(){let t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){let e=new n(this.comparator);return e.data=t,e}},cd=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Hn=class n{constructor(t){this.fields=t,t.sort(rn.comparator)}static empty(){return new n([])}unionWith(t){let e=new ft(rn.comparator);for(let r of this.fields)e=e.add(r);for(let r of t)e=e.add(r);return new n(e.toArray())}covers(t){for(let e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return go(this.fields,t.fields,(e,r)=>e.isEqual(r))}};var ud=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Dt=class n{constructor(t){this.binaryString=t}static fromBase64String(t){let e=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ud("Invalid base64 string: "+s):s}}(t);return new n(e)}static fromUint8Array(t){let e=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new n(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){let r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return he(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};Dt.EMPTY_BYTE_STRING=new Dt("");var LF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(n){if(Pe(!!n,39018),typeof n=="string"){let t=0,e=LF.exec(n);if(Pe(!!e,46558,{timestamp:n}),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:je(n.seconds),nanos:je(n.nanos)}}function je(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function wr(n){return typeof n=="string"?Dt.fromBase64String(n):Dt.fromUint8Array(n)}var QC="server_timestamp",YC="__type__",XC="__previous_value__",JC="__local_write_time__";function xy(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{})[YC])===null||e===void 0?void 0:e.stringValue)===QC}function $d(n){let t=n.mapValue.fields[XC];return xy(t)?$d(t):t}function _c(n){let t=br(n.mapValue.fields[JC].timestampValue);return new tt(t.seconds,t.nanos)}var rm=class{constructor(t,e,r,i,s,o,c,u,l,f){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=f}},ld="(default)",dd=class n{constructor(t,e){this.projectId=t,this.database=e||ld}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===ld}isEqual(t){return t instanceof n&&t.projectId===this.projectId&&t.database===this.database}};var ky="__type__",ZC="__max__",Zl={mapValue:{fields:{__type__:{stringValue:ZC}}}},Ny="__vector__",mo="value";function ai(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xy(n)?4:tT(n)?9007199254740991:eT(n)?10:11:ee(28295,{value:n})}function Qn(n,t){if(n===t)return!0;let e=ai(n);if(e!==ai(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return _c(n).isEqual(_c(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=br(i.timestampValue),c=br(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(i,s){return wr(i.bytesValue).isEqual(wr(s.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,s){return je(i.geoPointValue.latitude)===je(s.geoPointValue.latitude)&&je(i.geoPointValue.longitude)===je(s.geoPointValue.longitude)}(n,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return je(i.integerValue)===je(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=je(i.doubleValue),c=je(s.doubleValue);return o===c?yc(o)===yc(c):isNaN(o)&&isNaN(c)}return!1}(n,t);case 9:return go(n.arrayValue.values||[],t.arrayValue.values||[],Qn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(QI(o)!==QI(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!Qn(o[u],c[u])))return!1;return!0}(n,t);default:return ee(52216,{left:n})}}function vc(n,t){return(n.values||[]).find(e=>Qn(e,t))!==void 0}function yo(n,t){if(n===t)return 0;let e=ai(n),r=ai(t);if(e!==r)return he(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return he(n.booleanValue,t.booleanValue);case 2:return function(s,o){let c=je(s.integerValue||s.doubleValue),u=je(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,t);case 3:return YI(n.timestampValue,t.timestampValue);case 4:return YI(_c(n),_c(t));case 5:return em(n.stringValue,t.stringValue);case 6:return function(s,o){let c=wr(s),u=wr(o);return c.compareTo(u)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=he(c[l],u[l]);if(f!==0)return f}return he(c.length,u.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){let c=he(je(s.latitude),je(o.latitude));return c!==0?c:he(je(s.longitude),je(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return XI(n.arrayValue,t.arrayValue);case 10:return function(s,o){var c,u,l,f;let p=s.fields||{},m=o.fields||{},y=(c=p[mo])===null||c===void 0?void 0:c.arrayValue,A=(u=m[mo])===null||u===void 0?void 0:u.arrayValue,P=he(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return P!==0?P:XI(y,A)}(n.mapValue,t.mapValue);case 11:return function(s,o){if(s===Zl.mapValue&&o===Zl.mapValue)return 0;if(s===Zl.mapValue)return 1;if(o===Zl.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),l=o.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let m=em(u[p],f[p]);if(m!==0)return m;let y=yo(c[u[p]],l[f[p]]);if(y!==0)return y}return he(u.length,f.length)}(n.mapValue,t.mapValue);default:throw ee(23264,{le:e})}}function YI(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return he(n,t);let e=br(n),r=br(t),i=he(e.seconds,r.seconds);return i!==0?i:he(e.nanos,r.nanos)}function XI(n,t){let e=n.values||[],r=t.values||[];for(let i=0;i<e.length&&i<r.length;++i){let s=yo(e[i],r[i]);if(s)return s}return he(e.length,r.length)}function _o(n){return im(n)}function im(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){let r=br(e);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return wr(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return J.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let r="[",i=!0;for(let s of e.values||[])i?i=!1:r+=",",r+=im(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(e){let r=Object.keys(e.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${im(e.fields[o])}`;return i+"}"}(n.mapValue):ee(61005,{value:n})}function nd(n){switch(ai(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let t=$d(n);return t?16+nd(t):16;case 5:return 2*n.stringValue.length;case 6:return wr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+nd(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return ns(r.fields,(s,o)=>{i+=s.length+nd(o)}),i}(n.mapValue);default:throw ee(13486,{value:n})}}function sm(n){return!!n&&"integerValue"in n}function My(n){return!!n&&"arrayValue"in n}function JI(n){return!!n&&"nullValue"in n}function ZI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rd(n){return!!n&&"mapValue"in n}function eT(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{})[ky])===null||e===void 0?void 0:e.stringValue)===Ny}function dc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let t={mapValue:{fields:{}}};return ns(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=dc(r)),t}if(n.arrayValue){let t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=dc(n.arrayValue.values[e]);return t}return Object.assign({},n)}function tT(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ZC}var Wz={mapValue:{fields:{[ky]:{stringValue:Ny},[mo]:{arrayValue:{}}}}};var Tn=class n{constructor(t){this.value=t}static empty(){return new n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!rd(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=dc(e)}setAll(t){let e=rn.emptyPath(),r={},i=[];t.forEach((o,c)=>{if(!e.isImmediateParentOf(c)){let u=this.getFieldsMap(e);this.applyChanges(u,r,i),r={},i=[],e=c.popLast()}o?r[c.lastSegment()]=dc(o):i.push(c.lastSegment())});let s=this.getFieldsMap(e);this.applyChanges(s,r,i)}delete(t){let e=this.field(t.popLast());rd(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Qn(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=e.mapValue.fields[t.get(r)];rd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,r){ns(e,(i,s)=>t[i]=s);for(let i of r)delete t[i]}clone(){return new n(dc(this.value))}};function nT(n){let t=[];return ns(n.fields,(e,r)=>{let i=new rn([e]);if(rd(r)){let s=nT(r.mapValue).fields;if(s.length===0)t.push(i);else for(let o of s)t.push(i.child(o))}else t.push(i)}),new Hn(t)}var Sn=class n{constructor(t,e,r,i,s,o,c){this.key=t,this.documentType=e,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(t){return new n(t,0,ie.min(),ie.min(),ie.min(),Tn.empty(),0)}static newFoundDocument(t,e,r,i){return new n(t,1,e,ie.min(),r,i,0)}static newNoDocument(t,e){return new n(t,2,e,ie.min(),ie.min(),Tn.empty(),0)}static newUnknownDocument(t,e){return new n(t,3,e,ie.min(),ie.min(),Tn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof n&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var vo=class{constructor(t,e){this.position=t,this.inclusive=e}};function eC(n,t,e){let r=0;for(let i=0;i<n.position.length;i++){let s=t[i],o=n.position[i];if(s.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),e.key):r=yo(o,e.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function tC(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Qn(n.position[e],t.position[e]))return!1;return!0}var bo=class{constructor(t,e="asc"){this.field=t,this.dir=e}};function VF(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}var hd=class{},ct=class n extends hd{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new am(t,e,r):e==="array-contains"?new lm(t,r):e==="in"?new dm(t,r):e==="not-in"?new hm(t,r):e==="array-contains-any"?new fm(t,r):new n(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new cm(t,r):new um(t,r)}matches(t){let e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(yo(e,this.value)):e!==null&&ai(this.value)===ai(e)&&this.matchesComparison(yo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Yn=class n extends hd{constructor(t,e){super(),this.filters=t,this.op=e,this.he=null}static create(t,e){return new n(t,e)}matches(t){return rT(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function rT(n){return n.op==="and"}function iT(n){return UF(n)&&rT(n)}function UF(n){for(let t of n.filters)if(t instanceof Yn)return!1;return!0}function om(n){if(n instanceof ct)return n.field.canonicalString()+n.op.toString()+_o(n.value);if(iT(n))return n.filters.map(t=>om(t)).join(",");{let t=n.filters.map(e=>om(e)).join(",");return`${n.op}(${t})`}}function sT(n,t){return n instanceof ct?function(r,i){return i instanceof ct&&r.op===i.op&&r.field.isEqual(i.field)&&Qn(r.value,i.value)}(n,t):n instanceof Yn?function(r,i){return i instanceof Yn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&sT(o,i.filters[c]),!0):!1}(n,t):void ee(19439)}function oT(n){return n instanceof ct?function(e){return`${e.field.canonicalString()} ${e.op} ${_o(e.value)}`}(n):n instanceof Yn?function(e){return e.op.toString()+" {"+e.getFilters().map(oT).join(" ,")+"}"}(n):"Filter"}var am=class extends ct{constructor(t,e,r){super(t,e,r),this.key=J.fromName(r.referenceValue)}matches(t){let e=J.comparator(t.key,this.key);return this.matchesComparison(e)}},cm=class extends ct{constructor(t,e){super(t,"in",e),this.keys=aT("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}},um=class extends ct{constructor(t,e){super(t,"not-in",e),this.keys=aT("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}};function aT(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(r=>J.fromName(r.referenceValue))}var lm=class extends ct{constructor(t,e){super(t,"array-contains",e)}matches(t){let e=t.data.field(this.field);return My(e)&&vc(e.arrayValue,this.value)}},dm=class extends ct{constructor(t,e){super(t,"in",e)}matches(t){let e=t.data.field(this.field);return e!==null&&vc(this.value.arrayValue,e)}},hm=class extends ct{constructor(t,e){super(t,"not-in",e)}matches(t){if(vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!vc(this.value.arrayValue,e)}},fm=class extends ct{constructor(t,e){super(t,"array-contains-any",e)}matches(t){let e=t.data.field(this.field);return!(!My(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>vc(this.value.arrayValue,r))}};var pm=class{constructor(t,e=null,r=[],i=[],s=null,o=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.Pe=null}};function nC(n,t=null,e=[],r=[],i=null,s=null,o=null){return new pm(n,t,e,r,i,s,o)}function Fy(n){let t=re(n);if(t.Pe===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>om(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ud(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>_o(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>_o(r)).join(",")),t.Pe=e}return t.Pe}function Ly(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!VF(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!sT(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!tC(n.startAt,t.startAt)&&tC(n.endAt,t.endAt)}function gm(n){return J.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var wo=class{constructor(t,e=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function $F(n,t,e,r,i,s,o,c){return new wo(n,t,e,r,i,s,o,c)}function Bd(n){return new wo(n)}function rC(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function BF(n){return n.collectionGroup!==null}function hc(n){let t=re(n);if(t.Te===null){t.Te=[];let e=new Set;for(let s of t.explicitOrderBy)t.Te.push(s),e.add(s.field.canonicalString());let r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new ft(rn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.Te.push(new bo(s,r))}),e.has(rn.keyField().canonicalString())||t.Te.push(new bo(rn.keyField(),r))}return t.Te}function Wn(n){let t=re(n);return t.Ie||(t.Ie=jF(t,hc(n))),t.Ie}function jF(n,t){if(n.limitType==="F")return nC(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new bo(i.field,s)});let e=n.endAt?new vo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new vo(n.startAt.position,n.startAt.inclusive):null;return nC(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function mm(n,t,e){return new wo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function jd(n,t){return Ly(Wn(n),Wn(t))&&n.limitType===t.limitType}function cT(n){return`${Fy(Wn(n))}|lt:${n.limitType}`}function ao(n){return`Query(target=${function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(i=>oT(i)).join(", ")}]`),Ud(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(i=>_o(i)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(i=>_o(i)).join(",")),`Target(${r})`}(Wn(n))}; limitType=${n.limitType})`}function zd(n,t){return t.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):J.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,t)&&function(r,i){for(let s of hc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,t)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,t)&&function(r,i){return!(r.startAt&&!function(o,c,u){let l=eC(o,c,u);return o.inclusive?l<=0:l<0}(r.startAt,hc(r),i)||r.endAt&&!function(o,c,u){let l=eC(o,c,u);return o.inclusive?l>=0:l>0}(r.endAt,hc(r),i))}(n,t)}function zF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function uT(n){return(t,e)=>{let r=!1;for(let i of hc(n)){let s=HF(i,t,e);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function HF(n,t,e){let r=n.field.isKeyField()?J.comparator(t.key,e.key):function(s,o,c){let u=o.data.field(s),l=c.data.field(s);return u!==null&&l!==null?yo(u,l):ee(42886)}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:n.dir})}}var Er=class{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){let e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,e){let r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){let e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[e]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){ns(this.inner,(e,r)=>{for(let[i,s]of r)t(i,s)})}isEmpty(){return KC(this.inner)}size(){return this.innerSize}};var qF=new We(J.comparator);function Ir(){return qF}var lT=new We(J.comparator);function lc(...n){let t=lT;for(let e of n)t=t.insert(e.key,e);return t}function dT(n){let t=lT;return n.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function Gi(){return fc()}function hT(){return fc()}function fc(){return new Er(n=>n.toString(),(n,t)=>n.isEqual(t))}var GF=new We(J.comparator),WF=new ft(J.comparator);function ve(...n){let t=WF;for(let e of n)t=t.add(e);return t}var KF=new ft(he);function QF(){return KF}function Vy(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yc(t)?"-0":t}}function fT(n){return{integerValue:""+n}}function YF(n,t){return CF(t)?fT(t):Vy(n,t)}var Eo=class{constructor(){this._=void 0}};function XF(n,t,e){return n instanceof Io?function(i,s){let o={fields:{[YC]:{stringValue:QC},[JC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&xy(s)&&(s=$d(s)),s&&(o.fields[XC]=s),{mapValue:o}}(e,t):n instanceof Ji?gT(n,t):n instanceof Zi?mT(n,t):function(i,s){let o=pT(i,s),c=iC(o)+iC(i.Ee);return sm(o)&&sm(i.Ee)?fT(c):Vy(i.serializer,c)}(n,t)}function JF(n,t,e){return n instanceof Ji?gT(n,t):n instanceof Zi?mT(n,t):e}function pT(n,t){return n instanceof Co?function(r){return sm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}var Io=class extends Eo{},Ji=class extends Eo{constructor(t){super(),this.elements=t}};function gT(n,t){let e=yT(t);for(let r of n.elements)e.some(i=>Qn(i,r))||e.push(r);return{arrayValue:{values:e}}}var Zi=class extends Eo{constructor(t){super(),this.elements=t}};function mT(n,t){let e=yT(t);for(let r of n.elements)e=e.filter(i=>!Qn(i,r));return{arrayValue:{values:e}}}var Co=class extends Eo{constructor(t,e){super(),this.serializer=t,this.Ee=e}};function iC(n){return je(n.integerValue||n.doubleValue)}function yT(n){return My(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function ZF(n,t){return n.field.isEqual(t.field)&&function(r,i){return r instanceof Ji&&i instanceof Ji||r instanceof Zi&&i instanceof Zi?go(r.elements,i.elements,Qn):r instanceof Co&&i instanceof Co?Qn(r.Ee,i.Ee):r instanceof Io&&i instanceof Io}(n.transform,t.transform)}var ym=class{constructor(t,e){this.version=t,this.transformResults=e}},ti=class n{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new n}static exists(t){return new n(void 0,t)}static updateTime(t){return new n(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}};function id(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}var To=class{};function _T(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new bc(n.key,ti.none()):new es(n.key,n.data,ti.none());{let e=n.data,r=Tn.empty(),i=new ft(rn.comparator);for(let s of t.fields)if(!i.has(s)){let o=e.field(s);o===null&&s.length>1&&(s=s.popLast(),o=e.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Cr(n.key,r,new Hn(i.toArray()),ti.none())}}function eL(n,t,e){n instanceof es?function(i,s,o){let c=i.value.clone(),u=oC(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):n instanceof Cr?function(i,s,o){if(!id(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=oC(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(vT(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,e)}function pc(n,t,e,r){return n instanceof es?function(s,o,c,u){if(!id(s.precondition,o))return c;let l=s.value.clone(),f=aC(s.fieldTransforms,u,o);return l.setAll(f),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,t,e,r):n instanceof Cr?function(s,o,c,u){if(!id(s.precondition,o))return c;let l=aC(s.fieldTransforms,u,o),f=o.data;return f.setAll(vT(s)),f.setAll(l),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(n,t,e,r):function(s,o,c){return id(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(n,t,e)}function tL(n,t){let e=null;for(let r of n.fieldTransforms){let i=t.data.field(r.field),s=pT(r.transform,i||null);s!=null&&(e===null&&(e=Tn.empty()),e.set(r.field,s))}return e||null}function sC(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&go(r,i,(s,o)=>ZF(s,o))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}var es=class extends To{constructor(t,e,r,i=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Cr=class extends To{constructor(t,e,r,i,s=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function vT(n){let t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){let r=n.data.field(e);t.set(e,r)}}),t}function oC(n,t,e){let r=new Map;Pe(n.length===e.length,32656,{Ae:e.length,Re:n.length});for(let i=0;i<e.length;i++){let s=n[i],o=s.transform,c=t.data.field(s.field);r.set(s.field,JF(o,c,e[i]))}return r}function aC(n,t,e){let r=new Map;for(let i of n){let s=i.transform,o=e.data.field(i.field);r.set(i.field,XF(s,o,t))}return r}var bc=class extends To{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},_m=class extends To{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var vm=class{constructor(t,e,r,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,e){let r=e.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(t.key)&&eL(s,t,r[i])}}applyToLocalView(t,e){for(let r of this.baseMutations)r.key.isEqual(t.key)&&(e=pc(r,t,e,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(t.key)&&(e=pc(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){let r=hT();return this.mutations.forEach(i=>{let s=t.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=e.has(i.key)?null:c;let u=_T(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),ve())}isEqual(t){return this.batchId===t.batchId&&go(this.mutations,t.mutations,(e,r)=>sC(e,r))&&go(this.baseMutations,t.baseMutations,(e,r)=>sC(e,r))}},bm=class n{constructor(t,e,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=i}static from(t,e,r){Pe(t.mutations.length===r.length,58842,{Ve:t.mutations.length,me:r.length});let i=function(){return GF}(),s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(t,e,r,i)}};var wm=class{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Em=class{constructor(t,e){this.count=t,this.unchangedNames=e}};var Je,Ee;function nL(n){switch(n){case k.OK:return ee(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return ee(15467,{code:n})}}function bT(n){if(n===void 0)return vr("GRPC error has no .code"),k.UNKNOWN;switch(n){case Je.OK:return k.OK;case Je.CANCELLED:return k.CANCELLED;case Je.UNKNOWN:return k.UNKNOWN;case Je.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Je.INTERNAL:return k.INTERNAL;case Je.UNAVAILABLE:return k.UNAVAILABLE;case Je.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Je.NOT_FOUND:return k.NOT_FOUND;case Je.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Je.ABORTED:return k.ABORTED;case Je.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Je.DATA_LOSS:return k.DATA_LOSS;default:return ee(39323,{code:n})}}(Ee=Je||(Je={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";var cC=null;var rL=new mr([4294967295,4294967295],0);function uC(n){let t=OC().encode(n),e=new Vg;return e.update(t),new Uint8Array(e.digest())}function lC(n){let t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new mr([e,r],0),new mr([i,s],0)]}var Im=class n{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new Wi(`Invalid padding: ${e}`);if(r<0)throw new Wi(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Wi(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new Wi(`Invalid padding when bitmap length is 0: ${e}`);this.fe=8*t.length-e,this.ge=mr.fromNumber(this.fe)}pe(t,e,r){let i=t.add(e.multiply(mr.fromNumber(r)));return i.compare(rL)===1&&(i=new mr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;let e=uC(t),[r,i]=lC(e);for(let s=0;s<this.hashCount;s++){let o=this.pe(r,i,s);if(!this.ye(o))return!1}return!0}static create(t,e,r){let i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new n(s,i,e);return r.forEach(c=>o.insert(c)),o}insert(t){if(this.fe===0)return;let e=uC(t),[r,i]=lC(e);for(let s=0;s<this.hashCount;s++){let o=this.pe(r,i,s);this.we(o)}}we(t){let e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}},Wi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var fd=class n{constructor(t,e,r,i,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,r){let i=new Map;return i.set(t,wc.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new n(ie.min(),i,new We(he),Ir(),ve())}},wc=class n{constructor(t,e,r,i,s){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new n(r,e,ve(),ve(),ve())}};var ho=class{constructor(t,e,r,i){this.Se=t,this.removedTargetIds=e,this.key=r,this.be=i}},pd=class{constructor(t,e){this.targetId=t,this.De=e}},gd=class{constructor(t,e,r=Dt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=i}},md=class{constructor(){this.ve=0,this.Ce=dC(),this.Fe=Dt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=ve(),e=ve(),r=ve();return this.Ce.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:r=r.add(i);break;default:ee(38017,{changeType:s})}}),new wc(this.Fe,this.Me,t,e,r)}ke(){this.xe=!1,this.Ce=dC()}qe(t,e){this.xe=!0,this.Ce=this.Ce.insert(t,e)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Pe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},Cm=class{constructor(t){this.We=t,this.Ge=new Map,this.ze=Ir(),this.je=ed(),this.Je=ed(),this.He=new We(he)}Ye(t){for(let e of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(e,t.be):this.Xe(e,t.key,t.be);for(let e of t.removedTargetIds)this.Xe(e,t.key,t.be)}et(t){this.forEachTarget(t,e=>{let r=this.tt(e);switch(t.state){case 0:this.nt(e)&&r.Be(t.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(t.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(e);break;case 3:this.nt(e)&&(r.Ke(),r.Be(t.resumeToken));break;case 4:this.nt(e)&&(this.rt(e),r.Be(t.resumeToken));break;default:ee(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ge.forEach((r,i)=>{this.nt(i)&&e(i)})}it(t){let e=t.targetId,r=t.De.count,i=this.st(e);if(i){let s=i.target;if(gm(s))if(r===0){let o=new J(s.path);this.Xe(e,o,Sn.newNoDocument(o,ie.min()))}else Pe(r===1,20013,{expectedCount:r});else{let o=this.ot(e);if(o!==r){let c=this._t(t),u=c?this.ut(c,t,o):1;if(u!==0){this.rt(e);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(e,l)}cC?.ct(function(f,p,m,y,A){var P,D,V,U,$,ne;let $e={localCacheCount:f,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},se=p.unchangedNames;return se&&($e.bloomFilter={applied:A===0,hashCount:(P=se?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(U=(V=(D=se?.bits)===null||D===void 0?void 0:D.bitmap)===null||V===void 0?void 0:V.length)!==null&&U!==void 0?U:0,padding:(ne=($=se?.bits)===null||$===void 0?void 0:$.padding)!==null&&ne!==void 0?ne:0,mightContain:I=>{var _;return(_=y?.mightContain(I))!==null&&_!==void 0&&_}}),$e}(o,t.De,this.We.lt(),c,u))}}}}_t(t){let e=t.De.unchangedNames;if(!e||!e.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=e,o,c;try{o=wr(r).toUint8Array()}catch(u){if(u instanceof ud)return oi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Im(o,i,s)}catch(u){return oi(u instanceof Wi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.fe===0?null:c}ut(t,e,r){return e.De.count===r-this.ht(t,e.targetId)?0:2}ht(t,e){let r=this.We.getRemoteKeysForTarget(e),i=0;return r.forEach(s=>{let o=this.We.lt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(c)||(this.Xe(e,s,null),i++)}),i}Pt(t){let e=new Map;this.Ge.forEach((s,o)=>{let c=this.st(o);if(c){if(s.current&&gm(c.target)){let u=new J(c.target.path);this.Tt(u).has(o)||this.It(o,u)||this.Xe(o,u,Sn.newNoDocument(u,t))}s.Ne&&(e.set(o,s.Le()),s.ke())}});let r=ve();this.Je.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(t));let i=new fd(t,e,this.He,this.ze,r);return this.ze=Ir(),this.je=ed(),this.Je=ed(),this.He=new We(he),i}Ze(t,e){if(!this.nt(t))return;let r=this.It(t,e.key)?2:0;this.tt(t).qe(e.key,r),this.ze=this.ze.insert(e.key,e),this.je=this.je.insert(e.key,this.Tt(e.key).add(t)),this.Je=this.Je.insert(e.key,this.dt(e.key).add(t))}Xe(t,e,r){if(!this.nt(t))return;let i=this.tt(t);this.It(t,e)?i.qe(e,1):i.Qe(e),this.Je=this.Je.insert(e,this.dt(e).delete(t)),this.Je=this.Je.insert(e,this.dt(e).add(t)),r&&(this.ze=this.ze.insert(e,r))}removeTarget(t){this.Ge.delete(t)}ot(t){let e=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let e=this.Ge.get(t);return e||(e=new md,this.Ge.set(t,e)),e}dt(t){let e=this.Je.get(t);return e||(e=new ft(he),this.Je=this.Je.insert(t,e)),e}Tt(t){let e=this.je.get(t);return e||(e=new ft(he),this.je=this.je.insert(t,e)),e}nt(t){let e=this.st(t)!==null;return e||B("WatchChangeAggregator","Detected inactive target",t),e}st(t){let e=this.Ge.get(t);return e&&e.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new md),this.We.getRemoteKeysForTarget(t).forEach(e=>{this.Xe(t,e,null)})}It(t,e){return this.We.getRemoteKeysForTarget(t).has(e)}};function ed(){return new We(J.comparator)}function dC(){return new We(J.comparator)}var iL={asc:"ASCENDING",desc:"DESCENDING"},sL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oL={and:"AND",or:"OR"},Tm=class{constructor(t,e){this.databaseId=t,this.useProto3Json=e}};function Sm(n,t){return n.useProto3Json||Ud(t)?t:{value:t}}function yd(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wT(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function aL(n,t){return yd(n,t.toTimestamp())}function Kn(n){return Pe(!!n,49232),ie.fromTimestamp(function(e){let r=br(e);return new tt(r.seconds,r.nanos)}(n))}function Uy(n,t){return Am(n,t).canonicalString()}function Am(n,t){let e=function(i){return new He(["projects",i.projectId,"databases",i.database])}(n).child("documents");return t===void 0?e:e.child(t)}function ET(n){let t=He.fromString(n);return Pe(AT(t),10190,{key:t.toString()}),t}function Dm(n,t){return Uy(n.databaseId,t.path)}function Hg(n,t){let e=ET(t);if(e.get(1)!==n.databaseId.projectId)throw new H(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new H(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new J(CT(e))}function IT(n,t){return Uy(n.databaseId,t)}function cL(n){let t=ET(n);return t.length===4?He.emptyPath():CT(t)}function Rm(n){return new He(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CT(n){return Pe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function hC(n,t,e){return{name:Dm(n,t),fields:e.value.mapValue.fields}}function uL(n,t){let e;if("targetChange"in t){t.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ee(39313,{state:l})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,f){return l.useProto3Json?(Pe(f===void 0||typeof f=="string",58123),Dt.fromBase64String(f||"")):(Pe(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Dt.fromUint8Array(f||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,c=o&&function(l){let f=l.code===void 0?k.UNKNOWN:bT(l.code);return new H(f,l.message||"")}(o);e=new gd(r,i,s,c||null)}else if("documentChange"in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=Hg(n,r.document.name),s=Kn(r.document.updateTime),o=r.document.createTime?Kn(r.document.createTime):ie.min(),c=new Tn({mapValue:{fields:r.document.fields}}),u=Sn.newFoundDocument(i,s,o,c),l=r.targetIds||[],f=r.removedTargetIds||[];e=new ho(l,f,u.key,u)}else if("documentDelete"in t){t.documentDelete;let r=t.documentDelete;r.document;let i=Hg(n,r.document),s=r.readTime?Kn(r.readTime):ie.min(),o=Sn.newNoDocument(i,s),c=r.removedTargetIds||[];e=new ho([],c,o.key,o)}else if("documentRemove"in t){t.documentRemove;let r=t.documentRemove;r.document;let i=Hg(n,r.document),s=r.removedTargetIds||[];e=new ho([],s,i,null)}else{if(!("filter"in t))return ee(11601,{At:t});{t.filter;let r=t.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Em(i,s),c=r.targetId;e=new pd(c,o)}}return e}function lL(n,t){let e;if(t instanceof es)e={update:hC(n,t.key,t.value)};else if(t instanceof bc)e={delete:Dm(n,t.key)};else if(t instanceof Cr)e={update:hC(n,t.key,t.data),updateMask:vL(t.fieldMask)};else{if(!(t instanceof _m))return ee(16599,{Rt:t.type});e={verify:Dm(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof Io)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ji)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Zi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Co)return{fieldPath:o.field.canonicalString(),increment:c.Ee};throw ee(20930,{transform:o.transform})}(0,r))),t.precondition.isNone||(e.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:aL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ee(27497)}(n,t.precondition)),e}function dL(n,t){return n&&n.length>0?(Pe(t!==void 0,14353),n.map(e=>function(i,s){let o=i.updateTime?Kn(i.updateTime):Kn(s);return o.isEqual(ie.min())&&(o=Kn(s)),new ym(o,i.transformResults||[])}(e,t))):[]}function hL(n,t){return{documents:[IT(n,t.path)]}}function fL(n,t){let e={structuredQuery:{}},r=t.path,i;t.collectionGroup!==null?(i=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=IT(n,i);let s=function(l){if(l.length!==0)return ST(Yn.create(l,"and"))}(t.filters);s&&(e.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(f=>function(m){return{field:co(m.field),direction:mL(m.dir)}}(f))}(t.orderBy);o&&(e.structuredQuery.orderBy=o);let c=Sm(n,t.limit);return c!==null&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),{Vt:e,parent:i}}function pL(n){let t=cL(n.parent),e=n.structuredQuery,r=e.from?e.from.length:0,i=null;if(r>0){Pe(r===1,65062);let f=e.from[0];f.allDescendants?i=f.collectionId:t=t.child(f.collectionId)}let s=[];e.where&&(s=function(p){let m=TT(p);return m instanceof Yn&&iT(m)?m.getFilters():[m]}(e.where));let o=[];e.orderBy&&(o=function(p){return p.map(m=>function(A){return new bo(uo(A.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(m))}(e.orderBy));let c=null;e.limit&&(c=function(p){let m;return m=typeof p=="object"?p.value:p,Ud(m)?null:m}(e.limit));let u=null;e.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new vo(y,m)}(e.startAt));let l=null;return e.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new vo(y,m)}(e.endAt)),$F(t,i,o,s,c,"F",u,l)}function gL(n,t){let e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:i})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function TT(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":let r=uo(e.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=uo(e.unaryFilter.field);return ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=uo(e.unaryFilter.field);return ct.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=uo(e.unaryFilter.field);return ct.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}}(n):n.fieldFilter!==void 0?function(e){return ct.create(uo(e.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Yn.create(e.compositeFilter.filters.map(r=>TT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee(1026)}}(e.compositeFilter.op))}(n):ee(30097,{filter:n})}function mL(n){return iL[n]}function yL(n){return sL[n]}function _L(n){return oL[n]}function co(n){return{fieldPath:n.canonicalString()}}function uo(n){return rn.fromServerFormat(n.fieldPath)}function ST(n){return n instanceof ct?function(e){if(e.op==="=="){if(ZI(e.value))return{unaryFilter:{field:co(e.field),op:"IS_NAN"}};if(JI(e.value))return{unaryFilter:{field:co(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(ZI(e.value))return{unaryFilter:{field:co(e.field),op:"IS_NOT_NAN"}};if(JI(e.value))return{unaryFilter:{field:co(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(e.field),op:yL(e.op),value:e.value}}}(n):n instanceof Yn?function(e){let r=e.getFilters().map(i=>ST(i));return r.length===1?r[0]:{compositeFilter:{op:_L(e.op),filters:r}}}(n):ee(54877,{filter:n})}function vL(n){let t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function AT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Ec=class n{constructor(t,e,r,i,s=ie.min(),o=ie.min(),c=Dt.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(t){return new n(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}};var Pm=class{constructor(t){this.gt=t}};function bL(n){let t=pL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?mm(t,t.limit,"L"):t}var _d=class{constructor(){}bt(t,e){this.Dt(t,e),e.vt()}Dt(t,e){if("nullValue"in t)this.Ct(e,5);else if("booleanValue"in t)this.Ct(e,10),e.Ft(t.booleanValue?1:0);else if("integerValue"in t)this.Ct(e,15),e.Ft(je(t.integerValue));else if("doubleValue"in t){let r=je(t.doubleValue);isNaN(r)?this.Ct(e,13):(this.Ct(e,15),yc(r)?e.Ft(0):e.Ft(r))}else if("timestampValue"in t){let r=t.timestampValue;this.Ct(e,20),typeof r=="string"&&(r=br(r)),e.Mt(`${r.seconds||""}`),e.Ft(r.nanos||0)}else if("stringValue"in t)this.xt(t.stringValue,e),this.Ot(e);else if("bytesValue"in t)this.Ct(e,30),e.Nt(wr(t.bytesValue)),this.Ot(e);else if("referenceValue"in t)this.Bt(t.referenceValue,e);else if("geoPointValue"in t){let r=t.geoPointValue;this.Ct(e,45),e.Ft(r.latitude||0),e.Ft(r.longitude||0)}else"mapValue"in t?tT(t)?this.Ct(e,Number.MAX_SAFE_INTEGER):eT(t)?this.Lt(t.mapValue,e):(this.kt(t.mapValue,e),this.Ot(e)):"arrayValue"in t?(this.qt(t.arrayValue,e),this.Ot(e)):ee(19022,{Qt:t})}xt(t,e){this.Ct(e,25),this.$t(t,e)}$t(t,e){e.Mt(t)}kt(t,e){let r=t.fields||{};this.Ct(e,55);for(let i of Object.keys(r))this.xt(i,e),this.Dt(r[i],e)}Lt(t,e){var r,i;let s=t.fields||{};this.Ct(e,53);let o=mo,c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(e,15),e.Ft(je(c)),this.xt(o,e),this.Dt(s[o],e)}qt(t,e){let r=t.values||[];this.Ct(e,50);for(let i of r)this.Dt(i,e)}Bt(t,e){this.Ct(e,37),J.fromName(t).path.forEach(r=>{this.Ct(e,60),this.$t(r,e)})}Ct(t,e){t.Ft(e)}Ot(t){t.Ft(2)}};_d.Ut=new _d;var Om=class{constructor(){this.Dn=new xm}addToCollectionParentIndex(t,e){return this.Dn.add(e),M.resolve()}getCollectionParents(t,e){return M.resolve(this.Dn.getEntries(e))}addFieldIndex(t,e){return M.resolve()}deleteFieldIndex(t,e){return M.resolve()}deleteAllFieldIndexes(t){return M.resolve()}createTargetIndexes(t,e){return M.resolve()}getDocumentsMatchingTarget(t,e){return M.resolve(null)}getIndexType(t,e){return M.resolve(0)}getFieldIndexes(t,e){return M.resolve([])}getNextCollectionGroupToUpdate(t){return M.resolve(null)}getMinOffset(t,e){return M.resolve(Xi.min())}getMinOffsetFromCollectionGroup(t,e){return M.resolve(Xi.min())}updateCollectionGroup(t,e,r){return M.resolve()}updateIndexEntries(t,e){return M.resolve()}},xm=class{constructor(){this.index={}}add(t){let e=t.lastSegment(),r=t.popLast(),i=this.index[e]||new ft(He.comparator),s=!i.has(r);return this.index[e]=i.add(r),s}has(t){let e=t.lastSegment(),r=t.popLast(),i=this.index[e];return i&&i.has(r)}getEntries(t){return(this.index[t]||new ft(He.comparator)).toArray()}};var Kz=new Uint8Array(0);var fC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DT=41943040,un=class n{static withCacheSize(t){return new n(t,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}};un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(DT,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);var Ic=class n{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var pC="LruGarbageCollector",wL=1048576;function gC([n,t],[e,r]){let i=he(n,e);return i===0?he(t,r):i}var km=class{constructor(t){this.Tr=t,this.buffer=new ft(gC),this.Ir=0}dr(){return++this.Ir}Er(t){let e=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(e);else{let r=this.buffer.last();gC(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}},Nm=class{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){B(pC,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,()=>v(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(e){Po(e)?B(pC,"Ignoring IndexedDB error during garbage collection: ",e):yield Ro(e)}yield this.Rr(3e5)}))}},Mm=class{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.mr(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(e===0)return M.resolve(Py.ue);let r=new km(e);return this.Vr.forEachTarget(t,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(t,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.Vr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(fC)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fC):this.pr(t,e))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,e){let r,i,s,o,c,u,l,f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(t,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(t,r,e))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(t,r))).next(p=>(l=Date.now(),oo()<=me.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${s} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}};function EL(n,t){return new Mm(n,t)}var Fm=class{constructor(){this.changes=new Er(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Sn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();let r=this.changes.get(e);return r!==void 0?M.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}};var Lm=class{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}};var Vm=class{constructor(t,e,r,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,e))).next(i=>(r!==null&&pc(r.mutation,i,Hn.empty(),tt.now()),i))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,ve()).next(()=>r))}getLocalViewOfDocuments(t,e,r=ve()){let i=Gi();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,r).next(s=>{let o=lc();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){let r=Gi();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,ve()))}populateOverlays(t,e,r){let i=[];return r.forEach(s=>{e.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,c)=>{e.set(o,c)})})}computeViews(t,e,r,i){let s=Ir(),o=fc(),c=function(){return fc()}();return e.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Cr)?s=s.insert(l.key,l):f!==void 0?(o.set(l.key,f.mutation.getFieldMask()),pc(f.mutation,l,f.mutation.getFieldMask(),tt.now())):o.set(l.key,Hn.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((l,f)=>o.set(l,f)),e.forEach((l,f)=>{var p;return c.set(l,new Lm(f,(p=o.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(t,e){let r=fc(),i=new We((o,c)=>o-c),s=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(let c of o)c.keys().forEach(u=>{let l=e.get(u);if(l===null)return;let f=r.get(u)||Hn.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||ve()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=hT();f.forEach(m=>{if(!s.has(m)){let y=_T(e.get(m),r.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,p))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r,i){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):BF(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,i):this.getDocumentsMatchingCollectionQuery(t,e,r,i)}getNextDocuments(t,e,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,i-s.size):M.resolve(Gi()),c=mc,u=s;return o.next(l=>M.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(f)?M.resolve():this.remoteDocumentCache.getEntry(t,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(t,l,s)).next(()=>this.computeViews(t,u,l,ve())).next(f=>({batchId:c,changes:dT(f)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new J(e)).next(r=>{let i=lc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,e,r,i){let s=e.collectionGroup,o=lc();return this.indexManager.getCollectionParents(t,s).next(c=>M.forEach(c,u=>{let l=function(p,m){return new wo(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(e,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,r,i).next(f=>{f.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,s,i))).next(o=>{s.forEach((u,l)=>{let f=l.getKey();o.get(f)===null&&(o=o.insert(f,Sn.newInvalidDocument(f)))});let c=lc();return o.forEach((u,l)=>{let f=s.get(u);f!==void 0&&pc(f.mutation,l,Hn.empty(),tt.now()),zd(e,l)&&(c=c.insert(u,l))}),c})}};var Um=class{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,e){return M.resolve(this.Br.get(e))}saveBundleMetadata(t,e){return this.Br.set(e.id,function(i){return{id:i.id,version:i.version,createTime:Kn(i.createTime)}}(e)),M.resolve()}getNamedQuery(t,e){return M.resolve(this.Lr.get(e))}saveNamedQuery(t,e){return this.Lr.set(e.name,function(i){return{name:i.name,query:bL(i.bundledQuery),readTime:Kn(i.readTime)}}(e)),M.resolve()}};var $m=class{constructor(){this.overlays=new We(J.comparator),this.kr=new Map}getOverlay(t,e){return M.resolve(this.overlays.get(e))}getOverlays(t,e){let r=Gi();return M.forEach(e,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((i,s)=>{this.wt(t,e,s)}),M.resolve()}removeOverlaysForBatchId(t,e,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),M.resolve()}getOverlaysForCollection(t,e,r){let i=Gi(),s=e.length+1,o=new J(e.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!e.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(t,e,r,i){let s=new We((l,f)=>l-f),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===e&&l.largestBatchId>r){let f=s.get(l.largestBatchId);f===null&&(f=Gi(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=Gi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return M.resolve(c)}wt(t,e,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new wm(e,r));let s=this.kr.get(e);s===void 0&&(s=ve(),this.kr.set(e,s)),this.kr.set(e,s.add(r.key))}};var Bm=class{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(t){return M.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,M.resolve()}};var Cc=class{constructor(){this.qr=new ft(Ze.Qr),this.$r=new ft(Ze.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,e){let r=new Ze(t,e);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.Wr(new Ze(t,e))}Gr(t,e){t.forEach(r=>this.removeReference(r,e))}zr(t){let e=new J(new He([])),r=new Ze(e,t),i=new Ze(e,t+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){let e=new J(new He([])),r=new Ze(e,t),i=new Ze(e,t+1),s=ve();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){let e=new Ze(t,0),r=this.qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}},Ze=class{constructor(t,e){this.key=t,this.Hr=e}static Qr(t,e){return J.comparator(t.key,e.key)||he(t.Hr,e.Hr)}static Ur(t,e){return he(t.Hr,e.Hr)||J.comparator(t.key,e.key)}};var jm=class{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.er=1,this.Yr=new ft(Ze.Qr)}checkEmpty(t){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,i){let s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new vm(s,e,r,i);this.mutationQueue.push(o);for(let c of i)this.Yr=this.Yr.add(new Ze(c.key,s)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return M.resolve(o)}lookupMutationBatch(t,e){return M.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){let r=e+1,i=this.Xr(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?Oy:this.er-1)}getAllMutationBatches(t){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){let r=new Ze(e,0),i=new Ze(e,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{let c=this.Zr(o.Hr);s.push(c)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new ft(he);return e.forEach(i=>{let s=new Ze(i,0),o=new Ze(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],c=>{r=r.add(c.Hr)})}),M.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(t,e){let r=e.path,i=r.length+1,s=r;J.isDocumentKey(s)||(s=s.child(""));let o=new Ze(new J(s),0),c=new ft(he);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Hr)),!0)},o),M.resolve(this.ei(c))}ei(t){let e=[];return t.forEach(r=>{let i=this.Zr(r);i!==null&&e.push(i)}),e}removeMutationBatch(t,e){Pe(this.ti(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return M.forEach(e.mutations,i=>{let s=new Ze(i.key,e.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Yr=r})}rr(t){}containsKey(t,e){let r=new Ze(e,0),i=this.Yr.firstAfterOrEqual(r);return M.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,M.resolve()}ti(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){let e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}};var zm=class{constructor(t){this.ni=t,this.docs=function(){return new We(J.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){let r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){let e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){let r=this.docs.get(e);return M.resolve(r?r.document.mutableCopy():Sn.newInvalidDocument(e))}getEntries(t,e){let r=Ir();return e.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Sn.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(t,e,r,i){let s=Ir(),o=e.path,c=new J(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||wF(bF(f),r)<=0||(i.has(f.key)||zd(e,f))&&(s=s.insert(f.key,f.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(t,e,r,i){ee(9500)}ri(t,e){return M.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new Hm(this)}getSize(t){return M.resolve(this.size)}},Hm=class extends Fm{constructor(t){super(),this.Or=t}applyChanges(t){let e=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?e.push(this.Or.addEntry(t,i)):this.Or.removeEntry(r)}),M.waitFor(e)}getFromCache(t,e){return this.Or.getEntry(t,e)}getAllFromCache(t,e){return this.Or.getEntries(t,e)}};var qm=class{constructor(t){this.persistence=t,this.ii=new Er(e=>Fy(e),Ly),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.si=0,this.oi=new Cc,this.targetCount=0,this._i=Ic.ar()}forEachTarget(t,e){return this.ii.forEach((r,i)=>e(i)),M.resolve()}getLastRemoteSnapshotVersion(t){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return M.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.si&&(this.si=e),M.resolve()}hr(t){this.ii.set(t.target,t);let e=t.targetId;e>this.highestTargetId&&(this._i=new Ic(e),this.highestTargetId=e),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,e){return this.hr(e),this.targetCount+=1,M.resolve()}updateTargetData(t,e){return this.hr(e),M.resolve()}removeTargetData(t,e){return this.ii.delete(e.target),this.oi.zr(e.targetId),this.targetCount-=1,M.resolve()}removeTargets(t,e,r){let i=0,s=[];return this.ii.forEach((o,c)=>{c.sequenceNumber<=e&&r.get(c.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(t,c.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(t){return M.resolve(this.targetCount)}getTargetData(t,e){let r=this.ii.get(e)||null;return M.resolve(r)}addMatchingKeys(t,e,r){return this.oi.Kr(e,r),M.resolve()}removeMatchingKeys(t,e,r){this.oi.Gr(e,r);let i=this.persistence.referenceDelegate,s=[];return i&&e.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.oi.zr(e),M.resolve()}getMatchingKeysForTargetId(t,e){let r=this.oi.Jr(e);return M.resolve(r)}containsKey(t,e){return M.resolve(this.oi.containsKey(e))}};var vd=class{constructor(t,e){this.ai={},this.overlays={},this.ui=new Py(0),this.ci=!1,this.ci=!0,this.li=new Bm,this.referenceDelegate=t(this),this.hi=new qm(this),this.indexManager=new Om,this.remoteDocumentCache=function(i){return new zm(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new Pm(e),this.Ti=new Um(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new $m,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ai[t.toKey()];return r||(r=new jm(e,this.referenceDelegate),this.ai[t.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,e,r){B("MemoryPersistence","Starting transaction:",t);let i=new Gm(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(t,e){return M.or(Object.values(this.ai).map(r=>()=>r.containsKey(t,e)))}},Gm=class extends nm{constructor(t){super(),this.currentSequenceNumber=t}},Wm=class n{constructor(t){this.persistence=t,this.Ai=new Cc,this.Ri=null}static Vi(t){return new n(t)}get mi(){if(this.Ri)return this.Ri;throw ee(60996)}addReference(t,e,r){return this.Ai.addReference(r,e),this.mi.delete(r.toString()),M.resolve()}removeReference(t,e,r){return this.Ai.removeReference(r,e),this.mi.add(r.toString()),M.resolve()}markPotentiallyOrphaned(t,e){return this.mi.add(e.toString()),M.resolve()}removeTarget(t,e){this.Ai.zr(e.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(t,e))}Ii(){this.Ri=new Set}di(t){let e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.mi,r=>{let i=J.fromPath(r);return this.fi(t,i).next(s=>{s||e.removeEntry(i,ie.min())})}).next(()=>(this.Ri=null,e.apply(t)))}updateLimboDocument(t,e){return this.fi(t,e).next(r=>{r?this.mi.delete(e.toString()):this.mi.add(e.toString())})}Pi(t){return 0}fi(t,e){return M.or([()=>M.resolve(this.Ai.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}},bd=class n{constructor(t,e){this.persistence=t,this.gi=new Er(r=>TF(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=EL(this,e)}static Vi(t,e){return new n(t,e)}Ii(){}di(t){return M.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}mr(t){let e=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>e.next(i=>r+i))}yr(t){let e=0;return this.gr(t,r=>{e++}).next(()=>e)}gr(t,e){return M.forEach(this.gi,(r,i)=>this.Sr(t,r,i).next(s=>s?M.resolve():e(i)))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(t,o=>this.Sr(t,o,e).next(c=>{c||(r++,s.removeEntry(o,ie.min()))})).next(()=>s.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,e){return this.gi.set(e,t.currentSequenceNumber),M.resolve()}removeTarget(t,e){let r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.gi.set(r,t.currentSequenceNumber),M.resolve()}removeReference(t,e,r){return this.gi.set(r,t.currentSequenceNumber),M.resolve()}updateLimboDocument(t,e){return this.gi.set(e,t.currentSequenceNumber),M.resolve()}Pi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=nd(t.data.value)),e}Sr(t,e,r){return M.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{let i=this.gi.get(e);return M.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}};var Km=class n{constructor(t,e,r,i){this.targetId=t,this.fromCache=e,this.Is=r,this.ds=i}static Es(t,e){let r=ve(),i=ve();for(let s of e.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(t,e.fromCache,r,i)}};var Qm=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}};var Ym=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return oE()?8:IF(dt())>0?6:4}()}initialize(t,e){this.gs=t,this.indexManager=e,this.As=!0}getDocumentsMatchingQuery(t,e,r,i){let s={result:null};return this.ps(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(t,e,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Qm;return this.ws(t,e,o).next(c=>{if(s.result=c,this.Rs)return this.Ss(t,e,o,c.size)})}).next(()=>s.result)}Ss(t,e,r,i){return r.documentReadCount<this.Vs?(oo()<=me.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",ao(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),M.resolve()):(oo()<=me.DEBUG&&B("QueryEngine","Query:",ao(e),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(oo()<=me.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",ao(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Wn(e))):M.resolve())}ps(t,e){if(rC(e))return M.resolve(null);let r=Wn(e);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(e.limit!==null&&i===1&&(e=mm(e,null,"F"),r=Wn(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{let o=ve(...s);return this.gs.getDocuments(t,o).next(c=>this.indexManager.getMinOffset(t,r).next(u=>{let l=this.bs(e,c);return this.Ds(e,l,o,u.readTime)?this.ps(t,mm(e,null,"F")):this.vs(t,l,e,u)}))})))}ys(t,e,r,i){return rC(e)||i.isEqual(ie.min())?M.resolve(null):this.gs.getDocuments(t,r).next(s=>{let o=this.bs(e,s);return this.Ds(e,o,r,i)?M.resolve(null):(oo()<=me.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ao(e)),this.vs(t,o,e,vF(i,mc)).next(c=>c))})}bs(t,e){let r=new ft(uT(t));return e.forEach((i,s)=>{zd(t,s)&&(r=r.add(s))}),r}Ds(t,e,r,i){if(t.limit===null)return!1;if(r.size!==e.size)return!0;let s=t.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(t,e,r){return oo()<=me.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",ao(e)),this.gs.getDocumentsMatchingQuery(t,e,Xi.min(),r)}vs(t,e,r,i){return this.gs.getDocumentsMatchingQuery(t,r,i).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}};var $y="LocalStore",IL=3e8,Xm=class{constructor(t,e,r,i){this.persistence=t,this.Cs=e,this.serializer=i,this.Fs=new We(he),this.Ms=new Er(s=>Fy(s),Ly),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(r)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Vm(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Fs))}};function CL(n,t,e,r){return new Xm(n,t,e,r)}function RT(n,t){return v(this,null,function*(){let e=re(n);return yield e.persistence.runTransaction("Handle user change","readonly",r=>{let i;return e.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,e.Ns(t),e.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=ve();for(let l of i){o.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of s){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return e.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:o,addedBatchIds:c}))})})})}function TL(n,t){let e=re(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=t.batch.keys(),s=e.Os.newChangeBuffer({trackRemovals:!0});return function(c,u,l,f){let p=l.batch,m=p.keys(),y=M.resolve();return m.forEach(A=>{y=y.next(()=>f.getEntry(u,A)).next(P=>{let D=l.docVersions.get(A);Pe(D!==null,48541),P.version.compareTo(D)<0&&(p.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),f.addEntry(P)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(e,r,t,s).next(()=>s.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=ve();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(t))).next(()=>e.localDocuments.getDocuments(r,i))})}function PT(n){let t=re(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function SL(n,t){let e=re(n),r=t.snapshotVersion,i=e.Fs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=e.Os.newChangeBuffer({trackRemovals:!0});i=e.Fs;let c=[];t.targetChanges.forEach((f,p)=>{let m=i.get(p);if(!m)return;c.push(e.hi.removeMatchingKeys(s,f.removedDocuments,p).next(()=>e.hi.addMatchingKeys(s,f.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(p)!==null?y=y.withResumeToken(Dt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(p,y),function(P,D,V){return P.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=IL?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(m,y,f)&&c.push(e.hi.updateTargetData(s,y))});let u=Ir(),l=ve();if(t.documentUpdates.forEach(f=>{t.resolvedLimboDocuments.has(f)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(s,f))}),c.push(AL(s,o,t.documentUpdates).next(f=>{u=f.Ls,l=f.ks})),!r.isEqual(ie.min())){let f=e.hi.getLastRemoteSnapshotVersion(s).next(p=>e.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(f)}return M.waitFor(c).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(e.Fs=i,s))}function AL(n,t,e){let r=ve(),i=ve();return e.forEach(s=>r=r.add(s)),t.getEntries(n,r).next(s=>{let o=Ir();return e.forEach((c,u)=>{let l=s.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(ie.min())?(t.removeEntry(c,u.readTime),o=o.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(u),o=o.insert(c,u)):B($y,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ls:o,ks:i}})}function DL(n,t){let e=re(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Oy),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function RL(n,t){let e=re(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return e.hi.getTargetData(r,t).next(s=>s?(i=s,M.resolve(i)):e.hi.allocateTargetId(r).next(o=>(i=new Ec(t,o,"TargetPurposeListen",r.currentSequenceNumber),e.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=e.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.Fs=e.Fs.insert(r.targetId,r),e.Ms.set(t,r.targetId)),r})}function Jm(n,t,e){return v(this,null,function*(){let r=re(n),i=r.Fs.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Po(o))throw o;B($y,`Failed to update sequence numbers for target ${t}: ${o}`)}r.Fs=r.Fs.remove(t),r.Ms.delete(i.target)})}function mC(n,t,e){let r=re(n),i=ie.min(),s=ve();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,f){let p=re(u),m=p.Ms.get(f);return m!==void 0?M.resolve(p.Fs.get(m)):p.hi.getTargetData(l,f)}(r,o,Wn(t)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,t,e?i:ie.min(),e?s:ve())).next(c=>(PL(r,zF(t),c),{documents:c,qs:s})))}function PL(n,t,e){let r=n.xs.get(t)||ie.min();e.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.xs.set(t,r)}var wd=class{constructor(){this.activeTargetIds=QF()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){let t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}};var Zm=class{constructor(){this.Fo=new wd,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,e,r){this.Mo[t]=e}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new wd,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}};var ey=class{xo(t){}shutdown(){}};var yC="ConnectivityMonitor",Ed=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){B(yC,"Network connectivity changed: AVAILABLE");for(let t of this.ko)t(0)}Lo(){B(yC,"Network connectivity changed: UNAVAILABLE");for(let t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var td=null;function ty(){return td===null?td=function(){return 268435456+Math.round(2147483648*Math.random())}():td++,"0x"+td.toString(16)}var qg="RestConnection",OL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},ny=class{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=e+"://"+t.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===ld?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(t,e,r,i,s){let o=ty(),c=this.Go(t,e.toUriEncodedString());B(qg,`Sending RPC '${t}' ${o}:`,c,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,s);let{host:l}=new URL(c),f=qr(l);return this.jo(t,c,u,r,f).then(p=>(B(qg,`Received RPC '${t}' ${o}: `,p),p),p=>{throw oi(qg,`RPC '${t}' ${o} failed with error: `,p,"url: ",c,"request:",r),p})}Jo(t,e,r,i,s,o){return this.Wo(t,e,r,i,s)}zo(t,e,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Do}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}Go(t,e){let r=OL[t];return`${this.$o}/v1/${e}:${r}`}terminate(){}};var ry=class{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}};var At="WebChannelConnection",iy=class extends ny{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,e,r,i,s){let o=ty();return new Promise((c,u)=>{let l=new Ug;l.setWithCredentials(!0),l.listenOnce($g.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case uc.NO_ERROR:let p=l.getResponseJson();B(At,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(p)),c(p);break;case uc.TIMEOUT:B(At,`RPC '${t}' ${o} timed out`),u(new H(k.DEADLINE_EXCEEDED,"Request time out"));break;case uc.HTTP_ERROR:let m=l.getStatus();if(B(At,`RPC '${t}' ${o} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let A=y?.error;if(A&&A.status&&A.message){let P=function(V){let U=V.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(U)>=0?U:k.UNKNOWN}(A.status);u(new H(P,A.message))}else u(new H(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new H(k.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{c_:t,streamId:o,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{B(At,`RPC '${t}' ${o} completed.`)}});let f=JSON.stringify(i);B(At,`RPC '${t}' ${o} sending request:`,i),l.send(e,"POST",f,r,15)})}P_(t,e,r){let i=ty(),s=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=zg(),c=jg(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,e,r),u.encodeInitMessageHeaders=!0;let f=s.join("");B(At,`Creating RPC '${t}' stream ${i}: ${f}`,u);let p=o.createWebChannel(f,u);this.T_(p);let m=!1,y=!1,A=new ry({Ho:D=>{y?B(At,`Not sending because RPC '${t}' stream ${i} is closed:`,D):(m||(B(At,`Opening RPC '${t}' stream ${i} transport.`),p.open(),m=!0),B(At,`RPC '${t}' stream ${i} sending:`,D),p.send(D))},Yo:()=>p.close()}),P=(D,V,U)=>{D.listen(V,$=>{try{U($)}catch(ne){setTimeout(()=>{throw ne},0)}})};return P(p,so.EventType.OPEN,()=>{y||(B(At,`RPC '${t}' stream ${i} transport opened.`),A.s_())}),P(p,so.EventType.CLOSE,()=>{y||(y=!0,B(At,`RPC '${t}' stream ${i} transport closed`),A.__(),this.I_(p))}),P(p,so.EventType.ERROR,D=>{y||(y=!0,oi(At,`RPC '${t}' stream ${i} transport errored. Name:`,D.name,"Message:",D.message),A.__(new H(k.UNAVAILABLE,"The operation could not be completed")))}),P(p,so.EventType.MESSAGE,D=>{var V;if(!y){let U=D.data[0];Pe(!!U,16349);let $=U,ne=$?.error||((V=$[0])===null||V===void 0?void 0:V.error);if(ne){B(At,`RPC '${t}' stream ${i} received error:`,ne);let $e=ne.status,se=function(w){let E=Je[w];if(E!==void 0)return bT(E)}($e),I=ne.message;se===void 0&&(se=k.INTERNAL,I="Unknown error status: "+$e+" with message "+ne.message),y=!0,A.__(new H(se,I)),p.close()}else B(At,`RPC '${t}' stream ${i} received:`,U),A.a_(U)}}),P(c,Bg.STAT_EVENT,D=>{D.stat===Jl.PROXY?B(At,`RPC '${t}' stream ${i} detected buffering proxy`):D.stat===Jl.NOPROXY&&B(At,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.o_()},0),A}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(e=>e===t)}};function Gg(){return typeof document<"u"?document:null}function Hd(n){return new Tm(n,!0)}var Id=class{constructor(t,e,r=1e3,i=1.5,s=6e4){this.Fi=t,this.timerId=e,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();let e=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,e-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var _C="PersistentStream",Cd=class{constructor(t,e,r,i,s,o,c,u){this.Fi=t,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Id(t,e)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return v(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}L_(){return v(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(t,e){return v(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():e&&e.code===k.RESOURCE_EXHAUSTED?(vr(e.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):e&&e.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,yield this.listener.n_(e)})}U_(){}auth(){this.state=1;let t=this.K_(this.b_),e=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===e&&this.W_(r,i)},r=>{t(()=>{let i=new H(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(t,e){let r=this.K_(this.b_);this.stream=this.z_(t,e),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>v(this,null,function*(){this.state=0,this.start()}))}G_(t){return B(_C,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return e=>{this.Fi.enqueueAndForget(()=>this.b_===t?e():(B(_C,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},sy=class extends Cd{constructor(t,e,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,i,o),this.serializer=s}z_(t,e){return this.connection.P_("Listen",t,e)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();let e=uL(this.serializer,t),r=function(s){if(!("targetChange"in s))return ie.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?Kn(o.readTime):ie.min()}(t);return this.listener.J_(e,r)}H_(t){let e={};e.database=Rm(this.serializer),e.addTarget=function(s,o){let c,u=o.target;if(c=gm(u)?{documents:hL(s,u)}:{query:fL(s,u).Vt},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=wT(s,o.resumeToken);let l=Sm(s,o.expectedCount);l!==null&&(c.expectedCount=l)}else if(o.snapshotVersion.compareTo(ie.min())>0){c.readTime=yd(s,o.snapshotVersion.toTimestamp());let l=Sm(s,o.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,t);let r=gL(this.serializer,t);r&&(e.labels=r),this.k_(e)}Y_(t){let e={};e.database=Rm(this.serializer),e.removeTarget=t,this.k_(e)}},oy=class extends Cd{constructor(t,e,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,e){return this.connection.P_("Write",t,e)}j_(t){return Pe(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Pe(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Pe(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();let e=dL(t.writeResults,t.commitTime),r=Kn(t.commitTime);return this.listener.ta(r,e)}na(){let t={};t.database=Rm(this.serializer),this.k_(t)}X_(t){let e={streamToken:this.lastStreamToken,writes:t.map(r=>lL(this.serializer,r))};this.k_(e)}};var ay=class{},cy=class extends ay{constructor(t,e,r,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new H(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(t,Am(e,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(k.UNKNOWN,s.toString())})}Jo(t,e,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Jo(t,Am(e,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(k.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},uy=class{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){let e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(vr(e),this._a=!1):B("OnlineStateTracker",e)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var ts="RemoteStore",ly=class{constructor(t,e,r,i,s){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(()=>v(this,null,function*(){rs(this)&&(B(ts,"Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=re(u);l.Ia.add(4),yield Ac(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield qd(l)})}(this))}))}),this.Aa=new uy(r,i)}};function qd(n){return v(this,null,function*(){if(rs(n))for(let t of n.da)yield t(!0)})}function Ac(n){return v(this,null,function*(){for(let t of n.da)yield t(!1)})}function OT(n,t){let e=re(n);e.Ta.has(t.targetId)||(e.Ta.set(t.targetId,t),Hy(e)?zy(e):Oo(e).x_()&&jy(e,t))}function By(n,t){let e=re(n),r=Oo(e);e.Ta.delete(t),r.x_()&&xT(e,t),e.Ta.size===0&&(r.x_()?r.B_():rs(e)&&e.Aa.set("Unknown"))}function jy(n,t){if(n.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ie.min())>0){let e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Oo(n).H_(t)}function xT(n,t){n.Ra.$e(t),Oo(n).Y_(t)}function zy(n){n.Ra=new Cm({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Ta.get(t)||null,lt:()=>n.datastore.serializer.databaseId}),Oo(n).start(),n.Aa.aa()}function Hy(n){return rs(n)&&!Oo(n).M_()&&n.Ta.size>0}function rs(n){return re(n).Ia.size===0}function kT(n){n.Ra=void 0}function xL(n){return v(this,null,function*(){n.Aa.set("Online")})}function kL(n){return v(this,null,function*(){n.Ta.forEach((t,e)=>{jy(n,t)})})}function NL(n,t){return v(this,null,function*(){kT(n),Hy(n)?(n.Aa.la(t),zy(n)):n.Aa.set("Unknown")})}function ML(n,t,e){return v(this,null,function*(){if(n.Aa.set("Online"),t instanceof gd&&t.state===2&&t.cause)try{yield function(i,s){return v(this,null,function*(){let o=s.cause;for(let c of s.targetIds)i.Ta.has(c)&&(yield i.remoteSyncer.rejectListen(c,o),i.Ta.delete(c),i.Ra.removeTarget(c))})}(n,t)}catch(r){B(ts,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield Td(n,r)}else if(t instanceof ho?n.Ra.Ye(t):t instanceof pd?n.Ra.it(t):n.Ra.et(t),!e.isEqual(ie.min()))try{let r=yield PT(n.localStore);e.compareTo(r)>=0&&(yield function(s,o){let c=s.Ra.Pt(o);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=s.Ta.get(l);f&&s.Ta.set(l,f.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,l)=>{let f=s.Ta.get(u);if(!f)return;s.Ta.set(u,f.withResumeToken(Dt.EMPTY_BYTE_STRING,f.snapshotVersion)),xT(s,u);let p=new Ec(f.target,u,l,f.sequenceNumber);jy(s,p)}),s.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(r){B(ts,"Failed to raise snapshot:",r),yield Td(n,r)}})}function Td(n,t,e){return v(this,null,function*(){if(!Po(t))throw t;n.Ia.add(1),yield Ac(n),n.Aa.set("Offline"),e||(e=()=>PT(n.localStore)),n.asyncQueue.enqueueRetryable(()=>v(null,null,function*(){B(ts,"Retrying IndexedDB access"),yield e(),n.Ia.delete(1),yield qd(n)}))})}function NT(n,t){return t().catch(e=>Td(n,e,t))}function Gd(n){return v(this,null,function*(){let t=re(n),e=ci(t),r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Oy;for(;FL(t);)try{let i=yield DL(t.localStore,r);if(i===null){t.Pa.length===0&&e.B_();break}r=i.batchId,LL(t,i)}catch(i){yield Td(t,i)}MT(t)&&FT(t)})}function FL(n){return rs(n)&&n.Pa.length<10}function LL(n,t){n.Pa.push(t);let e=ci(n);e.x_()&&e.Z_&&e.X_(t.mutations)}function MT(n){return rs(n)&&!ci(n).M_()&&n.Pa.length>0}function FT(n){ci(n).start()}function VL(n){return v(this,null,function*(){ci(n).na()})}function UL(n){return v(this,null,function*(){let t=ci(n);for(let e of n.Pa)t.X_(e.mutations)})}function $L(n,t,e){return v(this,null,function*(){let r=n.Pa.shift(),i=bm.from(r,t,e);yield NT(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Gd(n)})}function BL(n,t){return v(this,null,function*(){t&&ci(n).Z_&&(yield function(r,i){return v(this,null,function*(){if(function(o){return nL(o)&&o!==k.ABORTED}(i.code)){let s=r.Pa.shift();ci(r).N_(),yield NT(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Gd(r)}})}(n,t)),MT(n)&&FT(n)})}function vC(n,t){return v(this,null,function*(){let e=re(n);e.asyncQueue.verifyOperationInProgress(),B(ts,"RemoteStore received new credentials");let r=rs(e);e.Ia.add(3),yield Ac(e),r&&e.Aa.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.Ia.delete(3),yield qd(e)})}function jL(n,t){return v(this,null,function*(){let e=re(n);t?(e.Ia.delete(2),yield qd(e)):t||(e.Ia.add(2),yield Ac(e),e.Aa.set("Unknown"))})}function Oo(n){return n.Va||(n.Va=function(e,r,i){let s=re(e);return s.ia(),new sy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Zo:xL.bind(null,n),e_:kL.bind(null,n),n_:NL.bind(null,n),J_:ML.bind(null,n)}),n.da.push(t=>v(null,null,function*(){t?(n.Va.N_(),Hy(n)?zy(n):n.Aa.set("Unknown")):(yield n.Va.stop(),kT(n))}))),n.Va}function ci(n){return n.ma||(n.ma=function(e,r,i){let s=re(e);return s.ia(),new oy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:VL.bind(null,n),n_:BL.bind(null,n),ea:UL.bind(null,n),ta:$L.bind(null,n)}),n.da.push(t=>v(null,null,function*(){t?(n.ma.N_(),yield Gd(n)):(yield n.ma.stop(),n.Pa.length>0&&(B(ts,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var dy=class n{constructor(t,e,r,i,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,i,s){let o=Date.now()+r,c=new n(t,e,o,i,s);return c.start(r),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(k.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function qy(n,t){if(vr("AsyncQueue",`${t}: ${n}`),Po(n))return new H(k.UNAVAILABLE,`${t}: ${n}`);throw n}var Sd=class n{static emptySet(t){return new n(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||J.comparator(e.key,r.key):(e,r)=>J.comparator(e.key,r.key),this.keyedMap=lc(),this.sortedSet=new We(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){let e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){let e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){let e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof n)||this.size!==t.size)return!1;let e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){let i=e.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){let r=new n;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}};var Ad=class{constructor(){this.fa=new We(J.comparator)}track(t){let e=t.doc.key,r=this.fa.get(e);r?t.type!==0&&r.type===3?this.fa=this.fa.insert(e,t):t.type===3&&r.type!==1?this.fa=this.fa.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.fa=this.fa.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.fa=this.fa.remove(e):t.type===1&&r.type===2?this.fa=this.fa.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):ee(63341,{At:t,ga:r}):this.fa=this.fa.insert(e,t)}pa(){let t=[];return this.fa.inorderTraversal((e,r)=>{t.push(r)}),t}},So=class n{constructor(t,e,r,i,s,o,c,u,l){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(t,e,r,i,s){let o=[];return e.forEach(c=>{o.push({type:0,doc:c})}),new n(t,e,Sd.emptySet(e),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&jd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;let e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==r[i].type||!e[i].doc.isEqual(r[i].doc))return!1;return!0}};var hy=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}},fy=class{constructor(){this.queries=bC(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(e,r){let i=re(e),s=i.queries;i.queries=bC(),s.forEach((o,c)=>{for(let u of c.wa)u.onError(r)})})(this,new H(k.ABORTED,"Firestore shutting down"))}};function bC(){return new Er(n=>cT(n),jd)}function LT(n,t){return v(this,null,function*(){let e=re(n),r=3,i=t.query,s=e.queries.get(i);s?!s.Sa()&&t.ba()&&(r=2):(s=new hy,r=t.ba()?0:1);try{switch(r){case 0:s.ya=yield e.onListen(i,!0);break;case 1:s.ya=yield e.onListen(i,!1);break;case 2:yield e.onFirstRemoteStoreListen(i)}}catch(o){let c=qy(o,`Initialization of query '${ao(t.query)}' failed`);return void t.onError(c)}e.queries.set(i,s),s.wa.push(t),t.va(e.onlineState),s.ya&&t.Ca(s.ya)&&Gy(e)})}function VT(n,t){return v(this,null,function*(){let e=re(n),r=t.query,i=3,s=e.queries.get(r);if(s){let o=s.wa.indexOf(t);o>=0&&(s.wa.splice(o,1),s.wa.length===0?i=t.ba()?0:1:!s.Sa()&&t.ba()&&(i=2))}switch(i){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}})}function zL(n,t){let e=re(n),r=!1;for(let i of t){let s=i.query,o=e.queries.get(s);if(o){for(let c of o.wa)c.Ca(i)&&(r=!0);o.ya=i}}r&&Gy(e)}function HL(n,t,e){let r=re(n),i=r.queries.get(t);if(i)for(let s of i.wa)s.onError(e);r.queries.delete(t)}function Gy(n){n.Da.forEach(t=>{t.next()})}var py,wC;(wC=py||(py={})).Fa="default",wC.Cache="cache";var Dd=class{constructor(t,e,r){this.query=t,this.Ma=e,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(t){if(!this.options.includeMetadataChanges){let r=[];for(let i of t.docChanges)i.type!==3&&r.push(i);t=new So(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),e=!0):this.Ba(t,this.onlineState)&&(this.La(t),e=!0),this.Oa=t,e}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let e=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),e=!0),e}Ba(t,e){if(!t.fromCache||!this.ba())return!0;let r=e!=="Offline";return(!this.options.ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Na(t){if(t.docChanges.length>0)return!0;let e=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}La(t){t=So.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==py.Cache}};var Rd=class{constructor(t){this.key=t}},Pd=class{constructor(t){this.key=t}},gy=class{constructor(t,e){this.query=t,this.Ha=e,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ve(),this.mutatedKeys=ve(),this.Xa=uT(t),this.eu=new Sd(this.Xa)}get tu(){return this.Ha}nu(t,e){let r=e?e.ru:new Ad,i=e?e.eu:this.eu,s=e?e.mutatedKeys:this.mutatedKeys,o=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((f,p)=>{let m=i.get(f),y=zd(this.query,p)?p:null,A=!!m&&this.mutatedKeys.has(m.key),P=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),D=!1;m&&y?m.data.isEqual(y.data)?A!==P&&(r.track({type:3,doc:y}),D=!0):this.iu(m,y)||(r.track({type:2,doc:y}),D=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(c=!0)):!m&&y?(r.track({type:0,doc:y}),D=!0):m&&!y&&(r.track({type:1,doc:m}),D=!0,(u||l)&&(c=!0)),D&&(y?(o=o.add(y),s=P?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{eu:o,ru:r,Ds:c,mutatedKeys:s}}iu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,i){let s=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;let o=t.ru.pa();o.sort((f,p)=>function(y,A){let P=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{At:D})}};return P(y)-P(A)}(f.type,p.type)||this.Xa(f.doc,p.doc)),this.su(r),i=i!=null&&i;let c=e&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,o.length!==0||l?{snapshot:new So(this.query,t.eu,s,o,t.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Ad,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}ou(){if(!this.current)return[];let t=this.Za;this.Za=ve(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let e=[];return t.forEach(r=>{this.Za.has(r)||e.push(new Pd(r))}),this.Za.forEach(r=>{t.has(r)||e.push(new Rd(r))}),e}uu(t){this.Ha=t.qs,this.Za=ve();let e=this.nu(t.documents);return this.applyChanges(e,!0)}cu(){return So.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},Wy="SyncEngine",my=class{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}},yy=class{constructor(t){this.key=t,this.lu=!1}},_y=class{constructor(t,e,r,i,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Er(c=>cT(c),jd),this.Tu=new Map,this.Iu=new Set,this.du=new We(J.comparator),this.Eu=new Map,this.Au=new Cc,this.Ru={},this.Vu=new Map,this.mu=Ic.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function qL(n,t,e=!0){return v(this,null,function*(){let r=HT(n),i,s=r.Pu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=yield UT(r,t,e,!0),i})}function GL(n,t){return v(this,null,function*(){let e=HT(n);yield UT(e,t,!0,!1)})}function UT(n,t,e,r){return v(this,null,function*(){let i=yield RL(n.localStore,Wn(t)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,e),c;return r&&(c=yield WL(n,t,s,o==="current",i.resumeToken)),n.isPrimaryClient&&e&&OT(n.remoteStore,i),c})}function WL(n,t,e,r,i){return v(this,null,function*(){n.gu=(p,m,y)=>function(P,D,V,U){return v(this,null,function*(){let $=D.view.nu(V);$.Ds&&($=yield mC(P.localStore,D.query,!1).then(({documents:I})=>D.view.nu(I,$)));let ne=U&&U.targetChanges.get(D.targetId),$e=U&&U.targetMismatches.get(D.targetId)!=null,se=D.view.applyChanges($,P.isPrimaryClient,ne,$e);return IC(P,D.targetId,se._u),se.snapshot})}(n,p,m,y);let s=yield mC(n.localStore,t,!0),o=new gy(t,s.qs),c=o.nu(s.documents),u=wc.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",i),l=o.applyChanges(c,n.isPrimaryClient,u);IC(n,e,l._u);let f=new my(t,e,o);return n.Pu.set(t,f),n.Tu.has(e)?n.Tu.get(e).push(t):n.Tu.set(e,[t]),l.snapshot})}function KL(n,t,e){return v(this,null,function*(){let r=re(n),i=r.Pu.get(t),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(o=>!jd(o,t))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Jm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),e&&By(r.remoteStore,i.targetId),vy(r,i.targetId)}).catch(Ro))):(vy(r,i.targetId),yield Jm(r.localStore,i.targetId,!0))})}function QL(n,t){return v(this,null,function*(){let e=re(n),r=e.Pu.get(t),i=e.Tu.get(r.targetId);e.isPrimaryClient&&i.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),By(e.remoteStore,r.targetId))})}function YL(n,t,e){return v(this,null,function*(){let r=r2(n);try{let i=yield function(o,c){let u=re(o),l=tt.now(),f=c.reduce((y,A)=>y.add(A.key),ve()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let A=Ir(),P=ve();return u.Os.getEntries(y,f).next(D=>{A=D,A.forEach((V,U)=>{U.isValidDocument()||(P=P.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,A)).next(D=>{p=D;let V=[];for(let U of c){let $=tL(U,p.get(U.key).overlayedDocument);$!=null&&V.push(new Cr(U.key,$,nT($.value.mapValue),ti.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,V,c)}).next(D=>{m=D;let V=D.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(y,D.batchId,V)})}).then(()=>({batchId:m.batchId,changes:dT(p)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let l=o.Ru[o.currentUser.toKey()];l||(l=new We(he)),l=l.insert(c,u),o.Ru[o.currentUser.toKey()]=l}(r,i.batchId,e),yield Dc(r,i.changes),yield Gd(r.remoteStore)}catch(i){let s=qy(i,"Failed to persist write");e.reject(s)}})}function $T(n,t){return v(this,null,function*(){let e=re(n);try{let r=yield SL(e.localStore,t);t.targetChanges.forEach((i,s)=>{let o=e.Eu.get(s);o&&(Pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?Pe(o.lu,14607):i.removedDocuments.size>0&&(Pe(o.lu,42227),o.lu=!1))}),yield Dc(e,r,t)}catch(r){yield Ro(r)}})}function EC(n,t,e){let r=re(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){let i=[];r.Pu.forEach((s,o)=>{let c=o.view.va(t);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=re(o);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let m of p.wa)m.va(c)&&(l=!0)}),l&&Gy(u)}(r.eventManager,t),i.length&&r.hu.J_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function XL(n,t,e){return v(this,null,function*(){let r=re(n);r.sharedClientState.updateQueryState(t,"rejected",e);let i=r.Eu.get(t),s=i&&i.key;if(s){let o=new We(J.comparator);o=o.insert(s,Sn.newNoDocument(s,ie.min()));let c=ve().add(s),u=new fd(ie.min(),new Map,new We(he),o,c);yield $T(r,u),r.du=r.du.remove(s),r.Eu.delete(t),Ky(r)}else yield Jm(r.localStore,t,!1).then(()=>vy(r,t,e)).catch(Ro)})}function JL(n,t){return v(this,null,function*(){let e=re(n),r=t.batch.batchId;try{let i=yield TL(e.localStore,t);jT(e,r,null),BT(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),yield Dc(e,i)}catch(i){yield Ro(i)}})}function ZL(n,t,e){return v(this,null,function*(){let r=re(n);try{let i=yield function(o,c){let u=re(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(Pe(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,t);jT(r,t,e),BT(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),yield Dc(r,i)}catch(i){yield Ro(i)}})}function BT(n,t){(n.Vu.get(t)||[]).forEach(e=>{e.resolve()}),n.Vu.delete(t)}function jT(n,t,e){let r=re(n),i=r.Ru[r.currentUser.toKey()];if(i){let s=i.get(t);s&&(e?s.reject(e):s.resolve(),i=i.remove(t)),r.Ru[r.currentUser.toKey()]=i}}function vy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(let r of n.Tu.get(t))n.Pu.delete(r),e&&n.hu.pu(r,e);n.Tu.delete(t),n.isPrimaryClient&&n.Au.zr(t).forEach(r=>{n.Au.containsKey(r)||zT(n,r)})}function zT(n,t){n.Iu.delete(t.path.canonicalString());let e=n.du.get(t);e!==null&&(By(n.remoteStore,e),n.du=n.du.remove(t),n.Eu.delete(e),Ky(n))}function IC(n,t,e){for(let r of e)r instanceof Rd?(n.Au.addReference(r.key,t),e2(n,r)):r instanceof Pd?(B(Wy,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,t),n.Au.containsKey(r.key)||zT(n,r.key)):ee(19791,{yu:r})}function e2(n,t){let e=t.key,r=e.path.canonicalString();n.du.get(e)||n.Iu.has(r)||(B(Wy,"New document in limbo: "+e),n.Iu.add(r),Ky(n))}function Ky(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let t=n.Iu.values().next().value;n.Iu.delete(t);let e=new J(He.fromString(t)),r=n.mu.next();n.Eu.set(r,new yy(e)),n.du=n.du.insert(e,r),OT(n.remoteStore,new Ec(Wn(Bd(e.path)),r,"TargetPurposeLimboResolution",Py.ue))}}function Dc(n,t,e){return v(this,null,function*(){let r=re(n),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((c,u)=>{o.push(r.gu(u,t,e).then(l=>{var f;if((l||e)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=e?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Km.Es(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.hu.J_(i),yield function(u,l){return v(this,null,function*(){let f=re(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>M.forEach(l,m=>M.forEach(m.Is,y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>M.forEach(m.ds,y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Po(p))throw p;B($y,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=f.Fs.get(m),A=y.snapshotVersion,P=y.withLastLimboFreeSnapshotVersion(A);f.Fs=f.Fs.insert(m,P)}}})}(r.localStore,s))})}function t2(n,t){return v(this,null,function*(){let e=re(n);if(!e.currentUser.isEqual(t)){B(Wy,"User change. New user:",t.toKey());let r=yield RT(e.localStore,t);e.currentUser=t,function(s,o){s.Vu.forEach(c=>{c.forEach(u=>{u.reject(new H(k.CANCELLED,o))})}),s.Vu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),yield Dc(e,r.Bs)}})}function n2(n,t){let e=re(n),r=e.Eu.get(t);if(r&&r.lu)return ve().add(r.key);{let i=ve(),s=e.Tu.get(t);if(!s)return i;for(let o of s){let c=e.Pu.get(o);i=i.unionWith(c.view.tu)}return i}}function HT(n){let t=re(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=$T.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=n2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=XL.bind(null,t),t.hu.J_=zL.bind(null,t.eventManager),t.hu.pu=HL.bind(null,t.eventManager),t}function r2(n){let t=re(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=JL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ZL.bind(null,t),t}var qT=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(e){return v(this,null,function*(){this.serializer=Hd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),yield this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)})}Cu(e,r){return null}Fu(e,r){return null}vu(e){return CL(this.persistence,new Ym,e.initialUser,this.serializer)}Du(e){return new vd(Wm.Vi,this.serializer)}bu(e){return new Zm}terminate(){return v(this,null,function*(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),by=class extends qT{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,e){Pe(this.persistence.referenceDelegate instanceof bd,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Nm(r,t.asyncQueue,e)}Du(t){let e=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new vd(r=>bd.Vi(r,e),this.serializer)}};var i2=(()=>{class n{initialize(e,r){return v(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>EC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=t2.bind(null,this.syncEngine),yield jL(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new fy}()}createDatastore(e){let r=Hd(e.databaseInfo.databaseId),i=function(o){return new iy(o)}(e.databaseInfo);return function(o,c,u,l){return new cy(o,c,u,l)}(e.authCredentials,e.appCheckCredentials,i,r)}createRemoteStore(e){return function(i,s,o,c,u){return new ly(i,s,o,c,u)}(this.localStore,this.datastore,e.asyncQueue,r=>EC(this.syncEngine,r,0),function(){return Ed.C()?new Ed:new ey}())}createSyncEngine(e,r){return function(s,o,c,u,l,f,p){let m=new _y(s,o,c,u,l,f);return p&&(m.fu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var e,r;yield function(s){return v(this,null,function*(){let o=re(s);B(ts,"RemoteStore shutting down."),o.Ia.add(5),yield Ac(o),o.Ea.shutdown(),o.Aa.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Od=class{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):vr("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,e){setTimeout(()=>{this.muted||t(e)},0)}};var ui="FirestoreClient",wy=class{constructor(t,e,r,i,s){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=i,this.user=ht.UNAUTHENTICATED,this.clientId=gc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>v(this,null,function*(){B(ui,"Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(B(ui,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();let t=new qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){let r=qy(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}};function Wg(n,t){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),B(ui,"Initializing OfflineComponentProvider");let e=n.configuration;yield t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(i=>v(null,null,function*(){r.isEqual(i)||(yield RT(t.localStore,i),r=i)})),t.persistence.setDatabaseDeletedListener(()=>{oi("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{B("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{oi("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=t})}function CC(n,t){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let e=yield s2(n);B(ui,"Initializing OnlineComponentProvider"),yield t.initialize(e,n.configuration),n.setCredentialChangeListener(r=>vC(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>vC(t.remoteStore,i)),n._onlineComponents=t})}function s2(n){return v(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){B(ui,"Using user provided OfflineComponentProvider");try{yield Wg(n,n._uninitializedComponentsProvider._offline)}catch(t){let e=t;if(!function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(e))throw e;oi("Error using user provided cache. Falling back to memory cache: "+e),yield Wg(n,new qT)}}else B(ui,"Using default OfflineComponentProvider"),yield Wg(n,new by(void 0));return n._offlineComponents})}function GT(n){return v(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(B(ui,"Using user provided OnlineComponentProvider"),yield CC(n,n._uninitializedComponentsProvider._online)):(B(ui,"Using default OnlineComponentProvider"),yield CC(n,new i2))),n._onlineComponents})}function o2(n){return GT(n).then(t=>t.syncEngine)}function Ey(n){return v(this,null,function*(){let t=yield GT(n),e=t.eventManager;return e.onListen=qL.bind(null,t.syncEngine),e.onUnlisten=KL.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=GL.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=QL.bind(null,t.syncEngine),e})}function a2(n,t,e={}){let r=new qn;return n.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return function(s,o,c,u,l){let f=new Od({next:m=>{f.Ou(),o.enqueueAndForget(()=>VT(s,p));let y=m.docs.has(c);!y&&m.fromCache?l.reject(new H(k.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new H(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Dd(Bd(c.path),f,{includeMetadataChanges:!0,ka:!0});return LT(s,p)}(yield Ey(n),n.asyncQueue,t,e,r)})),r.promise}function WT(n){let t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}var TC=new Map;var KT="firestore.googleapis.com",SC=!0,xd=class{constructor(t){var e,r;if(t.host===void 0){if(t.ssl!==void 0)throw new H(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KT,this.ssl=SC}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:SC;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=DT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<wL)throw new H(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}_F("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WT((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},Ao=class{constructor(t,e,r,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new H(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xd(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Kg;switch(r.type){case"firstParty":return new Jg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let r=TC.get(e);r&&(B("ComponentProvider","Removing Datastore"),TC.delete(e),r.terminate())}(this),Promise.resolve()}};function QT(n,t,e,r={}){var i;n=_r(n,Ao);let s=qr(t),o=n._getSettings(),c=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),u=`${t}:${e}`;s&&(Il(`https://${u}`),Cl("Firestore",!0)),o.host!==KT&&o.host!==u&&oi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},o),{host:u,ssl:s,emulatorOptions:r});if(!Un(l,c)&&(n._setSettings(l),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=ht.MOCK_USER;else{f=eE(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new H(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ht(m)}n._authCredentials=new Qg(new sd(f,p))}}var kd=class n{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new n(this.firestore,t,this._query)}},bt=class n{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new n(this.firestore,t,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(Sc(e,n._jsonSchema))return new n(t,r||null,new J(He.fromString(e.referencePath)))}};bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:et("string",bt._jsonSchemaVersion),referencePath:et("string")};var ni=class n extends kd{constructor(t,e,r){super(t,e,Bd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new bt(this.firestore,null,new J(t))}withConverter(t){return new n(this.firestore,t,this._path)}};function YT(n,t,...e){if(n=at(n),xC("collection","path",t),n instanceof Ao){let r=He.fromString(t,...e);return qI(r),new ni(n,null,r)}{if(!(n instanceof bt||n instanceof ni))throw new H(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(He.fromString(t,...e));return qI(r),new ni(n.firestore,null,r)}}function XT(n,t,...e){if(n=at(n),arguments.length===1&&(t=gc.newId()),xC("doc","path",t),n instanceof Ao){let r=He.fromString(t,...e);return HI(r),new bt(n,null,new J(r))}{if(!(n instanceof bt||n instanceof ni))throw new H(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(He.fromString(t,...e));return HI(r),new bt(n.firestore,n instanceof ni?n.converter:null,new J(r))}}var AC="AsyncQueue",Nd=class{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Id(this,"async_queue_retry"),this.oc=()=>{let r=Gg();r&&B(AC,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=t;let e=Gg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;let e=Gg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});let e=new qn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}cc(){return v(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Po(t))throw t;B(AC,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(t){let e=this._c.then(()=>(this.nc=!0,t().catch(r=>{throw this.tc=r,this.nc=!1,vr("INTERNAL UNHANDLED ERROR: ",DC(r)),r}).then(r=>(this.nc=!1,r))));return this._c=e,e}enqueueAfterDelay(t,e,r){this.ac(),this.sc.indexOf(t)>-1&&(e=0);let i=dy.createAndSchedule(this,t,e,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&ee(47125,{hc:DC(this.tc)})}verifyOperationInProgress(){}Pc(){return v(this,null,function*(){let t;do t=this._c,yield t;while(t!==this._c)})}Tc(t){for(let e of this.ec)if(e.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(let e of this.ec)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){let e=this.ec.indexOf(t);this.ec.splice(e,1)}};function DC(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function RC(n){return function(e,r){if(typeof e!="object"||e===null)return!1;let i=e;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}var li=class extends Ao{constructor(t,e,r,i){super(t,e,r,i),this.type="firestore",this._queue=new Nd,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let t=this._firestoreClient.terminate();this._queue=new Nd(t),this._firestoreClient=void 0,yield t}})}};function JT(n,t){let e=typeof n=="object"?n:Ui(),r=typeof n=="string"?n:t||ld,i=eo(e,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Zw("firestore");s&&QT(i,...s)}return i}function Qy(n){if(n._terminated)throw new H(k.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||c2(n),n._firestoreClient}function c2(n){var t,e,r;let i=n._freezeSettings(),s=function(c,u,l,f){return new rm(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,WT(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((e=i.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new wy(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(n._componentsProvider))}var ri=class n{constructor(t){this._byteString=t}static fromBase64String(t){try{return new n(Dt.fromBase64String(t))}catch(e){throw new H(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new n(Dt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Sc(t,n._jsonSchema))return n.fromBase64String(t.bytes)}};ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:et("string",ri._jsonSchemaVersion),bytes:et("string")};var Tc=class{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new H(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};var Md=class{constructor(t){this._methodName=t}};var ii=class n{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new H(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new H(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return he(this._lat,t._lat)||he(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(t){if(Sc(t,n._jsonSchema))return new n(t.latitude,t.longitude)}};ii._jsonSchemaVersion="firestore/geoPoint/1.0",ii._jsonSchema={type:et("string",ii._jsonSchemaVersion),latitude:et("number"),longitude:et("number")};var si=class n{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Sc(t,n._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new n(t.vectorValues);throw new H(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};si._jsonSchemaVersion="firestore/vectorValue/1.0",si._jsonSchema={type:et("string",si._jsonSchemaVersion),vectorValues:et("object")};var u2=/^__.*__$/,Iy=class{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Cr(t,this.data,this.fieldMask,e,this.fieldTransforms):new es(t,this.data,e,this.fieldTransforms)}};function ZT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{Ec:n})}}var Cy=class n{constructor(t,e,r,i,s,o){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new n(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var e;let r=(e=this.path)===null||e===void 0?void 0:e.child(t),i=this.Rc({path:r,mc:!1});return i.fc(t),i}gc(t){var e;let r=(e=this.path)===null||e===void 0?void 0:e.child(t),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return Fd(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(ZT(this.Ec)&&u2.test(t))throw this.wc('Document fields cannot begin and end with "__"')}},Ty=class{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Hd(t)}Dc(t,e,r,i=!1){return new Cy({Ec:t,methodName:e,bc:r,path:rn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function l2(n){let t=n._freezeSettings(),e=Hd(n._databaseId);return new Ty(n._databaseId,!!t.ignoreUndefinedProperties,e)}function d2(n,t,e,r,i,s={}){let o=n.Dc(s.merge||s.mergeFields?2:0,t,e,i);rS("Data must be an object, but it was:",o,r);let c=tS(r,o),u,l;if(s.merge)u=new Hn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let p of s.mergeFields){let m=h2(t,p,e);if(!o.contains(m))throw new H(k.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);p2(f,m)||f.push(m)}u=new Hn(f),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new Iy(new Tn(c),u,l)}function eS(n,t){if(nS(n=at(n)))return rS("Unsupported field value:",t,n),tS(n,t);if(n instanceof Md)return function(r,i){if(!ZT(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let u=eS(c,i.yc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,t)}return function(r,i){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return YF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=tt.fromDate(r);return{timestampValue:yd(i.serializer,s)}}if(r instanceof tt){let s=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yd(i.serializer,s)}}if(r instanceof ii)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ri)return{bytesValue:wT(i.serializer,r._byteString)};if(r instanceof bt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Uy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof si)return function(o,c){return{mapValue:{fields:{[ky]:{stringValue:Ny},[mo]:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw c.wc("VectorValues must only contain numeric values.");return Vy(c.serializer,l)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Ry(r)}`)}(n,t)}function tS(n,t){let e={};return KC(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ns(n,(r,i)=>{let s=eS(i,t.Vc(r));s!=null&&(e[r]=s)}),{mapValue:{fields:e}}}function nS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof tt||n instanceof ii||n instanceof ri||n instanceof bt||n instanceof Md||n instanceof si)}function rS(n,t,e){if(!nS(e)||!kC(e)){let r=Ry(e);throw r==="an object"?t.wc(n+" a custom object"):t.wc(n+" "+r)}}function h2(n,t,e){if((t=at(t))instanceof Tc)return t._internalPath;if(typeof t=="string")return iS(n,t);throw Fd("Field path arguments must be of type string or ",n,!1,void 0,e)}var f2=new RegExp("[~\\*/\\[\\]]");function iS(n,t,e){if(t.search(f2)>=0)throw Fd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Tc(...t.split("."))._internalPath}catch{throw Fd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Fd(n,t,e,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new H(k.INVALID_ARGUMENT,c+n+u)}function p2(n,t){return n.some(e=>e.isEqual(t))}var Ld=class{constructor(t,e,r,i,s){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new Sy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let e=this._document.data.field(sS("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}},Sy=class extends Ld{data(){return super.data()}};function sS(n,t){return typeof t=="string"?iS(n,t):t instanceof Tc?t._internalPath:t._delegate._internalPath}function g2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new H(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ay=class{convertValue(t,e="none"){switch(ai(t)){case 0:return null;case 1:return t.booleanValue;case 2:return je(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(wr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw ee(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){let r={};return ns(t,(i,s)=>{r[i]=this.convertValue(s,e)}),r}convertVectorValue(t){var e,r,i;let s=(i=(r=(e=t.fields)===null||e===void 0?void 0:e[mo].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>je(o.doubleValue));return new si(s)}convertGeoPoint(t){return new ii(je(t.latitude),je(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":let r=$d(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(_c(t));default:return null}}convertTimestamp(t){let e=br(t);return new tt(e.seconds,e.nanos)}convertDocumentKey(t,e){let r=He.fromString(t);Pe(AT(r),9688,{name:t});let i=new dd(r.get(1),r.get(3)),s=new J(r.popFirst(5));return i.isEqual(e)||vr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}};function m2(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}var Ki=class{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},Qi=class n extends Ld{constructor(t,e,r,i,s,o){super(t,e,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let e=new fo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){let r=this._document.data.field(sS("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t=this._document,e={};return e.type=n._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}};Qi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qi._jsonSchema={type:et("string",Qi._jsonSchemaVersion),bundleSource:et("string","DocumentSnapshot"),bundleName:et("string"),bundle:et("string")};var fo=class extends Qi{data(t={}){return super.data(t)}},po=class n{constructor(t,e,r,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Ki(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new fo(this._firestore,this._userDataWriter,r.key,r,new Ki(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new H(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let u=new fo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ki(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let u=new fo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ki(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:y2(c.type),doc:u,oldIndex:l,newIndex:f}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t={};t.type=n._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=gc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let e=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(e.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}};function y2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:n})}}function oS(n){n=_r(n,bt);let t=_r(n.firestore,li);return a2(Qy(t),n._key).then(e=>lS(t,n,e))}po._jsonSchemaVersion="firestore/querySnapshot/1.0",po._jsonSchema={type:et("string",po._jsonSchemaVersion),bundleSource:et("string","QuerySnapshot"),bundleName:et("string"),bundle:et("string")};var Vd=class extends Ay{constructor(t){super(),this.firestore=t}convertBytes(t){return new ri(t)}convertReference(t){let e=this.convertDocumentKey(t,this.firestore._databaseId);return new bt(this.firestore,null,e)}};function aS(n,t,e){n=_r(n,bt);let r=_r(n.firestore,li),i=m2(n.converter,t,e);return uS(r,[d2(l2(r),"setDoc",n._key,i,n.converter!==null,e).toMutation(n._key,ti.none())])}function cS(n){return uS(_r(n.firestore,li),[new bc(n._key,ti.none())])}function Yy(n,...t){var e,r,i;n=at(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof t[o]!="object"||RC(t[o])||(s=t[o++]);let c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(RC(t[o])){let p=t[o];t[o]=(e=p.next)===null||e===void 0?void 0:e.bind(p),t[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),t[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,f;if(n instanceof bt)l=_r(n.firestore,li),f=Bd(n._key.path),u={next:p=>{t[o]&&t[o](lS(l,n,p))},error:t[o+1],complete:t[o+2]};else{let p=_r(n,kd);l=_r(p.firestore,li),f=p._query;let m=new Vd(l);u={next:y=>{t[o]&&t[o](new po(l,m,p,y))},error:t[o+1],complete:t[o+2]},g2(n._query)}return function(m,y,A,P){let D=new Od(P),V=new Dd(y,D,A);return m.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return LT(yield Ey(m),V)})),()=>{D.Ou(),m.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return VT(yield Ey(m),V)}))}}(Qy(l),f,c,u)}function uS(n,t){return function(r,i){let s=new qn;return r.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return YL(yield o2(r),i,s)})),s.promise}(Qy(n),t)}function lS(n,t,e){let r=e.docs.get(t._key),i=new Vd(n);return new Qi(n,i,t._key,r,new Ki(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(i){Do=i})(Wr),In(new Nt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new li(new Yg(r.getProvider("auth-internal")),new Zg(o,r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new H(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dd(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:e},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Ge($I,BI,t),Ge($I,BI,"esm2017")})();var Wd=function(){return Wd=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Wd.apply(this,arguments)};var b2={includeMetadataChanges:!1};function dS(n,t){return t===void 0&&(t=b2),new sn(function(e){var r=Yy(n,t,{next:e.next.bind(e),error:e.error.bind(e),complete:e.complete.bind(e)});return{unsubscribe:r}})}function hS(n,t){var e;t===void 0&&(t={});var r=n.data(t);return!n.exists()||typeof r!="object"||r===null||!t.idField?r:Wd(Wd({},r),(e={},e[t.idField]=n.id,e))}function fS(n){return dS(n,{includeMetadataChanges:!0}).pipe(le(function(t){return t.docs}))}function pS(n,t){return t===void 0&&(t={}),fS(n).pipe(le(function(e){return e.map(function(r){return hS(r,t)})}))}var is=class{constructor(t){return t}},gS="firestore",Xy=class{constructor(){return no(gS)}};var Jy=new Q("angularfire2.firestore-instances");function w2(n,t){let e=Qa(gS,n,t);return e&&new is(e)}function E2(n){return(t,e)=>{let r=t.runOutsideAngular(()=>n(e));return new is(r)}}var I2={provide:Xy,deps:[[new Gt,Jy]]},C2={provide:is,useFactory:w2,deps:[[new Gt,Jy],lr]};function gq(n,...t){return Ge("angularfire",Kr.full,"fst"),Wt([C2,I2,{provide:Jy,useFactory:E2(n),multi:!0,deps:[Be,it,Qr,Bi,[new Gt,cc],[new Gt,ro],...t]}])}var mq=Xe(pS,!0);var yq=Xe(YT,!0,2);var _q=Xe(cS,!0,2);var vq=Xe(XT,!0,2);var bq=Xe(oS,!0);var wq=Xe(JT,!0);var Eq=Xe(aS,!0,2);var mS=class n{constructor(t,e){this.afAuth=t;this.firestore=e;Fg(this.afAuth,r=>v(this,null,function*(){if(r){yield r.reload();let i=yield this.afAuth.currentUser;i?.emailVerified?this.userSubject.next({uid:i.uid,email:i.email}):this.userSubject.next(null)}else this.userSubject.next(null)}))}userSubject=new Ye(null);user$=this.userSubject.asObservable();register(t,e){return NI(this.afAuth,t,e).then(r=>{if(r.user)return Lg(r.user),r;throw new Error("Usuario no creado correctamente")})}resetPassword(t){return MI(this.afAuth,t)}login(t,e){return FI(this.afAuth,t,e).then(r=>v(this,null,function*(){return r.user&&(yield r.user.reload(),r.user.emailVerified?this.userSubject.next({uid:r.user.uid,email:r.user.email}):this.userSubject.next(null)),r}))}logout(){return LI(this.afAuth)}getCurrentUser(){return new Promise(t=>{Fg(this.afAuth,e=>v(this,null,function*(){e?(yield e.reload(),t(this.afAuth.currentUser)):t(null)}))})}updateUserState(t){this.userSubject.next({uid:t.uid,email:t.email})}resendVerificationEmail(){return this.getCurrentUser().then(t=>t?Lg(t):Promise.reject("No hay usuario autenticado."))}static \u0275fac=function(e){return new(e||n)(Z(qi),Z(is))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};export{Oe as a,wi as b,du as c,Ei as d,Ii as e,Ci as f,QS as g,Ue as h,ua as i,ef as j,dA as k,Is as l,nb as m,DA as n,UA as o,$A as p,cb as q,jA as r,tn as s,cl as t,Vn as u,cp as v,lp as w,wn as x,vl as y,TO as z,AO as A,DO as B,Uw as C,RO as D,jb as E,Nr as F,c$ as G,Di as H,u$ as I,If as J,TD as K,SD as L,l$ as M,AD as N,Cf as O,d$ as P,h$ as Q,f$ as R,DD as S,Os as T,Hb as U,p$ as V,qb as W,Gb as X,Af as Y,g$ as Z,m$ as _,Df as $,Mu as aa,y$ as ba,Rf as ca,_$ as da,v$ as ea,b$ as fa,w$ as ga,E$ as ha,I$ as ia,Yb as ja,_t as ka,xD as la,Me as ma,Fu as na,Of as oa,A$ as pa,D$ as qa,cn as ra,R$ as sa,P$ as ta,yn as ua,vt as va,gB as wa,mB as xa,yB as ya,_B as za,vB as Aa,bB as Ba,Ms as Ca,Le as Da,wB as Ea,Re as Fa,Ff as Ga,PB as Ha,xe as Ia,Ai as Ja,vb as Ka,ub as La,sr as Ma,e$ as Na,t$ as Oa,wf as Pa,r$ as Qa,bD as Ra,ED as Sa,i$ as Ta,$b as Ua,s$ as Va,d0 as Wa,h0 as Xa,Lf as Ya,g0 as Za,Fs as _a,v3 as $a,Vf as ab,y0 as bb,Bt as cb,Q3 as db,b0 as eb,I0 as fb,p0 as gb,u3 as hb,D6 as ib,C1 as jb,A0 as kb,D1 as lb,B6 as mb,O1 as nb,t5 as ob,O0 as pb,x0 as qb,N0 as rb,KR as sb,z0 as tb,XR as ub,q0 as vb,F0 as wb,L0 as xb,Vs as yb,Bf as zb,u9 as Ab,B0 as Bb,G0 as Cb,Gw as Db,Xj as Eb,Jj as Fb,Zj as Gb,Kw as Hb,rE as Ib,qa as Jb,aE as Kb,a8 as Lb,nn as Mb,En as Nb,Un as Ob,JO as Pb,at as Qb,Nt as Rb,$n as Sb,mE as Tb,In as Ub,eo as Vb,Ui as Wb,Ge as Xb,Kr as Yb,Qa as Zb,no as _b,Qr as $b,Xe as ac,lr as bc,Bi as cc,i7 as dc,s7 as ec,qi as fc,Dz as gc,Rz as hc,Pz as ic,is as jc,gq as kc,mq as lc,yq as mc,_q as nc,vq as oc,bq as pc,wq as qc,Eq as rc,mS as sc};
