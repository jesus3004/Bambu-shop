import{$ as q,$b as xc,A as mt,Aa as Rt,Ab as Kv,Ac as t_,B as Oo,Ba as Pv,Bb as _t,Bc as he,C as Iv,Ca as eh,Cc as lh,D as Wd,Da as Ov,Dc as Et,E as Tv,Ea as vt,Ec as Jt,F as Gt,Fc as es,G as Jr,Ga as th,Gb as mn,Gc as n_,H as Un,Ha as Nv,Hb as yn,I as Gd,Ia as nh,Ib as bt,J as Ki,Ja as kv,Jb as Oc,Ka as xo,Kb as Nc,L as Yi,La as Zr,Lb as Yv,M as fr,Ma as Xi,Na as xv,O as Kd,Oa as Mv,Ob as $n,P as Sv,Pa as Fv,Pb as Kt,Qa as Lv,Qb as Yt,R as Yd,Ra as Vv,Rb as Qt,S as Qd,Sa as Uv,T as Ct,Ta as $v,Tb as ri,U as Cv,Ua as ei,V as ot,Vb as ii,W as ee,Wb as si,X as No,Xa as Bv,Xb as ah,Y as F,Ya as ct,Yb as Qv,Z as ye,Za as ti,_ as Av,_a as Mo,_b as kc,a as k,aa as Xd,ab as jv,b as ue,ba as W,bb as Bt,ca as O,cb as G,d as hr,da as At,db as zv,e as v,ea as Dt,eb as Ji,f as vv,fa as Dv,fb as rh,fc as Te,g as $d,ga as pn,h as $t,ha as at,hb as Hv,hc as ch,i as Bd,ia as Rv,ib as Pc,j as jd,ja as Xe,jb as Ne,k as je,kb as ve,l as xe,lb as se,m as _v,ma as Qi,mb as qv,n as bv,nb as le,o as Vn,oa as te,p as zd,pa as Jd,pb as ni,q as Hd,qa as Je,qb as ih,r as qd,ra as ko,rb as Zi,s as Oe,sb as Wv,t as z,ta as Dc,tb as Fo,tc as Lo,u as Po,ua as Rc,ub as sh,uc as Xv,v as Ev,va as Ze,vb as oh,vc as Jv,w as wv,wa as Ie,wb as ut,wc as uh,xa as Zd,xb as ke,xc as Xt,y as ie,ya as gn,yb as Gv,yc as Zv,z as Ac,za as yt,zb as Pt,zc as e_}from"./chunk-BEX564FU.js";var ge=new q("");var s_=null;function jt(){return s_}function dh(n){s_??=n}var Vo=class{},Uo=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>O(o_),providedIn:"platform"})}return n})(),hh=new q(""),o_=(()=>{class n extends Uo{_location;_history;_doc=O(ge);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return jt().getBaseHref(this._doc)}onPopState(t){let r=jt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=jt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Mc(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function r_(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Zt(n){return n&&n[0]!=="?"?`?${n}`:n}var en=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>O(Lc),providedIn:"root"})}return n})(),Fc=new q(""),Lc=(()=>{class n extends en{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Mc(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Zt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Zt(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Zt(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(W(Uo),W(Fc,8))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pr=(()=>{class n{_subject=new je;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=KS(r_(i_(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Zt(r))}normalize(t){return n.stripTrailingSlash(GS(this._basePath,i_(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Zt(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Zt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Zt;static joinWithSlash=Mc;static stripTrailingSlash=r_;static \u0275fac=function(r){return new(r||n)(W(en))};static \u0275prov=F({token:n,factory:()=>WS(),providedIn:"root"})}return n})();function WS(){return new pr(W(en))}function GS(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function i_(n){return n.replace(/\/index.html$/,"")}function KS(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var mh=(()=>{class n extends en{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Mc(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Zt(s))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Zt(s))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(W(Uo),W(Fc,8))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var fh=/\s+/,a_=[],yh=(()=>{class n{_ngEl;_renderer;initialClasses=a_;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(fh):a_}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(fh):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(fh).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(G(yt),G(Bt))};static \u0275dir=se({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Vc=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},l_=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Vc(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,o),c_(c,i)}});for(let i=0,s=r.length;i<s;i++){let c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);c_(s,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(G(Ji),G(Mo),G(Zv))};static \u0275dir=se({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function c_(n,e){n.context.$implicit=e.item}var vh=(()=>{class n{_viewContainer;_context=new Uc;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){u_(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){u_(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(G(Ji),G(Mo))};static \u0275dir=se({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Uc=class{$implicit=null;ngIf=null};function u_(n,e){if(n&&!n.createEmbeddedView)throw new ee(2020,!1)}var _h=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,s]=t.split("."),o=i.indexOf("-")===-1?void 0:ti.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(G(yt),G(e_),G(Bt))};static \u0275dir=se({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})(),bh=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(G(Ji))};static \u0275dir=se({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Xe]})}return n})();function YS(n,e){return new ee(2100,!1)}var ph=class{createSubscription(e,t){return Et(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Et(()=>e.unsubscribe())}},gh=class{createSubscription(e,t){return e.then(r=>t?.(r),r=>{throw r}),{unsubscribe:()=>{t=null}}}dispose(e){e.unsubscribe()}},QS=new gh,XS=new ph,JS=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Zi(t))return QS;if(Wv(t))return XS;throw YS(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(G(Xt,16))};static \u0275pipe=qv({name:"async",type:n,pure:!1})}return n})();var Ot=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ve({type:n});static \u0275inj=ye({})}return n})();function $o(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var $c="browser",d_="server";function Bo(n){return n===$c}function ts(n){return n===d_}var oi=class{};var wh=(()=>{class n{static \u0275prov=F({token:n,providedIn:"root",factory:()=>new Eh(O(ge),window)})}return n})(),Eh=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=eC(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function eC(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var zc=new q(""),Ch=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,s){return this._findPluginFor(r).addEventListener(t,r,i,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new ee(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(W(zc),W(Ie))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),jo=class{_doc;constructor(e){this._doc=e}manager},Bc="ng-app-id";function f_(n){for(let e of n)e.remove()}function p_(n,e){let t=e.createElement("style");return t.textContent=n,t}function tC(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Bc}="${e}"],link[${Bc}="${e}"]`);if(i)for(let s of i)s.removeAttribute(Bc),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}function Th(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Ah=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=ts(s),tC(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,p_);r?.forEach(i=>this.addUsage(i,this.external,Th))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let s=r.get(t);s?s.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(f_(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])f_(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,p_(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Th(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Bc,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(W(ge),W(eh),W(th,8),W(vt))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),Ih={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Dh=/%COMP%/g;var m_="%COMP%",nC=`_nghost-${m_}`,rC=`_ngcontent-${m_}`,iC=!0,sC=new q("",{providedIn:"root",factory:()=>iC});function oC(n){return rC.replace(Dh,n)}function aC(n){return nC.replace(Dh,n)}function y_(n,e){return e.map(t=>t.replace(Dh,n))}var Rh=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,s,o,c,u,l=null,f=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=u,this.nonce=l,this.tracingService=f,this.platformIsServer=ts(c),this.defaultRenderer=new zo(t,o,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===xo.ShadowDom&&(r=ue(k({},r),{encapsulation:xo.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof jc?i.applyToHost(t):i instanceof Ho&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case xo.Emulated:s=new jc(u,l,r,this.appId,f,o,c,p,m);break;case xo.ShadowDom:return new Sh(u,l,t,r,o,c,this.nonce,p,m);default:s=new Ho(u,l,r,f,o,c,p,m);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(W(Ch),W(Ah),W(eh),W(sC),W(ge),W(vt),W(Ie),W(th),W(Nv,8))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),zo=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,s){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Ih[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(g_(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(g_(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ee(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=Ih[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Ih[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ti.DashCase|ti.Important)?e.style.setProperty(t,r,i&ti.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ti.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=jt().getGlobalEventTarget(this.doc,e),!e))throw new ee(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function g_(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Sh=class extends zo{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,s,o,c,u,l){super(e,s,o,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=y_(i.id,f);for(let m of f){let _=document.createElement("style");c&&_.setAttribute("nonce",c),_.textContent=m,this.shadowRoot.appendChild(_)}let p=i.getExternalStyles?.();if(p)for(let m of p){let _=Th(m,s);c&&_.setAttribute("nonce",c),this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ho=class extends zo{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,s,o,c,u,l){super(e,s,o,c,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=l?y_(l,f):f,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},jc=class extends Ho{contentAttr;hostAttr;constructor(e,t,r,i,s,o,c,u,l){let f=i+"-"+r.id;super(e,t,r,s,o,c,u,l,f),this.contentAttr=oC(f),this.hostAttr=aC(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Hc=class n extends Vo{supportsDOMEvents=!0;static makeCurrent(){dh(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=uC();return t==null?null:lC(t)}resetBaseElement(){qo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return $o(document.cookie,e)}},qo=null;function uC(){return qo=qo||document.head.querySelector("base"),qo?qo.getAttribute("href"):null}function lC(n){return new URL(n,document.baseURI).pathname}var dC=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),__=(()=>{class n extends jo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,s){return t.addEventListener(r,i,s),()=>this.removeEventListener(t,r,i,s)}removeEventListener(t,r,i,s){return t.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(W(ge))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),v_=["alt","control","meta","shift"],hC={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fC={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},b_=(()=>{class n extends jo{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,s){let o=n.parseEventName(r),c=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>jt().onAndCancel(t,o.domEventName,c,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),v_.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=hC[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),v_.forEach(o=>{if(o!==i){let c=fC[o];c(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(W(ge))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();function pC(n,e){return t_(k({rootComponent:n},gC(e)))}function gC(n){return{appProviders:[...bC,...n?.providers??[]],platformProviders:_C}}function mC(){Hc.makeCurrent()}function yC(){return new Zd}function vC(){return Pv(document),document}var _C=[{provide:vt,useValue:$c},{provide:Ov,useValue:mC,multi:!0},{provide:ge,useFactory:vC}];var bC=[{provide:Dv,useValue:"root"},{provide:Zd,useFactory:yC},{provide:zc,useClass:__,multi:!0,deps:[ge]},{provide:zc,useClass:b_,multi:!0,deps:[ge]},Rh,Ah,Ch,{provide:jv,useExisting:Rh},{provide:oi,useClass:dC},[]];var rs=class{},is=class{},vn=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=t.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(c=>s.indexOf(c)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Gc=class{encodeKey(e){return E_(e)}encodeValue(e){return E_(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function EC(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,c]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=t.get(o)||[];u.push(c),t.set(o,u)}),t}var wC=/%(\d[a-f0-9])/gi,IC={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function E_(n){return encodeURIComponent(n).replace(wC,(e,t)=>IC[t]??e)}function qc(n){return`${n}`}var jn=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Gc,e.fromString){if(e.fromObject)throw new ee(2805,!1);this.map=EC(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(qc):[qc(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(qc(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(qc(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Kc=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function TC(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function w_(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function I_(n){return typeof Blob<"u"&&n instanceof Blob}function T_(n){return typeof FormData<"u"&&n instanceof FormData}function SC(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Wo="Content-Type",Yc="Accept",xh="X-Request-URL",C_="text/plain",A_="application/json",D_=`${A_}, ${C_}, */*`,ns=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let s;if(TC(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new vn,this.context??=new Kc,!this.params)this.params=new jn,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let c=t.indexOf("?"),u=c===-1?"?":c<t.length-1?"&":"";this.urlWithParams=t+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||w_(this.body)||I_(this.body)||T_(this.body)||SC(this.body)?this.body:this.body instanceof jn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||T_(this.body)?null:I_(this.body)?this.body.type||null:w_(this.body)?null:typeof this.body=="string"?C_:this.body instanceof jn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?A_:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,f=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,_)=>m.set(_,e.setHeaders[_]),l)),e.setParams&&(f=Object.keys(e.setParams).reduce((m,_)=>m.set(_,e.setParams[_]),f)),new n(t,r,o,{params:f,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:c,transferCache:s})}},zn=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(zn||{}),ss=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new vn,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Go=class n extends ss{constructor(e={}){super(e)}type=zn.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},os=class n extends ss{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=zn.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Bn=class extends ss{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},R_=200,CC=204;function Ph(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var P_=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof ns)s=t;else{let u;i.headers instanceof vn?u=i.headers:u=new vn(i.headers);let l;i.params&&(i.params instanceof jn?l=i.params:l=new jn({fromObject:i.params})),s=new ns(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=z(s).pipe(Un(u=>this.handler.handle(u)));if(t instanceof ns||i.observe==="events")return o;let c=o.pipe(Gt(u=>u instanceof os));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(ie(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new ee(2806,!1);return u.body}));case"blob":return c.pipe(ie(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new ee(2807,!1);return u.body}));case"text":return c.pipe(ie(u=>{if(u.body!==null&&typeof u.body!="string")throw new ee(2808,!1);return u.body}));case"json":default:return c.pipe(ie(u=>u.body))}case"response":return c;default:throw new ee(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new jn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Ph(i,r))}post(t,r,i={}){return this.request("POST",t,Ph(i,r))}put(t,r,i={}){return this.request("PUT",t,Ph(i,r))}static \u0275fac=function(r){return new(r||n)(W(rs))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),AC=/^\)\]\}',?\n/;function S_(n){if(n.url)return n.url;let e=xh.toLocaleLowerCase();return n.headers.get(e)}var O_=new q(""),Wc=(()=>{class n{fetchImpl=O(Oh,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t));ngZone=O(Ie);destroyRef=O(ko);destroyed=!1;constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0})}handle(t){return new $t(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(Nh,s=>r.error(new Bn({error:s}))),()=>i.abort()})}doRequest(t,r,i){return v(this,null,function*(){let s=this.createRequestInit(t),o;try{let _=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,k({signal:r},s)));DC(_),i.next({type:zn.Sent}),o=yield _}catch(_){i.error(new Bn({error:_,status:_.status??0,statusText:_.statusText,url:t.urlWithParams,headers:_.headers}));return}let c=new vn(o.headers),u=o.statusText,l=S_(o)??t.urlWithParams,f=o.status,p=null;if(t.reportProgress&&i.next(new Go({headers:c,status:f,statusText:u,url:l})),o.body){let _=o.headers.get("content-length"),D=[],P=o.body.getReader(),R=0,$,L,V=typeof Zone<"u"&&Zone.current,Y=!1;if(yield this.ngZone.runOutsideAngular(()=>v(this,null,function*(){for(;;){if(this.destroyed){yield P.cancel(),Y=!0;break}let{done:J,value:I}=yield P.read();if(J)break;if(D.push(I),R+=I.length,t.reportProgress){L=t.responseType==="text"?(L??"")+($??=new TextDecoder).decode(I,{stream:!0}):void 0;let y=()=>i.next({type:zn.DownloadProgress,total:_?+_:void 0,loaded:R,partialText:L});V?V.run(y):y()}}})),Y){i.complete();return}let we=this.concatChunks(D,R);try{let J=o.headers.get(Wo)??"";p=this.parseBody(t,we,J)}catch(J){i.error(new Bn({error:J,headers:new vn(o.headers),status:o.status,statusText:o.statusText,url:S_(o)??t.urlWithParams}));return}}f===0&&(f=p?R_:0),f>=200&&f<300?(i.next(new os({body:p,headers:c,status:f,statusText:u,url:l})),i.complete()):i.error(new Bn({error:p,headers:c,status:f,statusText:u,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let s=new TextDecoder().decode(r).replace(AC,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((s,o)=>r[s]=o.join(",")),t.headers.has(Yc)||(r[Yc]=D_),!t.headers.has(Wo)){let s=t.detectContentTypeHeader();s!==null&&(r[Wo]=s)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),s=0;for(let o of t)i.set(o,s),s+=o.length;return i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),Oh=class{};function Nh(){}function DC(n){n.then(Nh,Nh)}function RC(n,e){return e(n)}function PC(n,e,t){return(r,i)=>at(t,()=>e(r,s=>n(s,i)))}var OC=new q(""),N_=new q(""),k_=new q(""),x_=new q("",{providedIn:"root",factory:()=>!0});var Qc=(()=>{class n extends rs{backend;injector;chain=null;pendingTasks=O(Dc);contributeToStability=O(x_);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(N_),...this.injector.get(k_,[])]));this.chain=r.reduceRight((i,s)=>PC(i,s,this.injector),RC)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Yi(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(W(is),W(pn))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var NC=/^\)\]\}',?\n/,kC=RegExp(`^${xh}:`,"m");function xC(n){return"responseURL"in n&&n.responseURL?n.responseURL:kC.test(n.getAllResponseHeaders())?n.getResponseHeader(xh):null}var kh=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new ee(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Oe(r.\u0275loadImpl()):z(null)).pipe(Ct(()=>new $t(s=>{let o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((P,R)=>o.setRequestHeader(P,R.join(","))),t.headers.has(Yc)||o.setRequestHeader(Yc,D_),!t.headers.has(Wo)){let P=t.detectContentTypeHeader();P!==null&&o.setRequestHeader(Wo,P)}if(t.responseType){let P=t.responseType.toLowerCase();o.responseType=P!=="json"?P:"text"}let c=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let P=o.statusText||"OK",R=new vn(o.getAllResponseHeaders()),$=xC(o)||t.url;return u=new Go({headers:R,status:o.status,statusText:P,url:$}),u},f=()=>{let{headers:P,status:R,statusText:$,url:L}=l(),V=null;R!==CC&&(V=typeof o.response>"u"?o.responseText:o.response),R===0&&(R=V?R_:0);let Y=R>=200&&R<300;if(t.responseType==="json"&&typeof V=="string"){let we=V;V=V.replace(NC,"");try{V=V!==""?JSON.parse(V):null}catch(J){V=we,Y&&(Y=!1,V={error:J,text:V})}}Y?(s.next(new os({body:V,headers:P,status:R,statusText:$,url:L||void 0})),s.complete()):s.error(new Bn({error:V,headers:P,status:R,statusText:$,url:L||void 0}))},p=P=>{let{url:R}=l(),$=new Bn({error:P,status:o.status||0,statusText:o.statusText||"Unknown Error",url:R||void 0});s.error($)},m=!1,_=P=>{m||(s.next(l()),m=!0);let R={type:zn.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(R.total=P.total),t.responseType==="text"&&o.responseText&&(R.partialText=o.responseText),s.next(R)},D=P=>{let R={type:zn.UploadProgress,loaded:P.loaded};P.lengthComputable&&(R.total=P.total),s.next(R)};return o.addEventListener("load",f),o.addEventListener("error",p),o.addEventListener("timeout",p),o.addEventListener("abort",p),t.reportProgress&&(o.addEventListener("progress",_),c!==null&&o.upload&&o.upload.addEventListener("progress",D)),o.send(c),s.next({type:zn.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",f),o.removeEventListener("timeout",p),t.reportProgress&&(o.removeEventListener("progress",_),c!==null&&o.upload&&o.upload.removeEventListener("progress",D)),o.readyState!==o.DONE&&o.abort()}})))}static \u0275fac=function(r){return new(r||n)(W(oi))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),M_=new q(""),MC="XSRF-TOKEN",FC=new q("",{providedIn:"root",factory:()=>MC}),LC="X-XSRF-TOKEN",VC=new q("",{providedIn:"root",factory:()=>LC}),Ko=class{},UC=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=$o(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(W(ge),W(FC))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();function $C(n,e){let t=n.url.toLowerCase();if(!O(M_)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=O(Ko).getToken(),i=O(VC);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Mh=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Mh||{});function BC(n,e){return{\u0275kind:n,\u0275providers:e}}function jC(...n){let e=[P_,kh,Qc,{provide:rs,useExisting:Qc},{provide:is,useFactory:()=>O(O_,{optional:!0})??O(kh)},{provide:N_,useValue:$C,multi:!0},{provide:M_,useValue:!0},{provide:Ko,useClass:UC}];for(let t of n)e.push(...t.\u0275providers);return Dt(e)}function zC(){return BC(Mh.Fetch,[Wc,{provide:O_,useExisting:Wc},{provide:is,useExisting:Wc}])}var F_=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(W(ge))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qC=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=W(WC),i},providedIn:"root"})}return n})(),WC=(()=>{class n extends qC{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case ei.NONE:return r;case ei.HTML:return Xi(r,"HTML")?Zr(r):$v(this._doc,String(r)).toString();case ei.STYLE:return Xi(r,"Style")?Zr(r):r;case ei.SCRIPT:if(Xi(r,"Script"))return Zr(r);throw new ee(5200,!1);case ei.URL:return Xi(r,"URL")?Zr(r):Uv(String(r));case ei.RESOURCE_URL:if(Xi(r,"ResourceURL"))return Zr(r);throw new ee(5201,!1);default:throw new ee(5202,!1)}}bypassSecurityTrustHtml(t){return xv(t)}bypassSecurityTrustStyle(t){return Mv(t)}bypassSecurityTrustScript(t){return Fv(t)}bypassSecurityTrustUrl(t){return Lv(t)}bypassSecurityTrustResourceUrl(t){return Vv(t)}static \u0275fac=function(r){return new(r||n)(W(ge))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var W_=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(G(Bt),G(yt))};static \u0275dir=se({type:n})}return n})(),KC=(()=>{class n extends W_{static \u0275fac=(()=>{let t;return function(i){return(t||(t=te(n)))(i||n)}})();static \u0275dir=se({type:n,features:[le]})}return n})(),jh=new q("");var YC={provide:jh,useExisting:No(()=>G_),multi:!0};function QC(){let n=jt()?jt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var XC=new q(""),G_=(()=>{class n extends W_{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!QC())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(G(Bt),G(yt),G(XC,8))};static \u0275dir=se({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&$n("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[Te([YC]),le]})}return n})();function zh(n){return n==null||Hh(n)===0}function Hh(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var qh=new q(""),Wh=new q(""),JC=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,L_=class{static min(e){return ZC(e)}static max(e){return eA(e)}static required(e){return tA(e)}static requiredTrue(e){return nA(e)}static email(e){return rA(e)}static minLength(e){return iA(e)}static maxLength(e){return sA(e)}static pattern(e){return oA(e)}static nullValidator(e){return K_()}static compose(e){return eb(e)}static composeAsync(e){return nb(e)}};function ZC(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function eA(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function tA(n){return zh(n.value)?{required:!0}:null}function nA(n){return n.value===!0?null:{required:!0}}function rA(n){return zh(n.value)||JC.test(n.value)?null:{email:!0}}function iA(n){return e=>{let t=e.value?.length??Hh(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function sA(n){return e=>{let t=e.value?.length??Hh(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function oA(n){if(!n)return K_;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(zh(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function K_(n){return null}function Y_(n){return n!=null}function Q_(n){return Zi(n)?Oe(n):n}function X_(n){let e={};return n.forEach(t=>{e=t!=null?k(k({},e),t):e}),Object.keys(e).length===0?null:e}function J_(n,e){return e.map(t=>t(n))}function aA(n){return!n.validate}function Z_(n){return n.map(e=>aA(e)?e:t=>e.validate(t))}function eb(n){if(!n)return null;let e=n.filter(Y_);return e.length==0?null:function(t){return X_(J_(t,e))}}function tb(n){return n!=null?eb(Z_(n)):null}function nb(n){if(!n)return null;let e=n.filter(Y_);return e.length==0?null:function(t){let r=J_(t,e).map(Q_);return Tv(r).pipe(ie(X_))}}function rb(n){return n!=null?nb(Z_(n)):null}function V_(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ib(n){return n._rawValidators}function sb(n){return n._rawAsyncValidators}function Fh(n){return n?Array.isArray(n)?n:[n]:[]}function Jc(n,e){return Array.isArray(n)?n.includes(e):n===e}function U_(n,e){let t=Fh(e);return Fh(n).forEach(i=>{Jc(t,i)||t.push(i)}),t}function $_(n,e){return Fh(e).filter(t=>!Jc(n,t))}var Zc=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=tb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ai=class extends Zc{name;get formDirective(){return null}get path(){return null}},ci=class extends Zc{_parent=null;name=null;valueAccessor=null},eu=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},cA={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},B2=ue(k({},cA),{"[class.ng-submitted]":"isSubmitted"}),j2=(()=>{class n extends eu{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(G(ci,2))};static \u0275dir=se({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Pt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[le]})}return n})(),z2=(()=>{class n extends eu{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(G(ai,10))};static \u0275dir=se({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Pt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[le]})}return n})();var Yo="VALID",Xc="INVALID",as="PENDING",Qo="DISABLED",gr=class{},tu=class extends gr{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Xo=class extends gr{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Jo=class extends gr{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},cs=class extends gr{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Lh=class extends gr{source;constructor(e){super(),this.source=e}},Vh=class extends gr{source;constructor(e){super(),this.source=e}};function Gh(n){return(su(n)?n.validators:n)||null}function uA(n){return Array.isArray(n)?tb(n):n||null}function Kh(n,e){return(su(e)?e.asyncValidators:n)||null}function lA(n){return Array.isArray(n)?rb(n):n||null}function su(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function ob(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new ee(1e3,"");if(!r[t])throw new ee(1001,"")}function ab(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new ee(1002,"")})}var us=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Et(this.statusReactive)}set status(e){Et(()=>this.statusReactive.set(e))}_status=Jt(()=>this.statusReactive());statusReactive=Rt(void 0);get valid(){return this.status===Yo}get invalid(){return this.status===Xc}get pending(){return this.status==as}get disabled(){return this.status===Qo}get enabled(){return this.status!==Qo}errors;get pristine(){return Et(this.pristineReactive)}set pristine(e){Et(()=>this.pristineReactive.set(e))}_pristine=Jt(()=>this.pristineReactive());pristineReactive=Rt(!0);get dirty(){return!this.pristine}get touched(){return Et(this.touchedReactive)}set touched(e){Et(()=>this.touchedReactive.set(e))}_touched=Jt(()=>this.touchedReactive());touchedReactive=Rt(!1);get untouched(){return!this.touched}_events=new je;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(U_(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(U_(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($_(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($_(e,this._rawAsyncValidators))}hasValidator(e){return Jc(this._rawValidators,e)}hasAsyncValidator(e){return Jc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ue(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Jo(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Jo(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ue(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Xo(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Xo(!0,r))}markAsPending(e={}){this.status=as;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new cs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ue(k({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Qo,this.errors=null,this._forEachChild(i=>{i.disable(ue(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new tu(this.value,r)),this._events.next(new cs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ue(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Yo,this._forEachChild(r=>{r.enable(ue(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ue(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yo||this.status===as)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new tu(this.value,t)),this._events.next(new cs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ue(k({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qo:Yo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=as,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=Q_(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new cs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ze,this.statusChanges=new Ze}_calculateStatus(){return this._allControlsDisabled()?Qo:this.errors?Xc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(as)?as:this._anyControlsHaveStatus(Xc)?Xc:Yo}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Xo(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Jo(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){su(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=uA(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=lA(this._rawAsyncValidators)}},nu=class extends us{constructor(e,t,r){super(Gh(t),Kh(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){ab(this,!0,e),Object.keys(e).forEach(r=>{ob(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Uh=class extends nu{};var ou=new q("",{providedIn:"root",factory:()=>au}),au="always";function cb(n,e){return[...e.path,n]}function $h(n,e,t=au){Yh(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),hA(n,e),pA(n,e),fA(n,e),dA(n,e)}function B_(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),iu(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ru(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function dA(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Yh(n,e){let t=ib(n);e.validator!==null?n.setValidators(V_(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=sb(n);e.asyncValidator!==null?n.setAsyncValidators(V_(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();ru(e._rawValidators,i),ru(e._rawAsyncValidators,i)}function iu(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=ib(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=sb(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return ru(e._rawValidators,r),ru(e._rawAsyncValidators,r),t}function hA(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&ub(n,e)})}function fA(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&ub(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function ub(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function pA(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function gA(n,e){n==null,Yh(n,e)}function mA(n,e){return iu(n,e)}function lb(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function yA(n){return Object.getPrototypeOf(n.constructor)===KC}function vA(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function db(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===G_?t=s:yA(s)?r=s:i=s}),i||r||t||null}function _A(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function j_(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function z_(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Zo=class extends us{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(Gh(t),Kh(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),su(t)&&(t.nonNullable||t.initialValueIsDefault)&&(z_(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){j_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){j_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){z_(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var bA=n=>n instanceof Zo;var EA={provide:ci,useExisting:No(()=>Qh)},H_=Promise.resolve(),Qh=(()=>{class n extends ci{_changeDetectorRef;callSetDisabledState;control=new Zo;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ze;constructor(t,r,i,s,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=db(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),lb(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){$h(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){H_.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&he(r);H_.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?cb(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(G(ai,9),G(qh,10),G(Wh,10),G(jh,10),G(Xt,8),G(ou,8))};static \u0275dir=se({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Te([EA]),le,Xe]})}return n})();var q2=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=se({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var hb=new q("");var wA={provide:ai,useExisting:No(()=>IA)},IA=(()=>{class n extends ai{callSetDisabledState;get submitted(){return Et(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Jt(()=>this._submittedReactive());_submittedReactive=Rt(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Ze;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(iu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return $h(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){B_(t.control||null,t,!1),_A(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),vA(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Lh(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Vh(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(B_(r||null,t),bA(i)&&($h(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);gA(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&mA(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Yh(this.form,this),this._oldForm&&iu(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(G(qh,10),G(Wh,10),G(ou,8))};static \u0275dir=se({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&$n("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Te([wA]),le,Xe]})}return n})();var TA={provide:ci,useExisting:No(()=>SA)},SA=(()=>{class n extends ci{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Ze;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=db(this,s)}ngOnChanges(t){this._added||this._setUpControl(),lb(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return cb(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(G(ai,13),G(qh,10),G(Wh,10),G(jh,10),G(hb,8))};static \u0275dir=se({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Te([TA]),le,Xe]})}return n})();var fb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ve({type:n});static \u0275inj=ye({})}return n})(),Bh=class extends us{constructor(e,t,r){super(Gh(t),Kh(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){ab(this,!1,e),e.forEach((r,i)=>{ob(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function q_(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var W2=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),s={};return q_(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new nu(i,s)}record(t,r=null){let i=this._reduceControls(t);return new Uh(i,r)}control(t,r,i){let s={};return this.useNonNullable?(q_(r)?s=r:(s.validators=r,s.asyncValidators=i),new Zo(t,ue(k({},s),{nonNullable:!0}))):new Zo(t,r,i)}array(t,r,i){let s=t.map(o=>this._createControl(o));return new Bh(s,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Zo)return t;if(t instanceof us)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,s=t.length>2?t[2]:null;return this.control(r,i,s)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var G2=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ou,useValue:t.callSetDisabledState??au}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ve({type:n});static \u0275inj=ye({imports:[fb]})}return n})(),K2=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:hb,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ou,useValue:t.callSetDisabledState??au}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ve({type:n});static \u0275inj=ye({imports:[fb]})}return n})();function gb(n,e){return n?n.classList?n.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(n.className):!1}function mr(n,e){if(n&&e){let t=r=>{gb(n,r)||(n.classList?n.classList.add(r):n.className+=" "+r)};[e].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(t))}}function AA(){return window.innerWidth-document.documentElement.offsetWidth}function ls(n){for(let e of document?.styleSheets)try{for(let t of e?.cssRules)for(let r of t?.style)if(n.test(r))return{name:r,value:t.style.getPropertyValue(r).trim()}}catch{}return null}function X2(n="p-overflow-hidden"){let e=ls(/-scrollbar-width$/);e?.name&&document.body.style.setProperty(e.name,AA()+"px"),mr(document.body,n)}function ui(n,e){if(n&&e){let t=r=>{n.classList?n.classList.remove(r):n.className=n.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," ")};[e].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(t))}}function J2(n="p-overflow-hidden"){let e=ls(/-scrollbar-width$/);e?.name&&document.body.style.removeProperty(e.name),ui(document.body,n)}function mb(n){let e={width:0,height:0};return n&&(n.style.visibility="hidden",n.style.display="block",e.width=n.offsetWidth,e.height=n.offsetHeight,n.style.display="none",n.style.visibility="visible"),e}function Jh(){let n=window,e=document,t=e.documentElement,r=e.getElementsByTagName("body")[0],i=n.innerWidth||t.clientWidth||r.clientWidth,s=n.innerHeight||t.clientHeight||r.clientHeight;return{width:i,height:s}}function DA(){let n=document.documentElement;return(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}function RA(){let n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}function Z2(n,e,t=!0){var r,i,s,o;if(n){let c=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:mb(n),u=c.height,l=c.width,f=e.offsetHeight,p=e.offsetWidth,m=e.getBoundingClientRect(),_=RA(),D=DA(),P=Jh(),R,$,L="top";m.top+f+u>P.height?(R=m.top+_-u,L="bottom",R<0&&(R=_)):R=f+m.top+_,m.left+l>P.width?$=Math.max(0,m.left+D+p-l):$=m.left+D,n.style.top=R+"px",n.style.left=$+"px",n.style.transformOrigin=L,t&&(n.style.marginTop=L==="bottom"?`calc(${(i=(r=ls(/-anchor-gutter$/))==null?void 0:r.value)!=null?i:"2px"} * -1)`:(o=(s=ls(/-anchor-gutter$/))==null?void 0:s.value)!=null?o:"")}}function PA(n,e){n&&(typeof e=="string"?n.style.cssText=e:Object.entries(e||{}).forEach(([t,r])=>n.style[t]=r))}function Zh(n,e){if(n instanceof HTMLElement){let t=n.offsetWidth;if(e){let r=getComputedStyle(n);t+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return t}return 0}function eU(n,e,t=!0){var r,i,s,o;if(n){let c=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:mb(n),u=e.offsetHeight,l=e.getBoundingClientRect(),f=Jh(),p,m,_="top";l.top+u+c.height>f.height?(p=-1*c.height,_="bottom",l.top+p<0&&(p=-1*l.top)):p=u,c.width>f.width?m=l.left*-1:l.left+c.width>f.width?m=(l.left+c.width-f.width)*-1:m=0,n.style.top=p+"px",n.style.left=m+"px",n.style.transformOrigin=_,t&&(n.style.marginTop=_==="bottom"?`calc(${(i=(r=ls(/-anchor-gutter$/))==null?void 0:r.value)!=null?i:"2px"} * -1)`:(o=(s=ls(/-anchor-gutter$/))==null?void 0:s.value)!=null?o:"")}}function ds(n){return typeof HTMLElement=="object"?n instanceof HTMLElement:n&&typeof n=="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"}function ef(n){let e=n;return n&&typeof n=="object"&&(n.hasOwnProperty("current")?e=n.current:n.hasOwnProperty("el")&&(n.el.hasOwnProperty("nativeElement")?e=n.el.nativeElement:e=n.el)),ds(e)?e:void 0}function tU(n,e){let t=ef(n);if(t)t.appendChild(e);else throw new Error("Cannot append "+e+" to "+n)}var Xh=void 0;function pb(n){if(n){let e=getComputedStyle(n);return n.offsetWidth-n.clientWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.borderRightWidth)}else{if(Xh!=null)return Xh;let e=document.createElement("div");PA(e,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),Xh=t,t}}function tf(n,e={}){if(ds(n)){let t=(r,i)=>{var s,o;let c=(s=n?.$attrs)!=null&&s[r]?[(o=n?.$attrs)==null?void 0:o[r]]:[];return[i].flat().reduce((u,l)=>{if(l!=null){let f=typeof l;if(f==="string"||f==="number")u.push(l);else if(f==="object"){let p=Array.isArray(l)?t(r,l):Object.entries(l).map(([m,_])=>r==="style"&&(_||_===0)?`${m.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${_}`:_?m:void 0);u=p.length?u.concat(p.filter(m=>!!m)):u}}return u},c)};Object.entries(e).forEach(([r,i])=>{if(i!=null){let s=r.match(/^on(.+)/);s?n.addEventListener(s[1].toLowerCase(),i):r==="p-bind"||r==="pBind"?tf(n,i):(i=r==="class"?[...new Set(t("class",i))].join(" ").trim():r==="style"?t("style",i).join(";").trim():i,(n.$attrs=n.$attrs||{})&&(n.$attrs[r]=i),n.setAttribute(r,i))}})}}function nU(n,e){if(n){n.style.opacity="0";let t=+new Date,r="0",i=function(){r=`${+n.style.opacity+(new Date().getTime()-t)/e}`,n.style.opacity=r,t=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(i)||setTimeout(i,16))};i()}}function OA(n,e){return ds(n)?Array.from(n.querySelectorAll(e)):[]}function hs(n,e){return ds(n)?n.matches(e)?n:n.querySelector(e):null}function rU(n,e){n&&document.activeElement!==n&&n.focus(e)}function iU(n,e){if(ds(n)){let t=n.getAttribute(e);return isNaN(t)?t==="true"||t==="false"?t==="true":t:+t}}function yb(n,e=""){let t=OA(n,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`),r=[];for(let i of t)getComputedStyle(i).display!="none"&&getComputedStyle(i).visibility!="hidden"&&r.push(i);return r}function sU(n,e){let t=yb(n,e);return t.length>0?t[0]:null}function nf(n){if(n){let e=n.offsetHeight,t=getComputedStyle(n);return e-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)+parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),e}return 0}function NA(n){if(n){n.style.visibility="hidden",n.style.display="block";let e=n.offsetHeight;return n.style.display="none",n.style.visibility="visible",e}return 0}function kA(n){if(n){n.style.visibility="hidden",n.style.display="block";let e=n.offsetWidth;return n.style.display="none",n.style.visibility="visible",e}return 0}function vb(n){if(n){let e=n.parentNode;return e&&e instanceof ShadowRoot&&e.host&&(e=e.host),e}return null}function oU(n){var e;if(n){let t=(e=vb(n))==null?void 0:e.childNodes,r=0;if(t)for(let i=0;i<t.length;i++){if(t[i]===n)return r;t[i].nodeType===1&&r++}}return-1}function aU(n,e){let t=yb(n,e);return t.length>0?t[t.length-1]:null}function rf(n){if(n){let e=n.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}function cu(n,e){if(n){let t=n.offsetHeight;if(e){let r=getComputedStyle(n);t+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return t}return 0}function cU(){if(window.getSelection)return window.getSelection().toString();if(document.getSelection)return document.getSelection().toString()}function xA(n){return!!(n!==null&&typeof n<"u"&&n.nodeName&&vb(n))}function uU(n,e){var t;if(n)switch(n){case"document":return document;case"window":return window;case"body":return document.body;case"@next":return e?.nextElementSibling;case"@prev":return e?.previousElementSibling;case"@parent":return e?.parentElement;case"@grandparent":return(t=e?.parentElement)==null?void 0:t.parentElement;default:if(typeof n=="string")return document.querySelector(n);let i=ef((s=>!!(s&&s.constructor&&s.call&&s.apply))(n)?n():n);return i?.nodeType===9||xA(i)?i:void 0}}function sf(n){if(n){let e=n.offsetWidth,t=getComputedStyle(n);return e-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)+parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth),e}return 0}function lU(n){return!!(n&&n.offsetParent!=null)}function dU(n){return n?getComputedStyle(n).direction==="rtl":!1}function hU(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function fU(n,e){var t,r;if(n){let i=n.parentElement,s=rf(i),o=Jh(),c=n.offsetParent?n.offsetWidth:kA(n),u=n.offsetParent?n.offsetHeight:NA(n),l=Zh((t=i?.children)==null?void 0:t[0]),f=cu((r=i?.children)==null?void 0:r[0]),p="",m="";s.left+l+c>o.width-pb()?s.left<c?e%2===1?p=s.left?"-"+s.left+"px":"100%":e%2===0&&(p=o.width-c-pb()+"px"):p="-100%":p="100%",n.getBoundingClientRect().top+f+u>o.height?m=`-${u-f}px`:m="0px",n.style.top=m,n.style.left=p}}function _b(n){var e;n&&("remove"in Element.prototype?n.remove():(e=n.parentNode)==null||e.removeChild(n))}function pU(n,e){let t=ef(n);if(t)t.removeChild(e);else throw new Error("Cannot remove "+e+" from "+n)}function gU(n,e){let t=getComputedStyle(n).getPropertyValue("borderTopWidth"),r=t?parseFloat(t):0,i=getComputedStyle(n).getPropertyValue("paddingTop"),s=i?parseFloat(i):0,o=n.getBoundingClientRect(),u=e.getBoundingClientRect().top+document.body.scrollTop-(o.top+document.body.scrollTop)-r-s,l=n.scrollTop,f=n.clientHeight,p=cu(e);u<0?n.scrollTop=l+u:u+p>f&&(n.scrollTop=l+u-f+p)}function bb(n,e="",t){ds(n)&&t!==null&&t!==void 0&&n.setAttribute(e,t)}function Eb(){let n=new Map;return{on(e,t){let r=n.get(e);return r?r.push(t):r=[t],n.set(e,r),this},off(e,t){let r=n.get(e);return r&&r.splice(r.indexOf(t)>>>0,1),this},emit(e,t){let r=n.get(e);r&&r.slice().map(i=>{i(t)})},clear(){n.clear()}}}var MA=Object.defineProperty,wb=Object.getOwnPropertySymbols,FA=Object.prototype.hasOwnProperty,LA=Object.prototype.propertyIsEnumerable,Ib=(n,e,t)=>e in n?MA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,VA=(n,e)=>{for(var t in e||(e={}))FA.call(e,t)&&Ib(n,t,e[t]);if(wb)for(var t of wb(e))LA.call(e,t)&&Ib(n,t,e[t]);return n};function et(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&typeof n=="object"&&Object.keys(n).length===0}function of(n,e,t=new WeakSet){if(n===e)return!0;if(!n||!e||typeof n!="object"||typeof e!="object"||t.has(n)||t.has(e))return!1;t.add(n).add(e);let r=Array.isArray(n),i=Array.isArray(e),s,o,c;if(r&&i){if(o=n.length,o!=e.length)return!1;for(s=o;s--!==0;)if(!of(n[s],e[s],t))return!1;return!0}if(r!=i)return!1;let u=n instanceof Date,l=e instanceof Date;if(u!=l)return!1;if(u&&l)return n.getTime()==e.getTime();let f=n instanceof RegExp,p=e instanceof RegExp;if(f!=p)return!1;if(f&&p)return n.toString()==e.toString();let m=Object.keys(n);if(o=m.length,o!==Object.keys(e).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,m[s]))return!1;for(s=o;s--!==0;)if(c=m[s],!of(n[c],e[c],t))return!1;return!0}function UA(n,e){return of(n,e)}function Sb(n){return!!(n&&n.constructor&&n.call&&n.apply)}function be(n){return!et(n)}function uu(n,e){if(!n||!e)return null;try{let t=n[e];if(be(t))return t}catch{}if(Object.keys(n).length){if(Sb(e))return e(n);if(e.indexOf(".")===-1)return n[e];{let t=e.split("."),r=n;for(let i=0,s=t.length;i<s;++i){if(r==null)return null;r=r[t[i]]}return r}}return null}function af(n,e,t){return t?uu(n,t)===uu(e,t):UA(n,e)}function _U(n,e){if(n!=null&&e&&e.length){for(let t of e)if(af(n,t))return!0}return!1}function bU(n,e){let t=-1;if(be(n))try{t=n.findLastIndex(e)}catch{t=n.lastIndexOf([...n].reverse().find(e))}return t}function tn(n,e=!0){return n instanceof Object&&n.constructor===Object&&(e||Object.keys(n).length!==0)}function zt(n,...e){return Sb(n)?n(...e):n}function yr(n,e=!0){return typeof n=="string"&&(e||n!=="")}function Tb(n){return yr(n)?n.replace(/(-|_)/g,"").toLowerCase():n}function lu(n,e="",t={}){let r=Tb(e).split("."),i=r.shift();return i?tn(n)?lu(zt(n[Object.keys(n).find(s=>Tb(s)===i)||""],t),r.join("."),t):void 0:zt(n,t)}function du(n,e=!0){return Array.isArray(n)&&(e||n.length!==0)}function EU(n){return n instanceof Date&&n.constructor===Date}function Cb(n){return be(n)&&!isNaN(n)}function wU(n=""){return be(n)&&n.length===1&&!!n.match(/\S| /)}function Nt(n,e){if(e){let t=e.test(n);return e.lastIndex=0,t}return!1}function li(...n){let e=(t={},r={})=>{let i=VA({},t);return Object.keys(r).forEach(s=>{tn(r[s])&&s in t&&tn(t[s])?i[s]=e(t[s],r[s]):i[s]=r[s]}),i};return n.reduce((t,r,i)=>i===0?r:e(t,r),{})}function di(n){return n&&n.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":")}function kt(n){if(n&&/[\xC0-\xFF\u0100-\u017E]/.test(n)){let t={A:/[\xC0-\xC5\u0100\u0102\u0104]/g,AE:/[\xC6]/g,C:/[\xC7\u0106\u0108\u010A\u010C]/g,D:/[\xD0\u010E\u0110]/g,E:/[\xC8-\xCB\u0112\u0114\u0116\u0118\u011A]/g,G:/[\u011C\u011E\u0120\u0122]/g,H:/[\u0124\u0126]/g,I:/[\xCC-\xCF\u0128\u012A\u012C\u012E\u0130]/g,IJ:/[\u0132]/g,J:/[\u0134]/g,K:/[\u0136]/g,L:/[\u0139\u013B\u013D\u013F\u0141]/g,N:/[\xD1\u0143\u0145\u0147\u014A]/g,O:/[\xD2-\xD6\xD8\u014C\u014E\u0150]/g,OE:/[\u0152]/g,R:/[\u0154\u0156\u0158]/g,S:/[\u015A\u015C\u015E\u0160]/g,T:/[\u0162\u0164\u0166]/g,U:/[\xD9-\xDC\u0168\u016A\u016C\u016E\u0170\u0172]/g,W:/[\u0174]/g,Y:/[\xDD\u0176\u0178]/g,Z:/[\u0179\u017B\u017D]/g,a:/[\xE0-\xE5\u0101\u0103\u0105]/g,ae:/[\xE6]/g,c:/[\xE7\u0107\u0109\u010B\u010D]/g,d:/[\u010F\u0111]/g,e:/[\xE8-\xEB\u0113\u0115\u0117\u0119\u011B]/g,g:/[\u011D\u011F\u0121\u0123]/g,i:/[\xEC-\xEF\u0129\u012B\u012D\u012F\u0131]/g,ij:/[\u0133]/g,j:/[\u0135]/g,k:/[\u0137,\u0138]/g,l:/[\u013A\u013C\u013E\u0140\u0142]/g,n:/[\xF1\u0144\u0146\u0148\u014B]/g,p:/[\xFE]/g,o:/[\xF2-\xF6\xF8\u014D\u014F\u0151]/g,oe:/[\u0153]/g,r:/[\u0155\u0157\u0159]/g,s:/[\u015B\u015D\u015F\u0161]/g,t:/[\u0163\u0165\u0167]/g,u:/[\xF9-\xFC\u0169\u016B\u016D\u016F\u0171\u0173]/g,w:/[\u0175]/g,y:/[\xFD\xFF\u0177]/g,z:/[\u017A\u017C\u017E]/g};for(let r in t)n=n.replace(t[r],r)}return n}function hu(n){return yr(n)?n.replace(/(_)/g,"-").replace(/[A-Z]/g,(e,t)=>t===0?e:"-"+e.toLowerCase()).toLowerCase():n}function cf(n){return yr(n)?n.replace(/[A-Z]/g,(e,t)=>t===0?e:"."+e.toLowerCase()).toLowerCase():n}var fu={};function ea(n="pui_id_"){return fu.hasOwnProperty(n)||(fu[n]=0),fu[n]++,`${n}${fu[n]}`}function $A(){let n=[],e=(o,c,u=999)=>{let l=i(o,c,u),f=l.value+(l.key===o?0:u)+1;return n.push({key:o,value:f}),f},t=o=>{n=n.filter(c=>c.value!==o)},r=(o,c)=>i(o,c).value,i=(o,c,u=0)=>[...n].reverse().find(l=>c?!0:l.key===o)||{key:o,value:u},s=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:s,set:(o,c,u)=>{c&&(c.style.zIndex=String(e(o,!0,u)))},clear:o=>{o&&(t(s(o)),o.style.zIndex="")},getCurrent:o=>r(o,!0)}}var SU=$A();var BA=Object.defineProperty,jA=Object.defineProperties,zA=Object.getOwnPropertyDescriptors,pu=Object.getOwnPropertySymbols,Rb=Object.prototype.hasOwnProperty,Pb=Object.prototype.propertyIsEnumerable,Ab=(n,e,t)=>e in n?BA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Se=(n,e)=>{for(var t in e||(e={}))Rb.call(e,t)&&Ab(n,t,e[t]);if(pu)for(var t of pu(e))Pb.call(e,t)&&Ab(n,t,e[t]);return n},ps=(n,e)=>jA(n,zA(e)),Hn=(n,e)=>{var t={};for(var r in n)Rb.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&pu)for(var r of pu(n))e.indexOf(r)<0&&Pb.call(n,r)&&(t[r]=n[r]);return t};var HA=Eb(),xt=HA;function Db(n,e){du(n)?n.push(...e||[]):tn(n)&&Object.assign(n,e)}function qA(n){return tn(n)&&n.hasOwnProperty("value")&&n.hasOwnProperty("type")?n.value:n}function WA(n){return n.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function uf(n="",e=""){return WA(`${yr(n,!1)&&yr(e,!1)?`${n}-`:n}${e}`)}function Ob(n="",e=""){return`--${uf(n,e)}`}function GA(n=""){let e=(n.match(/{/g)||[]).length,t=(n.match(/}/g)||[]).length;return(e+t)%2!==0}function Nb(n,e="",t="",r=[],i){if(yr(n)){let s=/{([^}]*)}/g,o=n.trim();if(GA(o))return;if(Nt(o,s)){let c=o.replaceAll(s,f=>{let m=f.replace(/{|}/g,"").split(".").filter(_=>!r.some(D=>Nt(_,D)));return`var(${Ob(t,hu(m.join("-")))}${be(i)?`, ${i}`:""})`}),u=/(\d+\s+[\+\-\*\/]\s+\d+)/g,l=/var\([^)]+\)/g;return Nt(c.replace(l,"0"),u)?`calc(${c})`:c}return o}else if(Cb(n))return n}function KA(n,e,t){yr(e,!1)&&n.push(`${e}:${t};`)}function fs(n,e){return n?`${n}{${e}}`:""}var gs=(...n)=>YA(ae.getTheme(),...n),YA=(n={},e,t,r)=>{if(e){let{variable:i,options:s}=ae.defaults||{},{prefix:o,transform:c}=n?.options||s||{},l=Nt(e,/{([^}]*)}/g)?e:`{${e}}`;return r==="value"||et(r)&&c==="strict"?ae.getTokenValue(e):Nb(l,void 0,o,[i.excludedKeyRegex],t)}return""};var QA=(n={})=>{let{preset:e,options:t}=n;return{preset(r){return e=e?li(e,r):r,this},options(r){return t=t?Se(Se({},t),r):r,this},primaryPalette(r){let{semantic:i}=e||{};return e=ps(Se({},e),{semantic:ps(Se({},i),{primary:r})}),this},surfacePalette(r){var i,s;let{semantic:o}=e||{},c=r?.hasOwnProperty("light")?r?.light:r,u=r?.hasOwnProperty("dark")?r?.dark:r,l={colorScheme:{light:Se(Se({},(i=o?.colorScheme)==null?void 0:i.light),!!c&&{surface:c}),dark:Se(Se({},(s=o?.colorScheme)==null?void 0:s.dark),!!u&&{surface:u})}};return e=ps(Se({},e),{semantic:Se(Se({},o),l)}),this},define({useDefaultPreset:r=!1,useDefaultOptions:i=!1}={}){return{preset:r?ae.getPreset():e,options:i?ae.getOptions():t}},update({mergePresets:r=!0,mergeOptions:i=!0}={}){let s={preset:r?li(ae.getPreset(),e):e,options:i?Se(Se({},ae.getOptions()),t):t};return ae.setTheme(s),s},use(r){let i=this.define(r);return ae.setTheme(i),i}}};function XA(n,e={}){let t=ae.defaults.variable,{prefix:r=t.prefix,selector:i=t.selector,excludedKeyRegex:s=t.excludedKeyRegex}=e,o=(l,f="")=>Object.entries(l).reduce((p,[m,_])=>{let D=Nt(m,s)?uf(f):uf(f,hu(m)),P=qA(_);if(tn(P)){let{variables:R,tokens:$}=o(P,D);Db(p.tokens,$),Db(p.variables,R)}else p.tokens.push((r?D.replace(`${r}-`,""):D).replaceAll("-",".")),KA(p.variables,Ob(D),Nb(P,D,r,[s]));return p},{variables:[],tokens:[]}),{variables:c,tokens:u}=o(n,r);return{value:c,tokens:u,declarations:c.join(""),css:fs(i,c.join(""))}}var nn={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(n){return{type:"class",selector:n,matched:this.pattern.test(n.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(n){return{type:"attr",selector:`:root${n}`,matched:this.pattern.test(n.trim())}}},media:{pattern:/^@media (.*)$/,resolve(n){return{type:"media",selector:`${n}{:root{[CSS]}}`,matched:this.pattern.test(n.trim())}}},system:{pattern:/^system$/,resolve(n){return{type:"system",selector:"@media (prefers-color-scheme: dark){:root{[CSS]}}",matched:this.pattern.test(n.trim())}}},custom:{resolve(n){return{type:"custom",selector:n,matched:!0}}}},resolve(n){let e=Object.keys(this.rules).filter(t=>t!=="custom").map(t=>this.rules[t]);return[n].flat().map(t=>{var r;return(r=e.map(i=>i.resolve(t)).find(i=>i.matched))!=null?r:this.rules.custom.resolve(t)})}},_toVariables(n,e){return XA(n,{prefix:e?.prefix})},getCommon({name:n="",theme:e={},params:t,set:r,defaults:i}){var s,o,c,u,l,f,p;let{preset:m,options:_}=e,D,P,R,$,L,V,Y;if(be(m)&&_.transform!=="strict"){let{primitive:we,semantic:J,extend:I}=m,y=J||{},{colorScheme:E}=y,w=Hn(y,["colorScheme"]),T=I||{},{colorScheme:C}=T,b=Hn(T,["colorScheme"]),ht=E||{},{dark:dn}=ht,$i=Hn(ht,["dark"]),hn=C||{},{dark:fn}=hn,ar=Hn(hn,["dark"]),Wr=be(we)?this._toVariables({primitive:we},_):{},Bi=be(w)?this._toVariables({semantic:w},_):{},Tt=be($i)?this._toVariables({light:$i},_):{},Be=be(dn)?this._toVariables({dark:dn},_):{},sc=be(b)?this._toVariables({semantic:b},_):{},cr=be(ar)?this._toVariables({light:ar},_):{},oc=be(fn)?this._toVariables({dark:fn},_):{},[Gr,vd]=[(s=Wr.declarations)!=null?s:"",Wr.tokens],[_d,ji]=[(o=Bi.declarations)!=null?o:"",Bi.tokens||[]],[zi,uo]=[(c=Tt.declarations)!=null?c:"",Tt.tokens||[]],[lo,ho]=[(u=Be.declarations)!=null?u:"",Be.tokens||[]],[fo,ac]=[(l=sc.declarations)!=null?l:"",sc.tokens||[]],[cc,bd]=[(f=cr.declarations)!=null?f:"",cr.tokens||[]],[uc,lc]=[(p=oc.declarations)!=null?p:"",oc.tokens||[]];D=this.transformCSS(n,Gr,"light","variable",_,r,i),P=vd;let po=this.transformCSS(n,`${_d}${zi}`,"light","variable",_,r,i),dc=this.transformCSS(n,`${lo}`,"dark","variable",_,r,i);R=`${po}${dc}`,$=[...new Set([...ji,...uo,...ho])];let Ed=this.transformCSS(n,`${fo}${cc}color-scheme:light`,"light","variable",_,r,i),go=this.transformCSS(n,`${uc}color-scheme:dark`,"dark","variable",_,r,i);L=`${Ed}${go}`,V=[...new Set([...ac,...bd,...lc])],Y=zt(m.css,{dt:gs})}return{primitive:{css:D,tokens:P},semantic:{css:R,tokens:$},global:{css:L,tokens:V},style:Y}},getPreset({name:n="",preset:e={},options:t,params:r,set:i,defaults:s,selector:o}){var c,u,l;let f,p,m;if(be(e)&&t.transform!=="strict"){let _=n.replace("-directive",""),D=e,{colorScheme:P,extend:R,css:$}=D,L=Hn(D,["colorScheme","extend","css"]),V=R||{},{colorScheme:Y}=V,we=Hn(V,["colorScheme"]),J=P||{},{dark:I}=J,y=Hn(J,["dark"]),E=Y||{},{dark:w}=E,T=Hn(E,["dark"]),C=be(L)?this._toVariables({[_]:Se(Se({},L),we)},t):{},b=be(y)?this._toVariables({[_]:Se(Se({},y),T)},t):{},ht=be(I)?this._toVariables({[_]:Se(Se({},I),w)},t):{},[dn,$i]=[(c=C.declarations)!=null?c:"",C.tokens||[]],[hn,fn]=[(u=b.declarations)!=null?u:"",b.tokens||[]],[ar,Wr]=[(l=ht.declarations)!=null?l:"",ht.tokens||[]],Bi=this.transformCSS(_,`${dn}${hn}`,"light","variable",t,i,s,o),Tt=this.transformCSS(_,ar,"dark","variable",t,i,s,o);f=`${Bi}${Tt}`,p=[...new Set([...$i,...fn,...Wr])],m=zt($,{dt:gs})}return{css:f,tokens:p,style:m}},getPresetC({name:n="",theme:e={},params:t,set:r,defaults:i}){var s;let{preset:o,options:c}=e,u=(s=o?.components)==null?void 0:s[n];return this.getPreset({name:n,preset:u,options:c,params:t,set:r,defaults:i})},getPresetD({name:n="",theme:e={},params:t,set:r,defaults:i}){var s;let o=n.replace("-directive",""),{preset:c,options:u}=e,l=(s=c?.directives)==null?void 0:s[o];return this.getPreset({name:o,preset:l,options:u,params:t,set:r,defaults:i})},applyDarkColorScheme(n){return!(n.darkModeSelector==="none"||n.darkModeSelector===!1)},getColorSchemeOption(n,e){var t;return this.applyDarkColorScheme(n)?this.regex.resolve(n.darkModeSelector===!0?e.options.darkModeSelector:(t=n.darkModeSelector)!=null?t:e.options.darkModeSelector):[]},getLayerOrder(n,e={},t,r){let{cssLayer:i}=e;return i?`@layer ${zt(i.order||"primeui",t)}`:""},getCommonStyleSheet({name:n="",theme:e={},params:t,props:r={},set:i,defaults:s}){let o=this.getCommon({name:n,theme:e,params:t,set:i,defaults:s}),c=Object.entries(r).reduce((u,[l,f])=>u.push(`${l}="${f}"`)&&u,[]).join(" ");return Object.entries(o||{}).reduce((u,[l,f])=>{if(f?.css){let p=di(f?.css),m=`${l}-variables`;u.push(`<style type="text/css" data-primevue-style-id="${m}" ${c}>${p}</style>`)}return u},[]).join("")},getStyleSheet({name:n="",theme:e={},params:t,props:r={},set:i,defaults:s}){var o;let c={name:n,theme:e,params:t,set:i,defaults:s},u=(o=n.includes("-directive")?this.getPresetD(c):this.getPresetC(c))==null?void 0:o.css,l=Object.entries(r).reduce((f,[p,m])=>f.push(`${p}="${m}"`)&&f,[]).join(" ");return u?`<style type="text/css" data-primevue-style-id="${n}-variables" ${l}>${di(u)}</style>`:""},createTokens(n={},e,t="",r="",i={}){return Object.entries(n).forEach(([s,o])=>{let c=Nt(s,e.variable.excludedKeyRegex)?t:t?`${t}.${cf(s)}`:cf(s),u=r?`${r}.${s}`:s;tn(o)?this.createTokens(o,e,c,u,i):(i[c]||(i[c]={paths:[],computed(l,f={}){var p,m;return this.paths.length===1?(p=this.paths[0])==null?void 0:p.computed(this.paths[0].scheme,f.binding):l&&l!=="none"?(m=this.paths.find(_=>_.scheme===l))==null?void 0:m.computed(l,f.binding):this.paths.map(_=>_.computed(_.scheme,f[_.scheme]))}}),i[c].paths.push({path:u,value:o,scheme:u.includes("colorScheme.light")?"light":u.includes("colorScheme.dark")?"dark":"none",computed(l,f={}){let p=/{([^}]*)}/g,m=o;if(f.name=this.path,f.binding||(f.binding={}),Nt(o,p)){let D=o.trim().replaceAll(p,$=>{var L;let V=$.replace(/{|}/g,""),Y=(L=i[V])==null?void 0:L.computed(l,f);return du(Y)&&Y.length===2?`light-dark(${Y[0].value},${Y[1].value})`:Y?.value}),P=/(\d+\w*\s+[\+\-\*\/]\s+\d+\w*)/g,R=/var\([^)]+\)/g;m=Nt(D.replace(R,"0"),P)?`calc(${D})`:D}return et(f.binding)&&delete f.binding,{colorScheme:l,path:this.path,paths:f,value:m.includes("undefined")?void 0:m}}}))}),i},getTokenValue(n,e,t){var r;let s=(u=>u.split(".").filter(f=>!Nt(f.toLowerCase(),t.variable.excludedKeyRegex)).join("."))(e),o=e.includes("colorScheme.light")?"light":e.includes("colorScheme.dark")?"dark":void 0,c=[(r=n[s])==null?void 0:r.computed(o)].flat().filter(u=>u);return c.length===1?c[0].value:c.reduce((u={},l)=>{let f=l,{colorScheme:p}=f,m=Hn(f,["colorScheme"]);return u[p]=m,u},void 0)},getSelectorRule(n,e,t,r){return t==="class"||t==="attr"?fs(be(e)?`${n}${e},${n} ${e}`:n,r):fs(n,be(e)?fs(e,r):r)},transformCSS(n,e,t,r,i={},s,o,c){if(be(e)){let{cssLayer:u}=i;if(r!=="style"){let l=this.getColorSchemeOption(i,o);e=t==="dark"?l.reduce((f,{type:p,selector:m})=>(be(m)&&(f+=m.includes("[CSS]")?m.replace("[CSS]",e):this.getSelectorRule(m,c,p,e)),f),""):fs(c??":root",e)}if(u){let l={name:"primeui",order:"primeui"};tn(u)&&(l.name=zt(u.name,{name:n,type:r})),be(l.name)&&(e=fs(`@layer ${l.name}`,e),s?.layerNames(l.name))}return e}return""}},ae={defaults:{variable:{prefix:"p",selector:":root",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states|extend|css)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(n={}){let{theme:e}=n;e&&(this._theme=ps(Se({},e),{options:Se(Se({},this.defaults.options),e.options)}),this._tokens=nn.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var n;return((n=this.theme)==null?void 0:n.preset)||{}},get options(){var n;return((n=this.theme)==null?void 0:n.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(n){this.update({theme:n}),xt.emit("theme:change",n)},getPreset(){return this.preset},setPreset(n){this._theme=ps(Se({},this.theme),{preset:n}),this._tokens=nn.createTokens(n,this.defaults),this.clearLoadedStyleNames(),xt.emit("preset:change",n),xt.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(n){this._theme=ps(Se({},this.theme),{options:n}),this.clearLoadedStyleNames(),xt.emit("options:change",n),xt.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(n){this._layerNames.add(n)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(n){return this._loadedStyleNames.has(n)},setLoadedStyleName(n){this._loadedStyleNames.add(n)},deleteLoadedStyleName(n){this._loadedStyleNames.delete(n)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(n){return nn.getTokenValue(this.tokens,n,this.defaults)},getCommon(n="",e){return nn.getCommon({name:n,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(n="",e){let t={name:n,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return nn.getPresetC(t)},getDirective(n="",e){let t={name:n,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return nn.getPresetD(t)},getCustomPreset(n="",e,t,r){let i={name:n,preset:e,options:this.options,selector:t,params:r,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return nn.getPreset(i)},getLayerOrderCSS(n=""){return nn.getLayerOrder(n,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(n="",e,t="style",r){return nn.transformCSS(n,e,r,t,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(n="",e,t={}){return nn.getCommonStyleSheet({name:n,theme:this.theme,params:e,props:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(n,e,t={}){return nn.getStyleSheet({name:n,theme:this.theme,params:e,props:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(n){this._loadingStyles.add(n)},onStyleUpdated(n){this._loadingStyles.add(n)},onStyleLoaded(n,{name:e}){this._loadingStyles.size&&(this._loadingStyles.delete(e),xt.emit(`theme:${e}:load`,n),!this._loadingStyles.size&&xt.emit("theme:load"))}};function HU(...n){let e=li(ae.getPreset(),...n);return ae.setPreset(e),e}function qU(n){return QA().surfacePalette(n).update().preset}var JA=0,kb=(()=>{class n{document=O(ge);use(t,r={}){let i=!1,s=t,o=null,{immediate:c=!0,manual:u=!1,name:l=`style_${++JA}`,id:f=void 0,media:p=void 0,nonce:m=void 0,first:_=!1,props:D={}}=r;if(this.document){if(o=this.document.querySelector(`style[data-primeng-style-id="${l}"]`)||f&&this.document.getElementById(f)||this.document.createElement("style"),!o.isConnected){s=t,tf(o,{type:"text/css",media:p,nonce:m});let P=this.document.head;_&&P.firstChild?P.insertBefore(o,P.firstChild):P.appendChild(o),bb(o,"data-primeng-style-id",l)}return o.textContent!==s&&(o.textContent=s),{id:f,name:l,el:o,css:s}}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ms={_loadedStyleNames:new Set,getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(n){return this._loadedStyleNames.has(n)},setLoadedStyleName(n){this._loadedStyleNames.add(n)},deleteLoadedStyleName(n){this._loadedStyleNames.delete(n)},clearLoadedStyleNames(){this._loadedStyleNames.clear()}},ZA=({dt:n})=>`
*,
::before,
::after {
    box-sizing: border-box;
}

/* Non ng overlay animations */
.p-connected-overlay {
    opacity: 0;
    transform: scaleY(0.8);
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-visible {
    opacity: 1;
    transform: scaleY(1);
}

.p-connected-overlay-hidden {
    opacity: 0;
    transform: scaleY(1);
    transition: opacity 0.1s linear;
}

/* NG based overlay animations */
.p-connected-overlay-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-connected-overlay-leave-to {
    opacity: 0;
}

.p-connected-overlay-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-leave-active {
    transition: opacity 0.1s linear;
}

/* Toggleable Content */
.p-toggleable-content-enter-from,
.p-toggleable-content-leave-to {
    max-height: 0;
}

.p-toggleable-content-enter-to,
.p-toggleable-content-leave-from {
    max-height: 1000px;
}

.p-toggleable-content-leave-active {
    overflow: hidden;
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
}

.p-toggleable-content-enter-active {
    overflow: hidden;
    transition: max-height 1s ease-in-out;
}

.p-disabled,
.p-disabled * {
    cursor: default;
    pointer-events: none;
    user-select: none;
}

.p-disabled,
.p-component:disabled {
    opacity: ${n("disabled.opacity")};
}

.pi {
    font-size: ${n("icon.size")};
}

.p-icon {
    width: ${n("icon.size")};
    height: ${n("icon.size")};
}

.p-overlay-mask {
    background: ${n("mask.background")};
    color: ${n("mask.color")};
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-overlay-mask-enter {
    animation: p-overlay-mask-enter-animation ${n("mask.transition.duration")} forwards;
}

.p-overlay-mask-leave {
    animation: p-overlay-mask-leave-animation ${n("mask.transition.duration")} forwards;
}
/* Temporarily disabled, distrupts PrimeNG overlay animations */
/* @keyframes p-overlay-mask-enter-animation {
    from {
        background: transparent;
    }
    to {
        background: ${n("mask.background")};
    }
}
@keyframes p-overlay-mask-leave-animation {
    from {
        background: ${n("mask.background")};
    }
    to {
        background: transparent;
    }
}*/

.p-iconwrapper {
    display: inline-flex;
    justify-content: center;
    align-items: center;
}
`,eD=({dt:n})=>`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: ${n("scrollbar.width")};
}

/* @todo move to baseiconstyle.ts */

.p-icon {
    display: inline-block;
    vertical-align: baseline;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,Me=(()=>{class n{name="base";useStyle=O(kb);theme=void 0;css=void 0;classes={};inlineStyles={};load=(t,r={},i=s=>s)=>{let s=i(zt(t,{dt:gs}));return s?this.useStyle.use(di(s),k({name:this.name},r)):{}};loadCSS=(t={})=>this.load(this.css,t);loadTheme=(t={},r="")=>this.load(this.theme,t,(i="")=>ae.transformCSS(t.name||this.name,`${i}${r}`));loadGlobalCSS=(t={})=>this.load(eD,t);loadGlobalTheme=(t={},r="")=>this.load(ZA,t,(i="")=>ae.transformCSS(t.name||this.name,`${i}${r}`));getCommonTheme=t=>ae.getCommon(this.name,t);getComponentTheme=t=>ae.getComponent(this.name,t);getDirectiveTheme=t=>ae.getDirective(this.name,t);getPresetTheme=(t,r,i)=>ae.getCustomPreset(this.name,t,r,i);getLayerOrderThemeCSS=()=>ae.getLayerOrderCSS(this.name);getStyleSheet=(t="",r={})=>{if(this.css){let i=zt(this.css,{dt:gs}),s=di(`${i}${t}`),o=Object.entries(r).reduce((c,[u,l])=>c.push(`${u}="${l}"`)&&c,[]).join(" ");return`<style type="text/css" data-primeng-style-id="${this.name}" ${o}>${s}</style>`}return""};getCommonThemeStyleSheet=(t,r={})=>ae.getCommonStyleSheet(this.name,t,r);getThemeStyleSheet=(t,r={})=>{let i=[ae.getStyleSheet(this.name,t,r)];if(this.theme){let s=this.name==="base"?"global-style":`${this.name}-style`,o=zt(this.theme,{dt:gs}),c=di(ae.transformCSS(s,o)),u=Object.entries(r).reduce((l,[f,p])=>l.push(`${f}="${p}"`)&&l,[]).join(" ");i.push(`<style type="text/css" data-primeng-style-id="${s}" ${u}>${c}</style>`)}return i.join("")};static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xb=["*"];var tt=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return n})(),u$=(()=>{class n{static AND="and";static OR="or"}return n})(),l$=(()=>{class n{filter(t,r,i,s,o){let c=[];if(t)for(let u of t)for(let l of r){let f=uu(u,l);if(this.filters[s](f,i,o)){c.push(u);break}}return c}filters={startsWith:(t,r,i)=>{if(r==null||r.trim()==="")return!0;if(t==null)return!1;let s=kt(r.toString()).toLocaleLowerCase(i);return kt(t.toString()).toLocaleLowerCase(i).slice(0,s.length)===s},contains:(t,r,i)=>{if(r==null||typeof r=="string"&&r.trim()==="")return!0;if(t==null)return!1;let s=kt(r.toString()).toLocaleLowerCase(i);return kt(t.toString()).toLocaleLowerCase(i).indexOf(s)!==-1},notContains:(t,r,i)=>{if(r==null||typeof r=="string"&&r.trim()==="")return!0;if(t==null)return!1;let s=kt(r.toString()).toLocaleLowerCase(i);return kt(t.toString()).toLocaleLowerCase(i).indexOf(s)===-1},endsWith:(t,r,i)=>{if(r==null||r.trim()==="")return!0;if(t==null)return!1;let s=kt(r.toString()).toLocaleLowerCase(i),o=kt(t.toString()).toLocaleLowerCase(i);return o.indexOf(s,o.length-s.length)!==-1},equals:(t,r,i)=>r==null||typeof r=="string"&&r.trim()===""?!0:t==null?!1:t.getTime&&r.getTime?t.getTime()===r.getTime():t==r?!0:kt(t.toString()).toLocaleLowerCase(i)==kt(r.toString()).toLocaleLowerCase(i),notEquals:(t,r,i)=>r==null||typeof r=="string"&&r.trim()===""?!1:t==null?!0:t.getTime&&r.getTime?t.getTime()!==r.getTime():t==r?!1:kt(t.toString()).toLocaleLowerCase(i)!=kt(r.toString()).toLocaleLowerCase(i),in:(t,r)=>{if(r==null||r.length===0)return!0;for(let i=0;i<r.length;i++)if(af(t,r[i]))return!0;return!1},between:(t,r)=>r==null||r[0]==null||r[1]==null?!0:t==null?!1:t.getTime?r[0].getTime()<=t.getTime()&&t.getTime()<=r[1].getTime():r[0]<=t&&t<=r[1],lt:(t,r,i)=>r==null?!0:t==null?!1:t.getTime&&r.getTime?t.getTime()<r.getTime():t<r,lte:(t,r,i)=>r==null?!0:t==null?!1:t.getTime&&r.getTime?t.getTime()<=r.getTime():t<=r,gt:(t,r,i)=>r==null?!0:t==null?!1:t.getTime&&r.getTime?t.getTime()>r.getTime():t>r,gte:(t,r,i)=>r==null?!0:t==null?!1:t.getTime&&r.getTime?t.getTime()>=r.getTime():t>=r,is:(t,r,i)=>this.filters.equals(t,r,i),isNot:(t,r,i)=>this.filters.notEquals(t,r,i),before:(t,r,i)=>this.filters.lt(t,r,i),after:(t,r,i)=>this.filters.gt(t,r,i),dateIs:(t,r)=>r==null?!0:t==null?!1:t.toDateString()===r.toDateString(),dateIsNot:(t,r)=>r==null?!0:t==null?!1:t.toDateString()!==r.toDateString(),dateBefore:(t,r)=>r==null?!0:t==null?!1:t.getTime()<r.getTime(),dateAfter:(t,r)=>r==null?!0:t==null?!1:(t.setHours(0,0,0,0),t.getTime()>r.getTime())};register(t,r){this.filters[t]=r}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),d$=(()=>{class n{messageSource=new je;clearSource=new je;messageObserver=this.messageSource.asObservable();clearObserver=this.clearSource.asObservable();add(t){t&&this.messageSource.next(t)}addAll(t){t&&t.length&&this.messageSource.next(t)}clear(t){this.clearSource.next(t||null)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),h$=(()=>{class n{clickSource=new je;clickObservable=this.clickSource.asObservable();add(t){t&&this.clickSource.next(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var f$=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ne({type:n,selectors:[["p-header"]],standalone:!1,ngContentSelectors:xb,decls:1,vars:0,template:function(r,i){r&1&&(Yt(),Qt(0))},encapsulation:2})}return n})(),p$=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ne({type:n,selectors:[["p-footer"]],standalone:!1,ngContentSelectors:xb,decls:1,vars:0,template:function(r,i){r&1&&(Yt(),Qt(0))},encapsulation:2})}return n})(),Mb=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(r){return new(r||n)(G(Mo))};static \u0275dir=se({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]}})}return n})(),Ht=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ve({type:n});static \u0275inj=ye({imports:[Ot]})}return n})(),g$=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return n})();var tD=(()=>{class n{theme=Rt(void 0);csp=Rt({nonce:void 0});isThemeChanged=!1;document=O(ge);baseStyle=O(Me);constructor(){es(()=>{xt.on("theme:change",t=>{Et(()=>{this.isThemeChanged=!0,this.theme.set(t)})})}),es(()=>{let t=this.theme();this.document&&t&&(this.isThemeChanged||this.onThemeChange(t),this.isThemeChanged=!1)})}ngOnDestroy(){ae.clearLoadedStyleNames(),xt.clear()}onThemeChange(t){ae.setTheme(t),this.document&&this.loadCommonTheme()}loadCommonTheme(){if(this.theme()!=="none"&&!ae.isStyleNameLoaded("common")){let{primitive:t,semantic:r,global:i,style:s}=this.baseStyle.getCommonTheme?.()||{},o={nonce:this.csp?.()?.nonce};this.baseStyle.load(t?.css,k({name:"primitive-variables"},o)),this.baseStyle.load(r?.css,k({name:"semantic-variables"},o)),this.baseStyle.load(i?.css,k({name:"global-variables"},o)),this.baseStyle.loadGlobalTheme(k({name:"global-style"},o),s),ae.setLoadedStyleName("common")}}setThemeConfig(t){let{theme:r,csp:i}=t||{};r&&this.theme.set(r),i&&this.csp.set(i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lf=(()=>{class n extends tD{ripple=Rt(!1);platformId=O(vt);inputStyle=Rt(null);inputVariant=Rt(null);overlayOptions={};csp=Rt({nonce:void 0});filterMatchModeOptions={text:[tt.STARTS_WITH,tt.CONTAINS,tt.NOT_CONTAINS,tt.ENDS_WITH,tt.EQUALS,tt.NOT_EQUALS],numeric:[tt.EQUALS,tt.NOT_EQUALS,tt.LESS_THAN,tt.LESS_THAN_OR_EQUAL_TO,tt.GREATER_THAN,tt.GREATER_THAN_OR_EQUAL_TO],date:[tt.DATE_IS,tt.DATE_IS_NOT,tt.DATE_BEFORE,tt.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"Search results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",fileChosenMessage:"Files",noFileChosenMessage:"No file chosen",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new je;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation=k(k({},this.translation),t),this.translationSource.next(this.translation)}setConfig(t){let{csp:r,ripple:i,inputStyle:s,inputVariant:o,theme:c,overlayOptions:u,translation:l}=t||{};r&&this.csp.set(r),i&&this.ripple.set(i),s&&this.inputStyle.set(s),o&&this.inputVariant.set(o),u&&(this.overlayOptions=u),l&&this.setTranslation(l),c&&this.setThemeConfig({theme:c,csp:r})}static \u0275fac=(()=>{let t;return function(i){return(t||(t=te(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nD=new q("PRIME_NG_CONFIG");function T$(...n){let e=n?.map(r=>({provide:nD,useValue:r,multi:!1})),t=Fo(()=>{let r=O(lf);n?.forEach(i=>r.setConfig(i))});return Dt([...e,t])}var Fb=(()=>{class n extends Me{name="common";static \u0275fac=(()=>{let t;return function(i){return(t||(t=te(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ze=(()=>{class n{document=O(ge);platformId=O(vt);el=O(yt);injector=O(Je);cd=O(Xt);renderer=O(Bt);config=O(lf);baseComponentStyle=O(Fb);baseStyle=O(Me);scopedStyleEl;rootEl;dt;get styleOptions(){return{nonce:this.config?.csp().nonce}}get _name(){return this.constructor.name.replace(/^_/,"").toLowerCase()}get componentStyle(){return this._componentStyle}attrSelector=ea("pc");themeChangeListeners=[];_getHostInstance(t){if(t)return t?this.hostName?t.name===this.hostName?t:this._getHostInstance(t.parentInstance):t.parentInstance:void 0}_getOptionValue(t,r="",i={}){return lu(t,r,i)}ngOnInit(){this.document&&this._loadStyles()}ngAfterViewInit(){this.rootEl=this.el?.nativeElement,this.rootEl&&this.rootEl?.setAttribute(this.attrSelector,"")}ngOnChanges(t){if(this.document&&!ts(this.platformId)){let{dt:r}=t;r&&r.currentValue&&(this._loadScopedThemeStyles(r.currentValue),this._themeChangeListener(()=>this._loadScopedThemeStyles(r.currentValue)))}}ngOnDestroy(){this._unloadScopedThemeStyles(),this.themeChangeListeners.forEach(t=>xt.off("theme:change",t))}_loadStyles(){let t=()=>{ms.isStyleNameLoaded("base")||(this.baseStyle.loadGlobalCSS(this.styleOptions),ms.setLoadedStyleName("base")),this._loadThemeStyles()};t(),this._themeChangeListener(()=>t())}_loadCoreStyles(){!ms.isStyleNameLoaded("base")&&this._name&&(this.baseComponentStyle.loadCSS(this.styleOptions),this.componentStyle&&this.componentStyle?.loadCSS(this.styleOptions),ms.setLoadedStyleName(this.componentStyle?.name))}_loadThemeStyles(){if(!ae.isStyleNameLoaded("common")){let{primitive:t,semantic:r,global:i,style:s}=this.componentStyle?.getCommonTheme?.()||{};this.baseStyle.load(t?.css,k({name:"primitive-variables"},this.styleOptions)),this.baseStyle.load(r?.css,k({name:"semantic-variables"},this.styleOptions)),this.baseStyle.load(i?.css,k({name:"global-variables"},this.styleOptions)),this.baseStyle.loadGlobalTheme(k({name:"global-style"},this.styleOptions),s),ae.setLoadedStyleName("common")}if(!ae.isStyleNameLoaded(this.componentStyle?.name)&&this.componentStyle?.name){let{css:t,style:r}=this.componentStyle?.getComponentTheme?.()||{};this.componentStyle?.load(t,k({name:`${this.componentStyle?.name}-variables`},this.styleOptions)),this.componentStyle?.loadTheme(k({name:`${this.componentStyle?.name}-style`},this.styleOptions),r),ae.setLoadedStyleName(this.componentStyle?.name)}if(!ae.isStyleNameLoaded("layer-order")){let t=this.componentStyle?.getLayerOrderThemeCSS?.();this.baseStyle.load(t,k({name:"layer-order",first:!0},this.styleOptions)),ae.setLoadedStyleName("layer-order")}this.dt&&(this._loadScopedThemeStyles(this.dt),this._themeChangeListener(()=>this._loadScopedThemeStyles(this.dt)))}_loadScopedThemeStyles(t){let{css:r}=this.componentStyle?.getPresetTheme?.(t,`[${this.attrSelector}]`)||{},i=this.componentStyle?.load(r,k({name:`${this.attrSelector}-${this.componentStyle?.name}`},this.styleOptions));this.scopedStyleEl=i?.el}_unloadScopedThemeStyles(){this.scopedStyleEl?.remove()}_themeChangeListener(t=()=>{}){ms.clearLoadedStyleNames(),xt.on("theme:change",t),this.themeChangeListeners.push(t)}cx(t,r){let i=this.parent?this.parent.componentStyle?.classes?.[t]:this.componentStyle?.classes?.[t];return typeof i=="function"?i({instance:this}):typeof i=="string"?i:t}sx(t){let r=this.componentStyle?.inlineStyles?.[t];return typeof r=="function"?r({instance:this}):typeof r=="string"?r:k({},r)}get parent(){return this.parentInstance}static \u0275fac=function(r){return new(r||n)};static \u0275dir=se({type:n,inputs:{dt:"dt"},features:[Te([Fb,Me]),Xe]})}return n})();var rD=({dt:n})=>`
.p-inputtext {
    font-family: inherit;
    font-feature-settings: inherit;
    font-size: 1rem;
    color: ${n("inputtext.color")};
    background: ${n("inputtext.background")};
    padding-block: ${n("inputtext.padding.y")};
    padding-inline: ${n("inputtext.padding.x")};
    border: 1px solid ${n("inputtext.border.color")};
    transition: background ${n("inputtext.transition.duration")}, color ${n("inputtext.transition.duration")}, border-color ${n("inputtext.transition.duration")}, outline-color ${n("inputtext.transition.duration")}, box-shadow ${n("inputtext.transition.duration")};
    appearance: none;
    border-radius: ${n("inputtext.border.radius")};
    outline-color: transparent;
    box-shadow: ${n("inputtext.shadow")};
}

.p-inputtext.ng-invalid.ng-dirty {
    border-color: ${n("inputtext.invalid.border.color")};
}

.p-inputtext:enabled:hover {
    border-color: ${n("inputtext.hover.border.color")};
}

.p-inputtext:enabled:focus {
    border-color: ${n("inputtext.focus.border.color")};
    box-shadow: ${n("inputtext.focus.ring.shadow")};
    outline: ${n("inputtext.focus.ring.width")} ${n("inputtext.focus.ring.style")} ${n("inputtext.focus.ring.color")};
    outline-offset: ${n("inputtext.focus.ring.offset")};
}

.p-inputtext.p-invalid {
    border-color: ${n("inputtext.invalid.border.color")};
}

.p-inputtext.p-variant-filled {
    background: ${n("inputtext.filled.background")};
}
    
.p-inputtext.p-variant-filled:enabled:hover {
    background: ${n("inputtext.filled.hover.background")};
}

.p-inputtext.p-variant-filled:enabled:focus {
    background: ${n("inputtext.filled.focus.background")};
}

.p-inputtext:disabled {
    opacity: 1;
    background: ${n("inputtext.disabled.background")};
    color: ${n("inputtext.disabled.color")};
}

.p-inputtext::placeholder {
    color: ${n("inputtext.placeholder.color")};
}

.p-inputtext.ng-invalid.ng-dirty::placeholder {
    color: ${n("inputtext.invalid.placeholder.color")};
}

.p-inputtext-sm {
    font-size: ${n("inputtext.sm.font.size")};
    padding-block: ${n("inputtext.sm.padding.y")};
    padding-inline: ${n("inputtext.sm.padding.x")};
}

.p-inputtext-lg {
    font-size: ${n("inputtext.lg.font.size")};
    padding-block: ${n("inputtext.lg.padding.y")};
    padding-inline: ${n("inputtext.lg.padding.x")};
}

.p-inputtext-fluid {
    width: 100%;
}
`,iD={root:({instance:n,props:e})=>["p-inputtext p-component",{"p-filled":n.filled,"p-inputtext-sm":e.size==="small","p-inputtext-lg":e.size==="large","p-invalid":e.invalid,"p-variant-filled":e.variant==="filled","p-inputtext-fluid":e.fluid}]},Lb=(()=>{class n extends Me{name="inputtext";theme=rD;classes=iD;static \u0275fac=(()=>{let t;return function(i){return(t||(t=te(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var K$=(()=>{class n extends ze{ngModel;variant;fluid;pSize;filled;_componentStyle=O(Lb);get hasFluid(){let r=this.el.nativeElement.closest("p-fluid");return et(this.fluid)?!!r:this.fluid}constructor(t){super(),this.ngModel=t}ngAfterViewInit(){super.ngAfterViewInit(),this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(r){return new(r||n)(G(Qh,8))};static \u0275dir=se({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component"],hostVars:14,hostBindings:function(r,i){if(r&1&&$n("input",function(o){return i.onInput(o)}),r&2){let s;Pt("p-filled",i.filled)("p-variant-filled",((s=i.variant)!==null&&s!==void 0?s:i.config.inputStyle()||i.config.inputVariant())==="filled")("p-inputtext-fluid",i.hasFluid)("p-inputtext-sm",i.pSize==="small")("p-inputfield-sm",i.pSize==="small")("p-inputtext-lg",i.pSize==="large")("p-inputfield-lg",i.pSize==="large")}},inputs:{variant:"variant",fluid:[2,"fluid","fluid",he],pSize:"pSize"},features:[Te([Lb]),le]})}return n})(),Y$=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ve({type:n});static \u0275inj=ye({})}return n})();var sD=({dt:n})=>`
/* For PrimeNG */
.p-ripple {
    overflow: hidden;
    position: relative;
}

.p-ink {
    display: block;
    position: absolute;
    background: ${n("ripple.background")};
    border-radius: 100%;
    transform: scale(0);
}

.p-ink-active {
    animation: ripple 0.4s linear;
}

.p-ripple-disabled .p-ink {
    display: none !important;
}

@keyframes ripple {
    100% {
        opacity: 0;
        transform: scale(2.5);
    }
}
`,oD={root:"p-ink"},Vb=(()=>{class n extends Me{name="ripple";theme=sD;classes=oD;static \u0275fac=(()=>{let t;return function(i){return(t||(t=te(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var Ub=(()=>{class n extends ze{zone=O(Ie);_componentStyle=O(Vb);animationListener;mouseDownListener;timeout;constructor(){super(),es(()=>{Bo(this.platformId)&&(this.config.ripple()?this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))}):this.remove())})}ngAfterViewInit(){super.ngAfterViewInit()}onMouseDown(t){let r=this.getInk();if(!r||this.document.defaultView?.getComputedStyle(r,null).display==="none")return;if(ui(r,"p-ink-active"),!nf(r)&&!sf(r)){let c=Math.max(Zh(this.el.nativeElement),cu(this.el.nativeElement));r.style.height=c+"px",r.style.width=c+"px"}let i=rf(this.el.nativeElement),s=t.pageX-i.left+this.document.body.scrollTop-sf(r)/2,o=t.pageY-i.top+this.document.body.scrollLeft-nf(r)/2;this.renderer.setStyle(r,"top",o+"px"),this.renderer.setStyle(r,"left",s+"px"),mr(r,"p-ink-active"),this.timeout=setTimeout(()=>{let c=this.getInk();c&&ui(c,"p-ink-active")},401)}getInk(){let t=this.el.nativeElement.children;for(let r=0;r<t.length;r++)if(typeof t[r].className=="string"&&t[r].className.indexOf("p-ink")!==-1)return t[r];return null}resetInk(){let t=this.getInk();t&&ui(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),ui(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,_b(t))}ngOnDestroy(){this.config&&this.config.ripple()&&this.remove(),super.ngOnDestroy()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=se({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple"],features:[Te([Vb]),le]})}return n})(),sB=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ve({type:n});static \u0275inj=ye({})}return n})();var df=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,r){t&&r&&(t.classList?t.classList.add(r):t.className+=" "+r)}static addMultipleClasses(t,r){if(t&&r)if(t.classList){let i=r.trim().split(" ");for(let s=0;s<i.length;s++)t.classList.add(i[s])}else{let i=r.split(" ");for(let s=0;s<i.length;s++)t.className+=" "+i[s]}}static removeClass(t,r){t&&r&&(t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,r){t&&r&&[r].flat().filter(Boolean).forEach(i=>i.split(" ").forEach(s=>this.removeClass(t,s)))}static hasClass(t,r){return t&&r?t.classList?t.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(t.className):!1}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(r){return r!==t})}static find(t,r){return Array.from(t.querySelectorAll(r))}static findSingle(t,r){return this.isElement(t)?t.querySelector(r):null}static index(t){let r=t.parentNode.childNodes,i=0;for(var s=0;s<r.length;s++){if(r[s]==t)return i;r[s].nodeType==1&&i++}return-1}static indexWithinGroup(t,r){let i=t.parentNode?t.parentNode.childNodes:[],s=0;for(var o=0;o<i.length;o++){if(i[o]==t)return s;i[o].attributes&&i[o].attributes[r]&&i[o].nodeType==1&&s++}return-1}static appendOverlay(t,r,i="self"){i!=="self"&&t&&r&&this.appendChild(t,r)}static alignOverlay(t,r,i="self",s=!0){t&&r&&(s&&(t.style.minWidth=`${n.getOuterWidth(r)}px`),i==="self"?this.relativePosition(t,r):this.absolutePosition(t,r))}static relativePosition(t,r,i=!0){let s=L=>{if(L)return getComputedStyle(L).getPropertyValue("position")==="relative"?L:s(L.parentElement)},o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),c=r.offsetHeight,u=r.getBoundingClientRect(),l=this.getWindowScrollTop(),f=this.getWindowScrollLeft(),p=this.getViewport(),_=s(t)?.getBoundingClientRect()||{top:-1*l,left:-1*f},D,P;u.top+c+o.height>p.height?(D=u.top-_.top-o.height,t.style.transformOrigin="bottom",u.top+D<0&&(D=-1*u.top)):(D=c+u.top-_.top,t.style.transformOrigin="top");let R=u.left+o.width-p.width,$=u.left-_.left;o.width>p.width?P=(u.left-_.left)*-1:R>0?P=$-R:P=u.left-_.left,t.style.top=D+"px",t.style.left=P+"px",i&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(t,r,i=!0){let s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=s.height,c=s.width,u=r.offsetHeight,l=r.offsetWidth,f=r.getBoundingClientRect(),p=this.getWindowScrollTop(),m=this.getWindowScrollLeft(),_=this.getViewport(),D,P;f.top+u+o>_.height?(D=f.top+p-o,t.style.transformOrigin="bottom",D<0&&(D=p)):(D=u+f.top+p,t.style.transformOrigin="top"),f.left+c>_.width?P=Math.max(0,f.left+m+l-c):P=f.left+m,t.style.top=D+"px",t.style.left=P+"px",i&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(t,r=[]){return t.parentNode===null?r:this.getParents(t.parentNode,r.concat([t.parentNode]))}static getScrollableParents(t){let r=[];if(t){let i=this.getParents(t),s=/(auto|scroll)/,o=c=>{let u=window.getComputedStyle(c,null);return s.test(u.getPropertyValue("overflow"))||s.test(u.getPropertyValue("overflowX"))||s.test(u.getPropertyValue("overflowY"))};for(let c of i){let u=c.nodeType===1&&c.dataset.scrollselectors;if(u){let l=u.split(",");for(let f of l){let p=this.findSingle(c,f);p&&o(p)&&r.push(p)}}c.nodeType!==9&&o(c)&&r.push(c)}}return r}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementDimensions(t){let r={};return t.style.visibility="hidden",t.style.display="block",r.width=t.offsetWidth,r.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",r}static scrollInView(t,r){let i=getComputedStyle(t).getPropertyValue("borderTopWidth"),s=i?parseFloat(i):0,o=getComputedStyle(t).getPropertyValue("paddingTop"),c=o?parseFloat(o):0,u=t.getBoundingClientRect(),f=r.getBoundingClientRect().top+document.body.scrollTop-(u.top+document.body.scrollTop)-s-c,p=t.scrollTop,m=t.clientHeight,_=this.getOuterHeight(r);f<0?t.scrollTop=p+f:f+_>m&&(t.scrollTop=p+f-m+_)}static fadeIn(t,r){t.style.opacity=0;let i=+new Date,s=0,o=function(){s=+t.style.opacity.replace(",",".")+(new Date().getTime()-i)/r,t.style.opacity=s,i=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(t,r){var i=1,s=50,o=r,c=s/o;let u=setInterval(()=>{i=i-c,i<=0&&(i=0,clearInterval(u)),t.style.opacity=i},s)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,r){var i=Element.prototype,s=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(o){return[].indexOf.call(document.querySelectorAll(o),this)!==-1};return s.call(t,r)}static getOuterWidth(t,r){let i=t.offsetWidth;if(r){let s=getComputedStyle(t);i+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return i}static getHorizontalPadding(t){let r=getComputedStyle(t);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(t){let r=getComputedStyle(t);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static width(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static getInnerHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),r}static getOuterHeight(t,r){let i=t.offsetHeight;if(r){let s=getComputedStyle(t);i+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return i}static getHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),r}static getWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),r}static getViewport(){let t=window,r=document,i=r.documentElement,s=r.getElementsByTagName("body")[0],o=t.innerWidth||i.clientWidth||s.clientWidth,c=t.innerHeight||i.clientHeight||s.clientHeight;return{width:o,height:c}}static getOffset(t){var r=t.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,r){let i=t.parentNode;if(!i)throw"Can't replace element";return i.replaceChild(r,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent,r=t.indexOf("MSIE ");if(r>0)return!0;var i=t.indexOf("Trident/");if(i>0){var s=t.indexOf("rv:");return!0}var o=t.indexOf("Edge/");return o>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,r){if(this.isElement(r))r.appendChild(t);else if(r&&r.el&&r.el.nativeElement)r.el.nativeElement.appendChild(t);else throw"Cannot append "+r+" to "+t}static removeChild(t,r){if(this.isElement(r))r.removeChild(t);else if(r.el&&r.el.nativeElement)r.el.nativeElement.removeChild(t);else throw"Cannot remove "+t+" from "+r}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return typeof HTMLElement=="object"?t instanceof HTMLElement:t&&typeof t=="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"}static calculateScrollbarWidth(t){if(t){let r=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let i=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=i,i}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let r=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(t,r,i){t[r].apply(t,i)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||t.offsetParent===null}static isVisible(t){return t&&t.offsetParent!=null}static isExist(t){return t!==null&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,r){t&&document.activeElement!==t&&t.focus(r)}static getFocusableSelectorString(t=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`}static getFocusableElements(t,r=""){let i=this.find(t,this.getFocusableSelectorString(r)),s=[];for(let o of i){let c=getComputedStyle(o);this.isVisible(o)&&c.display!="none"&&c.visibility!="hidden"&&s.push(o)}return s}static getFocusableElement(t,r=""){let i=this.findSingle(t,this.getFocusableSelectorString(r));if(i){let s=getComputedStyle(i);if(this.isVisible(i)&&s.display!="none"&&s.visibility!="hidden")return i}return null}static getFirstFocusableElement(t,r=""){let i=this.getFocusableElements(t,r);return i.length>0?i[0]:null}static getLastFocusableElement(t,r){let i=this.getFocusableElements(t,r);return i.length>0?i[i.length-1]:null}static getNextFocusableElement(t,r=!1){let i=n.getFocusableElements(t),s=0;if(i&&i.length>0){let o=i.indexOf(i[0].ownerDocument.activeElement);r?o==-1||o===0?s=i.length-1:s=o-1:o!=-1&&o!==i.length-1&&(s=o+1)}return i[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,r){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return r?.nextElementSibling;case"@prev":return r?.previousElementSibling;case"@parent":return r?.parentElement;case"@grandparent":return r?.parentElement.parentElement;default:let i=typeof t;if(i==="string")return document.querySelector(t);if(i==="object"&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;let o=(c=>!!(c&&c.constructor&&c.call&&c.apply))(t)?t():t;return o&&o.nodeType===9||this.isExist(o)?o:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,r){if(t){let i=t.getAttribute(r);return isNaN(i)?i==="true"||i==="false"?i==="true":i:+i}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}static createElement(t,r={},...i){if(t){let s=document.createElement(t);return this.setAttributes(s,r),s.append(...i),s}}static setAttribute(t,r="",i){this.isElement(t)&&i!==null&&i!==void 0&&t.setAttribute(r,i)}static setAttributes(t,r={}){if(this.isElement(t)){let i=(s,o)=>{let c=t?.$attrs?.[s]?[t?.$attrs?.[s]]:[];return[o].flat().reduce((u,l)=>{if(l!=null){let f=typeof l;if(f==="string"||f==="number")u.push(l);else if(f==="object"){let p=Array.isArray(l)?i(s,l):Object.entries(l).map(([m,_])=>s==="style"&&(_||_===0)?`${m.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${_}`:_?m:void 0);u=p.length?u.concat(p.filter(m=>!!m)):u}}return u},c)};Object.entries(r).forEach(([s,o])=>{if(o!=null){let c=s.match(/^on(.+)/);c?t.addEventListener(c[1].toLowerCase(),o):s==="pBind"?this.setAttributes(t,o):(o=s==="class"?[...new Set(i("class",o))].join(" ").trim():s==="style"?i("style",o).join(";").trim():o,(t.$attrs=t.$attrs||{})&&(t.$attrs[s]=o),t.setAttribute(s,o))}})}}static isFocusableElement(t,r=""){return this.isElement(t)?t.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r}`):!1}}return n})(),$b=class{element;listener;scrollableParents;constructor(e,t=()=>{}){this.element=e,this.listener=t}bindScrollListener(){this.scrollableParents=df.getScrollableParents(this.element);for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}};var Bb=(()=>{class n extends ze{autofocus=!1;_autofocus=!1;focused=!1;platformId=O(vt);document=O(ge);host=O(yt);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){Bo(this.platformId)&&this._autofocus&&setTimeout(()=>{let t=df.getFocusableElements(this.host?.nativeElement);t.length===0&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0})}static \u0275fac=(()=>{let t;return function(i){return(t||(t=te(n)))(i||n)}})();static \u0275dir=se({type:n,selectors:[["","pAutoFocus",""]],inputs:{autofocus:[2,"autofocus","autofocus",he],_autofocus:[0,"pAutoFocus","_autofocus"]},features:[le]})}return n})(),gB=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ve({type:n});static \u0275inj=ye({})}return n})();var aD=({dt:n})=>`
.p-badge {
    display: inline-flex;
    border-radius: ${n("badge.border.radius")};
    justify-content: center;
    padding: ${n("badge.padding")};
    background: ${n("badge.primary.background")};
    color: ${n("badge.primary.color")};
    font-size: ${n("badge.font.size")};
    font-weight: ${n("badge.font.weight")};
    min-width: ${n("badge.min.width")};
    height: ${n("badge.height")};
    line-height: ${n("badge.height")};
}

.p-badge-dot {
    width: ${n("badge.dot.size")};
    min-width: ${n("badge.dot.size")};
    height: ${n("badge.dot.size")};
    border-radius: 50%;
    padding: 0;
}

.p-badge-circle {
    padding: 0;
    border-radius: 50%;
}

.p-badge-secondary {
    background: ${n("badge.secondary.background")};
    color: ${n("badge.secondary.color")};
}

.p-badge-success {
    background: ${n("badge.success.background")};
    color: ${n("badge.success.color")};
}

.p-badge-info {
    background: ${n("badge.info.background")};
    color: ${n("badge.info.color")};
}

.p-badge-warn {
    background: ${n("badge.warn.background")};
    color: ${n("badge.warn.color")};
}

.p-badge-danger {
    background: ${n("badge.danger.background")};
    color: ${n("badge.danger.color")};
}

.p-badge-contrast {
    background: ${n("badge.contrast.background")};
    color: ${n("badge.contrast.color")};
}

.p-badge-sm {
    font-size: ${n("badge.sm.font.size")};
    min-width: ${n("badge.sm.min.width")};
    height: ${n("badge.sm.height")};
    line-height: ${n("badge.sm.height")};
}

.p-badge-lg {
    font-size: ${n("badge.lg.font.size")};
    min-width: ${n("badge.lg.min.width")};
    height: ${n("badge.lg.height")};
    line-height: ${n("badge.lg.height")};
}

.p-badge-xl {
    font-size: ${n("badge.xl.font.size")};
    min-width: ${n("badge.xl.min.width")};
    height: ${n("badge.xl.height")};
    line-height: ${n("badge.xl.height")};
}

/* For PrimeNG (directive)*/

.p-overlay-badge {
    position: relative;
}

.p-overlay-badge > .p-badge {
    position: absolute;
    top: 0;
    inset-inline-end: 0;
    transform: translate(50%, -50%);
    transform-origin: 100% 0;
    margin: 0;
}
`,cD={root:({props:n,instance:e})=>["p-badge p-component",{"p-badge-circle":be(n.value)&&String(n.value).length===1,"p-badge-dot":et(n.value)&&!e.$slots.default,"p-badge-sm":n.size==="small","p-badge-lg":n.size==="large","p-badge-xl":n.size==="xlarge","p-badge-info":n.severity==="info","p-badge-success":n.severity==="success","p-badge-warn":n.severity==="warn","p-badge-danger":n.severity==="danger","p-badge-secondary":n.severity==="secondary","p-badge-contrast":n.severity==="contrast"}]},jb=(()=>{class n extends Me{name="badge";theme=aD;classes=cD;static \u0275fac=(()=>{let t;return function(i){return(t||(t=te(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var hf=(()=>{class n extends ze{styleClass=gn();style=gn();badgeSize=gn();size=gn();severity=gn();value=gn();badgeDisabled=gn(!1,{transform:he});_componentStyle=O(jb);containerClass=Jt(()=>{let t="p-badge p-component";return be(this.value())&&String(this.value()).length===1&&(t+=" p-badge-circle"),this.badgeSize()==="large"?t+=" p-badge-lg":this.badgeSize()==="xlarge"?t+=" p-badge-xl":this.badgeSize()==="small"&&(t+=" p-badge-sm"),et(this.value())&&(t+=" p-badge-dot"),this.styleClass()&&(t+=` ${this.styleClass()}`),this.severity()&&(t+=` p-badge-${this.severity()}`),t});static \u0275fac=(()=>{let t;return function(i){return(t||(t=te(n)))(i||n)}})();static \u0275cmp=Ne({type:n,selectors:[["p-badge"]],hostVars:6,hostBindings:function(r,i){r&2&&(Kv(i.style()),_t(i.containerClass()),Gv("display",i.badgeDisabled()?"none":null))},inputs:{styleClass:[1,"styleClass"],style:[1,"style"],badgeSize:[1,"badgeSize"],size:[1,"size"],severity:[1,"severity"],value:[1,"value"],badgeDisabled:[1,"badgeDisabled"]},features:[Te([jb]),le],decls:1,vars:1,template:function(r,i){r&1&&kc(0),r&2&&xc(i.value())},dependencies:[Ot,Ht],encapsulation:2,changeDetection:0})}return n})(),zb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ve({type:n});static \u0275inj=ye({imports:[hf,Ht,Ht]})}return n})();var lD=["*"],dD=`
.p-icon {
    display: inline-block;
    vertical-align: baseline;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,hD=(()=>{class n extends Me{name="baseicon";inlineStyles=dD;static \u0275fac=(()=>{let t;return function(i){return(t||(t=te(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var ys=(()=>{class n extends ze{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){super.ngOnInit(),this.getAttributes()}getAttributes(){let t=et(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=(()=>{let t;return function(i){return(t||(t=te(n)))(i||n)}})();static \u0275cmp=Ne({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-component","p-iconwrapper"],inputs:{label:"label",spin:[2,"spin","spin",he],styleClass:"styleClass"},features:[Te([hD]),le],ngContentSelectors:lD,decls:1,vars:0,template:function(r,i){r&1&&(Yt(),Qt(0))},encapsulation:2,changeDetection:0})}return n})();var BB=(()=>{class n extends ys{static \u0275fac=(()=>{let t;return function(i){return(t||(t=te(n)))(i||n)}})();static \u0275cmp=Ne({type:n,selectors:[["CheckIcon"]],features:[le],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(r,i){r&1&&(Qi(),mn(0,"svg",0),bt(1,"path",1),yn()),r&2&&(_t(i.getClassNames()),ut("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})();var Hb=(()=>{class n extends ys{pathId;ngOnInit(){this.pathId="url(#"+ea()+")"}static \u0275fac=(()=>{let t;return function(i){return(t||(t=te(n)))(i||n)}})();static \u0275cmp=Ne({type:n,selectors:[["SpinnerIcon"]],features:[le],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,i){r&1&&(Qi(),mn(0,"svg",0)(1,"g"),bt(2,"path",1),yn(),mn(3,"defs")(4,"clipPath",2),bt(5,"rect",3),yn()()()),r&2&&(_t(i.getClassNames()),ut("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),ct(),ut("clip-path",i.pathId),ct(3),ke("id",i.pathId))},encapsulation:2})}return n})();var GB=(()=>{class n extends ys{static \u0275fac=(()=>{let t;return function(i){return(t||(t=te(n)))(i||n)}})();static \u0275cmp=Ne({type:n,selectors:[["TimesIcon"]],features:[le],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(r,i){r&1&&(Qi(),mn(0,"svg",0),bt(1,"path",1),yn()),r&2&&(_t(i.getClassNames()),ut("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})();var fD=["content"],pD=["loading"],gD=["icon"],mD=["*"],Gb=n=>({class:n});function yD(n,e){n&1&&Yv(0)}function vD(n,e){if(n&1&&bt(0,"span",8),n&2){let t=Kt(3);ke("ngClass",t.iconClass()),ut("aria-hidden",!0)("data-pc-section","loadingicon")}}function _D(n,e){if(n&1&&bt(0,"SpinnerIcon",9),n&2){let t=Kt(3);ke("styleClass",t.spinnerIconClass())("spin",!0),ut("aria-hidden",!0)("data-pc-section","loadingicon")}}function bD(n,e){if(n&1&&(Oc(0),ni(1,vD,1,3,"span",6)(2,_D,1,4,"SpinnerIcon",7),Nc()),n&2){let t=Kt(2);ct(),ke("ngIf",t.loadingIcon),ct(),ke("ngIf",!t.loadingIcon)}}function ED(n,e){}function wD(n,e){if(n&1&&ni(0,ED,0,0,"ng-template",10),n&2){let t=Kt(2);ke("ngIf",t.loadingIconTemplate||t._loadingIconTemplate)}}function ID(n,e){if(n&1&&(Oc(0),ni(1,bD,3,2,"ng-container",2)(2,wD,1,1,null,5),Nc()),n&2){let t=Kt();ct(),ke("ngIf",!t.loadingIconTemplate&&!t._loadingIconTemplate),ct(),ke("ngTemplateOutlet",t.loadingIconTemplate||t._loadingIconTemplate)("ngTemplateOutletContext",ch(3,Gb,t.iconClass()))}}function TD(n,e){if(n&1&&bt(0,"span",8),n&2){let t=Kt(2);_t(t.icon),ke("ngClass",t.iconClass()),ut("data-pc-section","icon")}}function SD(n,e){}function CD(n,e){if(n&1&&ni(0,SD,0,0,"ng-template",10),n&2){let t=Kt(2);ke("ngIf",!t.icon&&(t.iconTemplate||t._iconTemplate))}}function AD(n,e){if(n&1&&(Oc(0),ni(1,TD,1,4,"span",11)(2,CD,1,1,null,5),Nc()),n&2){let t=Kt();ct(),ke("ngIf",t.icon&&!t.iconTemplate&&!t._iconTemplate),ct(),ke("ngTemplateOutlet",t.iconTemplate||t._iconTemplate)("ngTemplateOutletContext",ch(3,Gb,t.iconClass()))}}function DD(n,e){if(n&1&&(mn(0,"span",12),kc(1),yn()),n&2){let t=Kt();ut("aria-hidden",t.icon&&!t.label)("data-pc-section","label"),ct(),xc(t.label)}}function RD(n,e){if(n&1&&bt(0,"p-badge",13),n&2){let t=Kt();ke("value",t.badge)("severity",t.badgeSeverity)}}var PD=({dt:n})=>`
.p-button {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    color: ${n("button.primary.color")};
    background: ${n("button.primary.background")};
    border: 1px solid ${n("button.primary.border.color")};
    padding-block: ${n("button.padding.y")};
    padding-inline: ${n("button.padding.x")};
    font-size: 1rem;
    font-family: inherit;
    font-feature-settings: inherit;
    transition: background ${n("button.transition.duration")}, color ${n("button.transition.duration")}, border-color ${n("button.transition.duration")},
            outline-color ${n("button.transition.duration")}, box-shadow ${n("button.transition.duration")};
    border-radius: ${n("button.border.radius")};
    outline-color: transparent;
    gap: ${n("button.gap")};
}

.p-button-icon,
.p-button-icon:before,
.p-button-icon:after {
    line-height: inherit;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-right {
    order: 1;
}

.p-button-icon-right:dir(rtl) {
    order: -1;
}

.p-button:not(.p-button-vertical) .p-button-icon:not(.p-button-icon-right):dir(rtl) {
    order: 1;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-icon-only {
    width: ${n("button.icon.only.width")};
    padding-inline-start: 0;
    padding-inline-end: 0;
    gap: 0;
}

.p-button-icon-only.p-button-rounded {
    border-radius: 50%;
    height: ${n("button.icon.only.width")};
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
}

.p-button-sm {
    font-size: ${n("button.sm.font.size")};
    padding-block: ${n("button.sm.padding.y")};
    padding-inline: ${n("button.sm.padding.x")};
}

.p-button-sm .p-button-icon {
    font-size: ${n("button.sm.font.size")};
}

.p-button-lg {
    font-size: ${n("button.lg.font.size")};
    padding-block: ${n("button.lg.padding.y")};
    padding-inline: ${n("button.lg.padding.x")};
}

.p-button-lg .p-button-icon {
    font-size: ${n("button.lg.font.size")};
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-label {
    font-weight: ${n("button.label.font.weight")};
}

.p-button-fluid {
    width: 100%;
}

.p-button-fluid.p-button-icon-only {
    width: ${n("button.icon.only.width")};
}

.p-button:not(:disabled):hover {
    background: ${n("button.primary.hover.background")};
    border: 1px solid ${n("button.primary.hover.border.color")};
    color: ${n("button.primary.hover.color")};
}

.p-button:not(:disabled):active {
    background: ${n("button.primary.active.background")};
    border: 1px solid ${n("button.primary.active.border.color")};
    color: ${n("button.primary.active.color")};
}

.p-button:focus-visible {
    box-shadow: ${n("button.primary.focus.ring.shadow")};
    outline: ${n("button.focus.ring.width")} ${n("button.focus.ring.style")} ${n("button.primary.focus.ring.color")};
    outline-offset: ${n("button.focus.ring.offset")};
}

.p-button .p-badge {
    min-width: ${n("button.badge.size")};
    height: ${n("button.badge.size")};
    line-height: ${n("button.badge.size")};
}

.p-button-raised {
    box-shadow: ${n("button.raised.shadow")};
}

.p-button-rounded {
    border-radius: ${n("button.rounded.border.radius")};
}

.p-button-secondary {
    background: ${n("button.secondary.background")};
    border: 1px solid ${n("button.secondary.border.color")};
    color: ${n("button.secondary.color")};
}

.p-button-secondary:not(:disabled):hover {
    background: ${n("button.secondary.hover.background")};
    border: 1px solid ${n("button.secondary.hover.border.color")};
    color: ${n("button.secondary.hover.color")};
}

.p-button-secondary:not(:disabled):active {
    background: ${n("button.secondary.active.background")};
    border: 1px solid ${n("button.secondary.active.border.color")};
    color: ${n("button.secondary.active.color")};
}

.p-button-secondary:focus-visible {
    outline-color: ${n("button.secondary.focus.ring.color")};
    box-shadow: ${n("button.secondary.focus.ring.shadow")};
}

.p-button-success {
    background: ${n("button.success.background")};
    border: 1px solid ${n("button.success.border.color")};
    color: ${n("button.success.color")};
}

.p-button-success:not(:disabled):hover {
    background: ${n("button.success.hover.background")};
    border: 1px solid ${n("button.success.hover.border.color")};
    color: ${n("button.success.hover.color")};
}

.p-button-success:not(:disabled):active {
    background: ${n("button.success.active.background")};
    border: 1px solid ${n("button.success.active.border.color")};
    color: ${n("button.success.active.color")};
}

.p-button-success:focus-visible {
    outline-color: ${n("button.success.focus.ring.color")};
    box-shadow: ${n("button.success.focus.ring.shadow")};
}

.p-button-info {
    background: ${n("button.info.background")};
    border: 1px solid ${n("button.info.border.color")};
    color: ${n("button.info.color")};
}

.p-button-info:not(:disabled):hover {
    background: ${n("button.info.hover.background")};
    border: 1px solid ${n("button.info.hover.border.color")};
    color: ${n("button.info.hover.color")};
}

.p-button-info:not(:disabled):active {
    background: ${n("button.info.active.background")};
    border: 1px solid ${n("button.info.active.border.color")};
    color: ${n("button.info.active.color")};
}

.p-button-info:focus-visible {
    outline-color: ${n("button.info.focus.ring.color")};
    box-shadow: ${n("button.info.focus.ring.shadow")};
}

.p-button-warn {
    background: ${n("button.warn.background")};
    border: 1px solid ${n("button.warn.border.color")};
    color: ${n("button.warn.color")};
}

.p-button-warn:not(:disabled):hover {
    background: ${n("button.warn.hover.background")};
    border: 1px solid ${n("button.warn.hover.border.color")};
    color: ${n("button.warn.hover.color")};
}

.p-button-warn:not(:disabled):active {
    background: ${n("button.warn.active.background")};
    border: 1px solid ${n("button.warn.active.border.color")};
    color: ${n("button.warn.active.color")};
}

.p-button-warn:focus-visible {
    outline-color: ${n("button.warn.focus.ring.color")};
    box-shadow: ${n("button.warn.focus.ring.shadow")};
}

.p-button-help {
    background: ${n("button.help.background")};
    border: 1px solid ${n("button.help.border.color")};
    color: ${n("button.help.color")};
}

.p-button-help:not(:disabled):hover {
    background: ${n("button.help.hover.background")};
    border: 1px solid ${n("button.help.hover.border.color")};
    color: ${n("button.help.hover.color")};
}

.p-button-help:not(:disabled):active {
    background: ${n("button.help.active.background")};
    border: 1px solid ${n("button.help.active.border.color")};
    color: ${n("button.help.active.color")};
}

.p-button-help:focus-visible {
    outline-color: ${n("button.help.focus.ring.color")};
    box-shadow: ${n("button.help.focus.ring.shadow")};
}

.p-button-danger {
    background: ${n("button.danger.background")};
    border: 1px solid ${n("button.danger.border.color")};
    color: ${n("button.danger.color")};
}

.p-button-danger:not(:disabled):hover {
    background: ${n("button.danger.hover.background")};
    border: 1px solid ${n("button.danger.hover.border.color")};
    color: ${n("button.danger.hover.color")};
}

.p-button-danger:not(:disabled):active {
    background: ${n("button.danger.active.background")};
    border: 1px solid ${n("button.danger.active.border.color")};
    color: ${n("button.danger.active.color")};
}

.p-button-danger:focus-visible {
    outline-color: ${n("button.danger.focus.ring.color")};
    box-shadow: ${n("button.danger.focus.ring.shadow")};
}

.p-button-contrast {
    background: ${n("button.contrast.background")};
    border: 1px solid ${n("button.contrast.border.color")};
    color: ${n("button.contrast.color")};
}

.p-button-contrast:not(:disabled):hover {
    background: ${n("button.contrast.hover.background")};
    border: 1px solid ${n("button.contrast.hover.border.color")};
    color: ${n("button.contrast.hover.color")};
}

.p-button-contrast:not(:disabled):active {
    background: ${n("button.contrast.active.background")};
    border: 1px solid ${n("button.contrast.active.border.color")};
    color: ${n("button.contrast.active.color")};
}

.p-button-contrast:focus-visible {
    outline-color: ${n("button.contrast.focus.ring.color")};
    box-shadow: ${n("button.contrast.focus.ring.shadow")};
}

.p-button-outlined {
    background: transparent;
    border-color: ${n("button.outlined.primary.border.color")};
    color: ${n("button.outlined.primary.color")};
}

.p-button-outlined:not(:disabled):hover {
    background: ${n("button.outlined.primary.hover.background")};
    border-color: ${n("button.outlined.primary.border.color")};
    color: ${n("button.outlined.primary.color")};
}

.p-button-outlined:not(:disabled):active {
    background: ${n("button.outlined.primary.active.background")};
    border-color: ${n("button.outlined.primary.border.color")};
    color: ${n("button.outlined.primary.color")};
}

.p-button-outlined.p-button-secondary {
    border-color: ${n("button.outlined.secondary.border.color")};
    color: ${n("button.outlined.secondary.color")};
}

.p-button-outlined.p-button-secondary:not(:disabled):hover {
    background: ${n("button.outlined.secondary.hover.background")};
    border-color: ${n("button.outlined.secondary.border.color")};
    color: ${n("button.outlined.secondary.color")};
}

.p-button-outlined.p-button-secondary:not(:disabled):active {
    background: ${n("button.outlined.secondary.active.background")};
    border-color: ${n("button.outlined.secondary.border.color")};
    color: ${n("button.outlined.secondary.color")};
}

.p-button-outlined.p-button-success {
    border-color: ${n("button.outlined.success.border.color")};
    color: ${n("button.outlined.success.color")};
}

.p-button-outlined.p-button-success:not(:disabled):hover {
    background: ${n("button.outlined.success.hover.background")};
    border-color: ${n("button.outlined.success.border.color")};
    color: ${n("button.outlined.success.color")};
}

.p-button-outlined.p-button-success:not(:disabled):active {
    background: ${n("button.outlined.success.active.background")};
    border-color: ${n("button.outlined.success.border.color")};
    color: ${n("button.outlined.success.color")};
}

.p-button-outlined.p-button-info {
    border-color: ${n("button.outlined.info.border.color")};
    color: ${n("button.outlined.info.color")};
}

.p-button-outlined.p-button-info:not(:disabled):hover {
    background: ${n("button.outlined.info.hover.background")};
    border-color: ${n("button.outlined.info.border.color")};
    color: ${n("button.outlined.info.color")};
}

.p-button-outlined.p-button-info:not(:disabled):active {
    background: ${n("button.outlined.info.active.background")};
    border-color: ${n("button.outlined.info.border.color")};
    color: ${n("button.outlined.info.color")};
}

.p-button-outlined.p-button-warn {
    border-color: ${n("button.outlined.warn.border.color")};
    color: ${n("button.outlined.warn.color")};
}

.p-button-outlined.p-button-warn:not(:disabled):hover {
    background: ${n("button.outlined.warn.hover.background")};
    border-color: ${n("button.outlined.warn.border.color")};
    color: ${n("button.outlined.warn.color")};
}

.p-button-outlined.p-button-warn:not(:disabled):active {
    background: ${n("button.outlined.warn.active.background")};
    border-color: ${n("button.outlined.warn.border.color")};
    color: ${n("button.outlined.warn.color")};
}

.p-button-outlined.p-button-help {
    border-color: ${n("button.outlined.help.border.color")};
    color: ${n("button.outlined.help.color")};
}

.p-button-outlined.p-button-help:not(:disabled):hover {
    background: ${n("button.outlined.help.hover.background")};
    border-color: ${n("button.outlined.help.border.color")};
    color: ${n("button.outlined.help.color")};
}

.p-button-outlined.p-button-help:not(:disabled):active {
    background: ${n("button.outlined.help.active.background")};
    border-color: ${n("button.outlined.help.border.color")};
    color: ${n("button.outlined.help.color")};
}

.p-button-outlined.p-button-danger {
    border-color: ${n("button.outlined.danger.border.color")};
    color: ${n("button.outlined.danger.color")};
}

.p-button-outlined.p-button-danger:not(:disabled):hover {
    background: ${n("button.outlined.danger.hover.background")};
    border-color: ${n("button.outlined.danger.border.color")};
    color: ${n("button.outlined.danger.color")};
}

.p-button-outlined.p-button-danger:not(:disabled):active {
    background: ${n("button.outlined.danger.active.background")};
    border-color: ${n("button.outlined.danger.border.color")};
    color: ${n("button.outlined.danger.color")};
}

.p-button-outlined.p-button-contrast {
    border-color: ${n("button.outlined.contrast.border.color")};
    color: ${n("button.outlined.contrast.color")};
}

.p-button-outlined.p-button-contrast:not(:disabled):hover {
    background: ${n("button.outlined.contrast.hover.background")};
    border-color: ${n("button.outlined.contrast.border.color")};
    color: ${n("button.outlined.contrast.color")};
}

.p-button-outlined.p-button-contrast:not(:disabled):active {
    background: ${n("button.outlined.contrast.active.background")};
    border-color: ${n("button.outlined.contrast.border.color")};
    color: ${n("button.outlined.contrast.color")};
}

.p-button-outlined.p-button-plain {
    border-color: ${n("button.outlined.plain.border.color")};
    color: ${n("button.outlined.plain.color")};
}

.p-button-outlined.p-button-plain:not(:disabled):hover {
    background: ${n("button.outlined.plain.hover.background")};
    border-color: ${n("button.outlined.plain.border.color")};
    color: ${n("button.outlined.plain.color")};
}

.p-button-outlined.p-button-plain:not(:disabled):active {
    background: ${n("button.outlined.plain.active.background")};
    border-color: ${n("button.outlined.plain.border.color")};
    color: ${n("button.outlined.plain.color")};
}

.p-button-text {
    background: transparent;
    border-color: transparent;
    color: ${n("button.text.primary.color")};
}

.p-button-text:not(:disabled):hover {
    background: ${n("button.text.primary.hover.background")};
    border-color: transparent;
    color: ${n("button.text.primary.color")};
}

.p-button-text:not(:disabled):active {
    background: ${n("button.text.primary.active.background")};
    border-color: transparent;
    color: ${n("button.text.primary.color")};
}

.p-button-text.p-button-secondary {
    background: transparent;
    border-color: transparent;
    color: ${n("button.text.secondary.color")};
}

.p-button-text.p-button-secondary:not(:disabled):hover {
    background: ${n("button.text.secondary.hover.background")};
    border-color: transparent;
    color: ${n("button.text.secondary.color")};
}

.p-button-text.p-button-secondary:not(:disabled):active {
    background: ${n("button.text.secondary.active.background")};
    border-color: transparent;
    color: ${n("button.text.secondary.color")};
}

.p-button-text.p-button-success {
    background: transparent;
    border-color: transparent;
    color: ${n("button.text.success.color")};
}

.p-button-text.p-button-success:not(:disabled):hover {
    background: ${n("button.text.success.hover.background")};
    border-color: transparent;
    color: ${n("button.text.success.color")};
}

.p-button-text.p-button-success:not(:disabled):active {
    background: ${n("button.text.success.active.background")};
    border-color: transparent;
    color: ${n("button.text.success.color")};
}

.p-button-text.p-button-info {
    background: transparent;
    border-color: transparent;
    color: ${n("button.text.info.color")};
}

.p-button-text.p-button-info:not(:disabled):hover {
    background: ${n("button.text.info.hover.background")};
    border-color: transparent;
    color: ${n("button.text.info.color")};
}

.p-button-text.p-button-info:not(:disabled):active {
    background: ${n("button.text.info.active.background")};
    border-color: transparent;
    color: ${n("button.text.info.color")};
}

.p-button-text.p-button-warn {
    background: transparent;
    border-color: transparent;
    color: ${n("button.text.warn.color")};
}

.p-button-text.p-button-warn:not(:disabled):hover {
    background: ${n("button.text.warn.hover.background")};
    border-color: transparent;
    color: ${n("button.text.warn.color")};
}

.p-button-text.p-button-warn:not(:disabled):active {
    background: ${n("button.text.warn.active.background")};
    border-color: transparent;
    color: ${n("button.text.warn.color")};
}

.p-button-text.p-button-help {
    background: transparent;
    border-color: transparent;
    color: ${n("button.text.help.color")};
}

.p-button-text.p-button-help:not(:disabled):hover {
    background: ${n("button.text.help.hover.background")};
    border-color: transparent;
    color: ${n("button.text.help.color")};
}

.p-button-text.p-button-help:not(:disabled):active {
    background: ${n("button.text.help.active.background")};
    border-color: transparent;
    color: ${n("button.text.help.color")};
}

.p-button-text.p-button-danger {
    background: transparent;
    border-color: transparent;
    color: ${n("button.text.danger.color")};
}

.p-button-text.p-button-danger:not(:disabled):hover {
    background: ${n("button.text.danger.hover.background")};
    border-color: transparent;
    color: ${n("button.text.danger.color")};
}

.p-button-text.p-button-danger:not(:disabled):active {
    background: ${n("button.text.danger.active.background")};
    border-color: transparent;
    color: ${n("button.text.danger.color")};
}

.p-button-text.p-button-plain {
    background: transparent;
    border-color: transparent;
    color: ${n("button.text.plain.color")};
}

.p-button-text.p-button-plain:not(:disabled):hover {
    background: ${n("button.text.plain.hover.background")};
    border-color: transparent;
    color: ${n("button.text.plain.color")};
}

.p-button-text.p-button-plain:not(:disabled):active {
    background: ${n("button.text.plain.active.background")};
    border-color: transparent;
    color: ${n("button.text.plain.color")};
}

.p-button-text.p-button-contrast {
    background: transparent;
    border-color: transparent;
    color: ${n("button.text.contrast.color")};
}

.p-button-text.p-button-contrast:not(:disabled):hover {
    background: ${n("button.text.contrast.hover.background")};
    border-color: transparent;
    color: ${n("button.text.contrast.color")};
}

.p-button-text.p-button-contrast:not(:disabled):active {
    background: ${n("button.text.contrast.active.background")};
    border-color: transparent;
    color: ${n("button.text.contrast.color")};
}

.p-button-link {
    background: transparent;
    border-color: transparent;
    color: ${n("button.link.color")};
}

.p-button-link:not(:disabled):hover {
    background: transparent;
    border-color: transparent;
    color: ${n("button.link.hover.color")};
}

.p-button-link:not(:disabled):hover .p-button-label {
    text-decoration: underline;
}

.p-button-link:not(:disabled):active {
    background: transparent;
    border-color: transparent;
    color: ${n("button.link.active.color")};
}

/* For PrimeNG */
.p-button-icon-right {
    order: 1;
}

p-button[iconpos='right'] spinnericon {
    order: 1;
}
`,OD={root:({instance:n,props:e})=>["p-button p-component",{"p-button-icon-only":n.hasIcon&&!e.label&&!e.badge,"p-button-vertical":(e.iconPos==="top"||e.iconPos==="bottom")&&e.label,"p-button-loading":e.loading,"p-button-link":e.link,[`p-button-${e.severity}`]:e.severity,"p-button-raised":e.raised,"p-button-rounded":e.rounded,"p-button-text":e.text,"p-button-outlined":e.outlined,"p-button-sm":e.size==="small","p-button-lg":e.size==="large","p-button-plain":e.plain,"p-button-fluid":e.fluid}],loadingIcon:"p-button-loading-icon",icon:({props:n})=>["p-button-icon",{[`p-button-icon-${n.iconPos}`]:n.label}],label:"p-button-label"},_r=(()=>{class n extends Me{name="button";theme=PD;classes=OD;static \u0275fac=(()=>{let t;return function(i){return(t||(t=te(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var vr={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},qb=(()=>{class n extends ze{_componentStyle=O(_r);static \u0275fac=(()=>{let t;return function(i){return(t||(t=te(n)))(i||n)}})();static \u0275dir=se({type:n,selectors:[["","pButtonLabel",""]],hostVars:2,hostBindings:function(r,i){r&2&&Pt("p-button-label",!0)},features:[Te([_r]),le]})}return n})(),Wb=(()=>{class n extends ze{_componentStyle=O(_r);static \u0275fac=(()=>{let t;return function(i){return(t||(t=te(n)))(i||n)}})();static \u0275dir=se({type:n,selectors:[["","pButtonIcon",""]],hostVars:2,hostBindings:function(r,i){r&2&&Pt("p-button-icon",!0)},features:[Te([_r]),le]})}return n})(),g4=(()=>{class n extends ze{iconPos="left";loadingIcon;set label(t){this._label=t,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}set icon(t){this._icon=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(t){this._loading=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}_buttonProps;iconSignal=rh(Wb);labelSignal=rh(qb);isIconOnly=Jt(()=>!!(!this.labelSignal()&&this.iconSignal()));set buttonProps(t){this._buttonProps=t,t&&typeof t=="object"&&Object.entries(t).forEach(([r,i])=>this[`_${r}`]!==i&&(this[`_${r}`]=i))}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;fluid;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(vr);isTextButton=Jt(()=>!!(!this.iconSignal()&&this.labelSignal()&&this.text));get label(){return this._label}get icon(){return this._icon}get buttonProps(){return this._buttonProps}spinnerIcon=`<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="p-icon-spin">
        <g clip-path="url(#clip0_417_21408)">
            <path
                d="M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z"
                fill="currentColor"
            />
        </g>
        <defs>
            <clipPath id="clip0_417_21408">
                <rect width="14" height="14" fill="white" />
            </clipPath>
        </defs>
    </svg>`;_componentStyle=O(_r);ngAfterViewInit(){super.ngAfterViewInit(),mr(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}ngOnChanges(t){super.ngOnChanges(t);let{buttonProps:r}=t;if(r){let i=r.currentValue;for(let s in i)this[s]=i[s]}}getStyleClass(){let t=[vr.button,vr.component];return this.icon&&!this.label&&et(this.htmlElement.textContent)&&t.push(vr.iconOnly),this.loading&&(t.push(vr.disabled,vr.loading),!this.icon&&this.label&&t.push(vr.labelOnly),this.icon&&!this.label&&!et(this.htmlElement.textContent)&&t.push(vr.iconOnly)),this.text&&t.push("p-button-text"),this.severity&&t.push(`p-button-${this.severity}`),this.plain&&t.push("p-button-plain"),this.raised&&t.push("p-button-raised"),this.size&&t.push(`p-button-${this.size}`),this.outlined&&t.push("p-button-outlined"),this.rounded&&t.push("p-button-rounded"),this.size==="small"&&t.push("p-button-sm"),this.size==="large"&&t.push("p-button-lg"),this.hasFluid&&t.push("p-button-fluid"),t}get hasFluid(){let r=this.el.nativeElement.closest("p-fluid");return et(this.fluid)?!!r:this.fluid}setStyleClass(){let t=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...t)}createLabel(){if(!hs(this.htmlElement,".p-button-label")&&this.label){let r=this.document.createElement("span");this.icon&&!this.label&&r.setAttribute("aria-hidden","true"),r.className="p-button-label",r.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(r)}}createIcon(){if(!hs(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let r=this.document.createElement("span");r.className="p-button-icon",r.setAttribute("aria-hidden","true");let i=this.label?"p-button-icon-"+this.iconPos:null;i&&mr(r,i);let s=this.getIconClass();s&&mr(r,s),!this.loadingIcon&&this.loading&&(r.innerHTML=this.spinnerIcon),this.htmlElement.insertBefore(r,this.htmlElement.firstChild)}}updateLabel(){let t=hs(this.htmlElement,".p-button-label");if(!this.label){t&&this.htmlElement.removeChild(t);return}t?t.textContent=this.label:this.createLabel()}updateIcon(){let t=hs(this.htmlElement,".p-button-icon"),r=hs(this.htmlElement,".p-button-label");this.loading&&!this.loadingIcon&&t?t.innerHTML=this.spinnerIcon:t?.innerHTML&&(t.innerHTML=""),t?this.iconPos?t.className="p-button-icon "+(r?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():t.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon "+(this.loadingIcon?this.loadingIcon:"p-icon"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1,super.ngOnDestroy()}static \u0275fac=(()=>{let t;return function(i){return(t||(t=te(n)))(i||n)}})();static \u0275dir=se({type:n,selectors:[["","pButton",""]],contentQueries:function(r,i,s){r&1&&(ah(s,i.iconSignal,Wb,5),ah(s,i.labelSignal,qb,5)),r&2&&Qv(2)},hostVars:4,hostBindings:function(r,i){r&2&&Pt("p-button-icon-only",i.isIconOnly())("p-button-text",i.isTextButton())},inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",loading:"loading",severity:"severity",raised:[2,"raised","raised",he],rounded:[2,"rounded","rounded",he],text:[2,"text","text",he],outlined:[2,"outlined","outlined",he],size:"size",plain:[2,"plain","plain",he],fluid:[2,"fluid","fluid",he],label:"label",icon:"icon",buttonProps:"buttonProps"},features:[Te([_r]),le,Xe]})}return n})(),ND=(()=>{class n extends ze{type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;variant;style;styleClass;badgeClass;badgeSeverity="secondary";ariaLabel;autofocus;fluid;onClick=new Ze;onFocus=new Ze;onBlur=new Ze;contentTemplate;loadingIconTemplate;iconTemplate;_buttonProps;get buttonProps(){return this._buttonProps}set buttonProps(t){this._buttonProps=t,t&&typeof t=="object"&&Object.entries(t).forEach(([r,i])=>this[`_${r}`]!==i&&(this[`_${r}`]=i))}get hasFluid(){let r=this.el.nativeElement.closest("p-fluid");return et(this.fluid)?!!r:this.fluid}_componentStyle=O(_r);templates;_contentTemplate;_iconTemplate;_loadingIconTemplate;ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"icon":this.iconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}ngOnChanges(t){super.ngOnChanges(t);let{buttonProps:r}=t;if(r){let i=r.currentValue;for(let s in i)this[s]=i[s]}}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,t])=>!!t).reduce((t,[r])=>t+` ${r}`,"p-button-loading-icon")}iconClass(){return{[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]:this.loading,"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label}}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate||this._loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text||this.variant=="text","p-button-outlined":this.outlined||this.variant=="outlined","p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,"p-button-fluid":this.hasFluid,[`${this.styleClass}`]:this.styleClass}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=te(n)))(i||n)}})();static \u0275cmp=Ne({type:n,selectors:[["p-button"]],contentQueries:function(r,i,s){if(r&1&&(ri(s,fD,5),ri(s,pD,5),ri(s,gD,5),ri(s,Mb,4)),r&2){let o;ii(o=si())&&(i.contentTemplate=o.first),ii(o=si())&&(i.loadingIconTemplate=o.first),ii(o=si())&&(i.iconTemplate=o.first),ii(o=si())&&(i.templates=o)}},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[2,"disabled","disabled",he],loading:[2,"loading","loading",he],loadingIcon:"loadingIcon",raised:[2,"raised","raised",he],rounded:[2,"rounded","rounded",he],text:[2,"text","text",he],plain:[2,"plain","plain",he],severity:"severity",outlined:[2,"outlined","outlined",he],link:[2,"link","link",he],tabindex:[2,"tabindex","tabindex",lh],size:"size",variant:"variant",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",badgeSeverity:"badgeSeverity",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",he],fluid:[2,"fluid","fluid",he],buttonProps:"buttonProps"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[Te([_r]),le,Xe],ngContentSelectors:mD,decls:7,vars:14,consts:[["pRipple","",3,"click","focus","blur","ngStyle","disabled","ngClass","pAutoFocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"value","severity",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[3,"class","ngClass",4,"ngIf"],[1,"p-button-label"],[3,"value","severity"]],template:function(r,i){r&1&&(Yt(),mn(0,"button",0),$n("click",function(o){return i.onClick.emit(o)})("focus",function(o){return i.onFocus.emit(o)})("blur",function(o){return i.onBlur.emit(o)}),Qt(1),ni(2,yD,1,0,"ng-container",1)(3,ID,3,5,"ng-container",2)(4,AD,3,5,"ng-container",2)(5,DD,2,3,"span",3)(6,RD,1,2,"p-badge",4),yn()),r&2&&(ke("ngStyle",i.style)("disabled",i.disabled||i.loading)("ngClass",i.buttonClass)("pAutoFocus",i.autofocus),ut("type",i.type)("aria-label",i.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",i.tabindex),ct(2),ke("ngTemplateOutlet",i.contentTemplate||i._contentTemplate),ct(),ke("ngIf",i.loading),ct(),ke("ngIf",!i.loading),ct(),ke("ngIf",!i.contentTemplate&&!i._contentTemplate&&i.label),ct(),ke("ngIf",!i.contentTemplate&&!i._contentTemplate&&i.badge))},dependencies:[Ot,yh,vh,bh,_h,Ub,Bb,Hb,zb,hf,Ht],encapsulation:2,changeDetection:0})}return n})(),m4=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ve({type:n});static \u0275inj=ye({imports:[Ot,ND,Ht,Ht]})}return n})();var kD=["*"],xD=({dt:n})=>`
.p-iconfield {
    position: relative;
    display: block;
}

.p-inputicon {
    position: absolute;
    top: 50%;
    margin-top: calc(-1 * (${n("icon.size")} / 2));
    color: ${n("iconfield.icon.color")};
    line-height: 1;
}

.p-iconfield .p-inputicon:first-child {
    inset-inline-start: ${n("form.field.padding.x")};
}

.p-iconfield .p-inputicon:last-child {
    inset-inline-end: ${n("form.field.padding.x")};
}

.p-iconfield .p-inputtext:not(:first-child) {
    padding-inline-start: calc((${n("form.field.padding.x")} * 2) + ${n("icon.size")});
}

.p-iconfield .p-inputtext:not(:last-child) {
    padding-inline-end: calc((${n("form.field.padding.x")} * 2) + ${n("icon.size")});
}

.p-iconfield:has(.p-inputfield-sm) .p-inputicon {
    font-size: ${n("form.field.sm.font.size")};
    width: ${n("form.field.sm.font.size")};
    height: ${n("form.field.sm.font.size")};
    margin-top: calc(-1 * (${n("form.field.sm.font.size")} / 2));
}

.p-iconfield:has(.p-inputfield-lg) .p-inputicon {
    font-size: ${n("form.field.lg.font.size")};
    width: ${n("form.field.lg.font.size")};
    height: ${n("form.field.lg.font.size")};
    margin-top: calc(-1 * (${n("form.field.lg.font.size")} / 2));
}
`,MD={root:"p-iconfield"},Kb=(()=>{class n extends Me{name="iconfield";theme=xD;classes=MD;static \u0275fac=(()=>{let t;return function(i){return(t||(t=te(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var FD=(()=>{class n extends ze{iconPosition="left";get _styleClass(){return this.styleClass}styleClass;_componentStyle=O(Kb);static \u0275fac=(()=>{let t;return function(i){return(t||(t=te(n)))(i||n)}})();static \u0275cmp=Ne({type:n,selectors:[["p-iconfield"],["p-iconField"],["p-icon-field"]],hostAttrs:[1,"p-iconfield"],hostVars:6,hostBindings:function(r,i){r&2&&(_t(i._styleClass),Pt("p-iconfield-left",i.iconPosition==="left")("p-iconfield-right",i.iconPosition==="right"))},inputs:{iconPosition:"iconPosition",styleClass:"styleClass"},features:[Te([Kb]),le],ngContentSelectors:kD,decls:1,vars:0,template:function(r,i){r&1&&(Yt(),Qt(0))},dependencies:[Ot],encapsulation:2,changeDetection:0})}return n})(),R4=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ve({type:n});static \u0275inj=ye({imports:[FD]})}return n})();var LD=["*"],VD={root:"p-inputicon"},Yb=(()=>{class n extends Me{name="inputicon";classes=VD;static \u0275fac=(()=>{let t;return function(i){return(t||(t=te(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),UD=(()=>{class n extends ze{styleClass;get hostClasses(){return this.styleClass}_componentStyle=O(Yb);static \u0275fac=(()=>{let t;return function(i){return(t||(t=te(n)))(i||n)}})();static \u0275cmp=Ne({type:n,selectors:[["p-inputicon"],["p-inputIcon"]],hostVars:4,hostBindings:function(r,i){r&2&&(_t(i.hostClasses),Pt("p-inputicon",!0))},inputs:{styleClass:"styleClass"},features:[Te([Yb]),le],ngContentSelectors:LD,decls:1,vars:0,template:function(r,i){r&1&&(Yt(),Qt(0))},dependencies:[Ot,Ht],encapsulation:2,changeDetection:0})}return n})(),z4=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ve({type:n});static \u0275inj=ye({imports:[UD,Ht,Ht]})}return n})();var Z="primary",fa=Symbol("RouteTitle"),yf=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function pi(n){return new yf(n)}function rE(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=n[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function $D(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!_n(n[t],e[t]))return!1;return!0}function _n(n,e){let t=n?vf(n):void 0,r=e?vf(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!iE(n[i],e[i]))return!1;return!0}function vf(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function iE(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function sE(n){return n.length>0?n[n.length-1]:null}function Tr(n){return Ev(n)?n:Zi(n)?Oe(Promise.resolve(n)):z(n)}var BD={exact:aE,subset:cE},oE={exact:jD,subset:zD,ignored:()=>!0};function Qb(n,e,t){return BD[t.paths](n.root,e.root,t.matrixParams)&&oE[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function jD(n,e){return _n(n,e)}function aE(n,e,t){if(!hi(n.segments,e.segments)||!yu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!aE(n.children[r],e.children[r],t))return!1;return!0}function zD(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>iE(n[t],e[t]))}function cE(n,e,t){return uE(n,e,e.segments,t)}function uE(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!hi(i,t)||e.hasChildren()||!yu(i,t,r))}else if(n.segments.length===t.length){if(!hi(n.segments,t)||!yu(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!cE(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!hi(n.segments,i)||!yu(n.segments,i,r)||!n.children[Z]?!1:uE(n.children[Z],e,s,r)}}function yu(n,e,t){return e.every((r,i)=>oE[t](n[i].parameters,r.parameters))}var En=class{root;queryParams;fragment;_queryParamMap;constructor(e=new fe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=pi(this.queryParams),this._queryParamMap}toString(){return WD.serialize(this)}},fe=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vu(this)}},br=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=pi(this.parameters),this._parameterMap}toString(){return dE(this)}};function HD(n,e){return hi(n,e)&&n.every((t,r)=>_n(t.parameters,e[r].parameters))}function hi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function qD(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Z&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Z&&(t=t.concat(e(i,r)))}),t}var Sr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>new Er,providedIn:"root"})}return n})(),Er=class{parse(e){let t=new bf(e);return new En(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ta(e.root,!0)}`,r=YD(e.queryParams),i=typeof e.fragment=="string"?`#${GD(e.fragment)}`:"";return`${t}${r}${i}`}},WD=new Er;function vu(n){return n.segments.map(e=>dE(e)).join("/")}function ta(n,e){if(!n.hasChildren())return vu(n);if(e){let t=n.children[Z]?ta(n.children[Z],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==Z&&r.push(`${i}:${ta(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=qD(n,(r,i)=>i===Z?[ta(n.children[Z],!1)]:[`${i}:${ta(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Z]!=null?`${vu(n)}/${t[0]}`:`${vu(n)}/(${t.join("//")})`}}function lE(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gu(n){return lE(n).replace(/%3B/gi,";")}function GD(n){return encodeURI(n)}function _f(n){return lE(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _u(n){return decodeURIComponent(n)}function Xb(n){return _u(n.replace(/\+/g,"%20"))}function dE(n){return`${_f(n.path)}${KD(n.parameters)}`}function KD(n){return Object.entries(n).map(([e,t])=>`;${_f(e)}=${_f(t)}`).join("")}function YD(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${gu(t)}=${gu(i)}`).join("&"):`${gu(t)}=${gu(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var QD=/^[^\/()?;#]+/;function ff(n){let e=n.match(QD);return e?e[0]:""}var XD=/^[^\/()?;=#]+/;function JD(n){let e=n.match(XD);return e?e[0]:""}var ZD=/^[^=?&#]+/;function eR(n){let e=n.match(ZD);return e?e[0]:""}var tR=/^[^&#]+/;function nR(n){let e=n.match(tR);return e?e[0]:""}var bf=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Z]=new fe(e,t)),r}parseSegment(){let e=ff(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ee(4009,!1);return this.capture(e),new br(_u(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=JD(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=ff(this.remaining);i&&(r=i,this.capture(r))}e[_u(t)]=_u(r)}parseQueryParam(e){let t=eR(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=nR(this.remaining);o&&(r=o,this.capture(r))}let i=Xb(t),s=Xb(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ff(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ee(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Z);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[Z]:new fe([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ee(4011,!1)}};function hE(n){return n.segments.length>0?new fe([],{[Z]:n}):n}function fE(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=fE(i);if(r===Z&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new fe(n.segments,e);return rR(t)}function rR(n){if(n.numberOfChildren===1&&n.children[Z]){let e=n.children[Z];return new fe(n.segments.concat(e.segments),e.children)}return n}function wr(n){return n instanceof En}function pE(n,e,t=null,r=null){let i=gE(n);return mE(i,e,t,r)}function gE(n){let e;function t(s){let o={};for(let u of s.children){let l=t(u);o[u.outlet]=l}let c=new fe(s.url,o);return s===n&&(e=c),c}let r=t(n.root),i=hE(r);return e??i}function mE(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return pf(i,i,i,t,r);let s=iR(e);if(s.toRoot())return pf(i,i,new fe([],{}),t,r);let o=sR(s,i,n),c=o.processChildren?ra(o.segmentGroup,o.index,s.commands):vE(o.segmentGroup,o.index,s.commands);return pf(i,o.segmentGroup,c,t,r)}function Eu(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function sa(n){return typeof n=="object"&&n!=null&&n.outlets}function pf(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let o;n===e?o=t:o=yE(n,e,t);let c=hE(fE(o));return new En(c,s,i)}function yE(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=yE(s,e,t)}),new fe(n.segments,r)}var wu=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Eu(r[0]))throw new ee(4003,!1);let i=r.find(sa);if(i&&i!==sE(r))throw new ee(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function iR(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new wu(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new wu(t,e,r)}var bs=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function sR(n,e,t){if(n.isAbsolute)return new bs(e,!0,0);if(!t)return new bs(e,!1,NaN);if(t.parent===null)return new bs(t,!0,0);let r=Eu(n.commands[0])?0:1,i=t.segments.length-1+r;return oR(t,i,n.numberOfDoubleDots)}function oR(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ee(4005,!1);i=r.segments.length}return new bs(r,!1,i-s)}function aR(n){return sa(n[0])?n[0].outlets:{[Z]:n}}function vE(n,e,t){if(n??=new fe([],{}),n.segments.length===0&&n.hasChildren())return ra(n,e,t);let r=cR(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new fe(n.segments.slice(0,r.pathIndex),{});return s.children[Z]=new fe(n.segments.slice(r.pathIndex),n.children),ra(s,0,i)}else return r.match&&i.length===0?new fe(n.segments,{}):r.match&&!n.hasChildren()?Ef(n,e,t):r.match?ra(n,0,i):Ef(n,e,t)}function ra(n,e,t){if(t.length===0)return new fe(n.segments,{});{let r=aR(t),i={};if(Object.keys(r).some(s=>s!==Z)&&n.children[Z]&&n.numberOfChildren===1&&n.children[Z].segments.length===0){let s=ra(n.children[Z],e,t);return new fe(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=vE(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new fe(n.segments,i)}}function cR(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],c=t[r];if(sa(c))break;let u=`${c}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!Zb(u,l,o))return s;r+=2}else{if(!Zb(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ef(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(sa(s)){let u=uR(s.outlets);return new fe(r,u)}if(i===0&&Eu(t[0])){let u=n.segments[e];r.push(new br(u.path,Jb(t[0]))),i++;continue}let o=sa(s)?s.outlets[Z]:`${s}`,c=i<t.length-1?t[i+1]:null;o&&c&&Eu(c)?(r.push(new br(o,Jb(c))),i+=2):(r.push(new br(o,{})),i++)}return new fe(r,{})}function uR(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Ef(new fe([],{}),0,r))}),e}function Jb(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Zb(n,e,t){return n==t.path&&_n(e,t.parameters)}var bu="imperative",He=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(He||{}),Ft=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ir=class extends Ft{type=He.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Lt=class extends Ft{urlAfterRedirects;type=He.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},wt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(wt||{}),ws=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(ws||{}),bn=class extends Ft{reason;code;type=He.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},wn=class extends Ft{reason;code;type=He.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Is=class extends Ft{error;target;type=He.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},oa=class extends Ft{urlAfterRedirects;state;type=He.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Iu=class extends Ft{urlAfterRedirects;state;type=He.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tu=class extends Ft{urlAfterRedirects;state;shouldActivate;type=He.GuardsCheckEnd;constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Su=class extends Ft{urlAfterRedirects;state;type=He.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cu=class extends Ft{urlAfterRedirects;state;type=He.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Au=class{route;type=He.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Du=class{route;type=He.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ru=class{snapshot;type=He.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pu=class{snapshot;type=He.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ou=class{snapshot;type=He.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nu=class{snapshot;type=He.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ts=class{routerEvent;position;anchor;type=He.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},aa=class{},Ss=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function lR(n,e){return n.providers&&!n._injector&&(n._injector=Pc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function rn(n){return n.outlet||Z}function dR(n,e){let t=n.filter(r=>rn(r)===e);return t.push(...n.filter(r=>rn(r)!==e)),t}function pa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var ku=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return pa(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new gi(this.rootInjector)}},gi=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new ku(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(W(pn))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xu=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=wf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=wf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=If(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return If(e,this._root).map(t=>t.value)}};function wf(n,e){if(n===e.value)return e;for(let t of e.children){let r=wf(n,t);if(r)return r}return null}function If(n,e){if(n===e.value)return[e];for(let t of e.children){let r=If(n,t);if(r.length)return r.unshift(e),r}return[]}var Mt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function _s(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var ca=class extends xu{snapshot;constructor(e,t){super(e),this.snapshot=t,Of(this,e)}toString(){return this.snapshot.toString()}};function _E(n){let e=hR(n),t=new xe([new br("",{})]),r=new xe({}),i=new xe({}),s=new xe({}),o=new xe(""),c=new In(t,r,s,o,i,Z,n,e.root);return c.snapshot=e.root,new ca(new Mt(c,[]),e)}function hR(n){let e={},t={},r={},i="",s=new fi([],e,r,i,t,Z,n,null,{});return new ua("",new Mt(s,[]))}var In=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ie(l=>l[fa]))??z(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>pi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>pi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Mu(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),n.params),data:k(k({},e.data),n.data),resolve:k(k(k(k({},n.data),e.data),i?.data),n._resolvedData)}:r={params:k({},n.params),data:k({},n.data),resolve:k(k({},n.data),n._resolvedData??{})},i&&EE(i)&&(r.resolve[fa]=i.title),r}var fi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[fa]}constructor(e,t,r,i,s,o,c,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=pi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=pi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},ua=class extends xu{url;constructor(e,t){super(t),this.url=e,Of(this,t)}toString(){return bE(this._root)}};function Of(n,e){e.value._routerState=n,e.children.forEach(t=>Of(n,t))}function bE(n){let e=n.children.length>0?` { ${n.children.map(bE).join(", ")} } `:"";return`${n.value}${e}`}function gf(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,_n(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),_n(e.params,t.params)||n.paramsSubject.next(t.params),$D(e.url,t.url)||n.urlSubject.next(t.url),_n(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Tf(n,e){let t=_n(n.params,e.params)&&HD(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Tf(n.parent,e.parent))}function EE(n){return typeof n.title=="string"||n.title===null}var wE=new q(""),Nf=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Z;activateEvents=new Ze;deactivateEvents=new Ze;attachEvents=new Ze;detachEvents=new Ze;routerOutletData=gn(void 0);parentContexts=O(gi);location=O(Ji);changeDetector=O(Xt);inputBinder=O(ga,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ee(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new ee(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Sf(t,c,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=se({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Xe]})}return n})(),Sf=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===In?this.route:e===gi?this.childContexts:e===wE?this.outletData:this.parent.get(e,t)}},ga=new q(""),kf=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Ac([r.queryParams,r.params,r.data]).pipe(Ct(([s,o,c],u)=>(c=k(k(k({},s),o),c),u===0?z(c):Promise.resolve(c)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let o=n_(r.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:c}of o.inputs)t.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),xf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ne({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&bt(0,"router-outlet")},dependencies:[Nf],encapsulation:2})}return n})();function Mf(n){let e=n.children&&n.children.map(Mf),t=e?ue(k({},n),{children:e}):k({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Z&&(t.component=xf),t}function fR(n,e,t){let r=la(n,e._root,t?t._root:void 0);return new ca(r,e)}function la(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=pR(n,e,t);return new Mt(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>la(n,c)),o}}let r=gR(e.value),i=e.children.map(s=>la(n,s));return new Mt(r,i)}}function pR(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return la(n,r,i);return la(n,r)})}function gR(n){return new In(new xe(n.url),new xe(n.params),new xe(n.queryParams),new xe(n.fragment),new xe(n.data),n.outlet,n.component,n)}var Cs=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},IE="ngNavigationCancelingError";function Fu(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=wr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=TE(!1,wt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function TE(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[IE]=!0,t.cancellationCode=e,t}function mR(n){return SE(n)&&wr(n.url)}function SE(n){return!!n&&n[IE]}var yR=(n,e,t,r)=>ie(i=>(new Cf(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Cf=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),gf(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=_s(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=_s(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=_s(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=_s(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Nu(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Pu(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(gf(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),gf(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Lu=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Es=class{component;route;constructor(e,t){this.component=e,this.route=t}};function vR(n,e,t){let r=n._root,i=e?e._root:null;return na(r,i,t,[r.value])}function _R(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ds(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Av(n)?n:e.get(n):r}function na(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=_s(e);return n.children.forEach(o=>{bR(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>ia(c,t.getContext(o),i)),i}function bR(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=ER(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Lu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?na(n,e,c?c.children:null,r,i):na(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Es(c.outlet.component,o))}else o&&ia(e,c,i),i.canActivateChecks.push(new Lu(r)),s.component?na(n,null,c?c.children:null,r,i):na(n,null,t,r,i);return i}function ER(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!hi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!hi(n.url,e.url)||!_n(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tf(n,e)||!_n(n.queryParams,e.queryParams);case"paramsChange":default:return!Tf(n,e)}}function ia(n,e,t){let r=_s(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ia(o,e.children.getContext(s),t):ia(o,null,t):ia(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Es(e.outlet.component,i)):t.canDeactivateChecks.push(new Es(null,i)):t.canDeactivateChecks.push(new Es(null,i))}function ma(n){return typeof n=="function"}function wR(n){return typeof n=="boolean"}function IR(n){return n&&ma(n.canLoad)}function TR(n){return n&&ma(n.canActivate)}function SR(n){return n&&ma(n.canActivateChild)}function CR(n){return n&&ma(n.canDeactivate)}function AR(n){return n&&ma(n.canMatch)}function CE(n){return n instanceof wv||n?.name==="EmptyError"}var mu=Symbol("INITIAL_VALUE");function As(){return Ct(n=>Ac(n.map(e=>e.pipe(Ki(1),Qd(mu)))).pipe(ie(e=>{for(let t of e)if(t!==!0){if(t===mu)return mu;if(t===!1||DR(t))return t}return!0}),Gt(e=>e!==mu),Ki(1)))}function DR(n){return wr(n)||n instanceof Cs}function RR(n,e){return mt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?z(ue(k({},t),{guardsResult:!0})):PR(o,r,i,n).pipe(mt(c=>c&&wR(c)?OR(r,s,n,e):z(c)),ie(c=>ue(k({},t),{guardsResult:c})))})}function PR(n,e,t,r){return Oe(n).pipe(mt(i=>FR(i.component,i.route,t,e,r)),fr(i=>i!==!0,!0))}function OR(n,e,t,r){return Oe(e).pipe(Un(i=>Iv(kR(i.route.parent,r),NR(i.route,r),MR(n,i.path,t),xR(n,i.route,t))),fr(i=>i!==!0,!0))}function NR(n,e){return n!==null&&e&&e(new Ou(n)),z(!0)}function kR(n,e){return n!==null&&e&&e(new Ru(n)),z(!0)}function xR(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return z(!0);let i=r.map(s=>Wd(()=>{let o=pa(e)??t,c=Ds(s,o),u=TR(c)?c.canActivate(e,n):at(o,()=>c(e,n));return Tr(u).pipe(fr())}));return z(i).pipe(As())}function MR(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>_R(o)).filter(o=>o!==null).map(o=>Wd(()=>{let c=o.guards.map(u=>{let l=pa(o.node)??t,f=Ds(u,l),p=SR(f)?f.canActivateChild(r,n):at(l,()=>f(r,n));return Tr(p).pipe(fr())});return z(c).pipe(As())}));return z(s).pipe(As())}function FR(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return z(!0);let o=s.map(c=>{let u=pa(e)??i,l=Ds(c,u),f=CR(l)?l.canDeactivate(n,e,t,r):at(u,()=>l(n,e,t,r));return Tr(f).pipe(fr())});return z(o).pipe(As())}function LR(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return z(!0);let s=i.map(o=>{let c=Ds(o,n),u=IR(c)?c.canLoad(e,t):at(n,()=>c(e,t));return Tr(u)});return z(s).pipe(As(),AE(r))}function AE(n){return $d(ot(e=>{if(typeof e!="boolean")throw Fu(n,e)}),ie(e=>e===!0))}function VR(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return z(!0);let s=i.map(o=>{let c=Ds(o,n),u=AR(c)?c.canMatch(e,t):at(n,()=>c(e,t));return Tr(u)});return z(s).pipe(As(),AE(r))}var da=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},ha=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function vs(n){return Po(new da(n))}function UR(n){return Po(new ee(4e3,!1))}function $R(n){return Po(TE(!1,wt.GuardRejected))}var Af=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return z(r);if(i.numberOfChildren>1||!i.children[Z])return UR(`${e.redirectTo}`);i=i.children[Z]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let c=t,{queryParams:u,fragment:l,routeConfig:f,url:p,outlet:m,params:_,data:D,title:P}=i,R=at(s,()=>c({params:_,data:D,queryParams:u,fragment:l,routeConfig:f,url:p,outlet:m,title:P}));if(R instanceof En)throw new ha(R);t=R}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new ha(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new En(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=t[c]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new fe(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new ee(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Df={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function BR(n,e,t,r,i){let s=DE(n,e,t);return s.matched?(r=lR(e,r),VR(r,e,t,i).pipe(ie(o=>o===!0?s:k({},Df)))):z(s)}function DE(n,e,t){if(e.path==="**")return jR(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?k({},Df):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||rE)(t,n,e);if(!i)return k({},Df);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?k(k({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function jR(n){return{matched:!0,parameters:n.length>0?sE(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function eE(n,e,t,r){return t.length>0&&qR(n,t,r)?{segmentGroup:new fe(e,HR(r,new fe(t,n.children))),slicedSegments:[]}:t.length===0&&WR(n,t,r)?{segmentGroup:new fe(n.segments,zR(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new fe(n.segments,n.children),slicedSegments:t}}function zR(n,e,t,r){let i={};for(let s of t)if(Uu(n,e,s)&&!r[rn(s)]){let o=new fe([],{});i[rn(s)]=o}return k(k({},r),i)}function HR(n,e){let t={};t[Z]=e;for(let r of n)if(r.path===""&&rn(r)!==Z){let i=new fe([],{});t[rn(r)]=i}return t}function qR(n,e,t){return t.some(r=>Uu(n,e,r)&&rn(r)!==Z)}function WR(n,e,t){return t.some(r=>Uu(n,e,r))}function Uu(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function GR(n,e,t){return e.length===0&&!n.children[t]}var Rf=class{};function KR(n,e,t,r,i,s,o="emptyOnly"){return new Pf(n,e,t,r,i,o,s).recognize()}var YR=31,Pf=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,s,o,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new Af(this.urlSerializer,this.urlTree)}noMatchError(e){return new ee(4002,`'${e.segmentGroup}'`)}recognize(){let e=eE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:t,rootSnapshot:r})=>{let i=new Mt(r,t),s=new ua("",i),o=pE(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new fi([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Z,t).pipe(ie(r=>({children:r,rootSnapshot:t})),Jr(r=>{if(r instanceof ha)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof da?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(ie(o=>o instanceof Mt?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Oe(s).pipe(Un(o=>{let c=r.children[o],u=dR(t,o);return this.processSegmentGroup(e,u,c,o,i)}),Yd((o,c)=>(o.push(...c),o)),Gd(null),Sv(),mt(o=>{if(o===null)return vs(r);let c=RE(o);return QR(c),z(c)}))}processSegment(e,t,r,i,s,o,c){return Oe(t).pipe(Un(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,s,o,c).pipe(Jr(l=>{if(l instanceof da)return z(null);throw l}))),fr(u=>!!u),Jr(u=>{if(CE(u))return GR(r,i,s)?z(new Rf):vs(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,s,o,c,u){return rn(r)!==o&&(o===Z||!Uu(i,s,r))?vs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,u):vs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:m}=DE(t,i,s);if(!u)return vs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>YR&&(this.allowRedirects=!1));let _=new fi(s,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,tE(i),rn(i),i.component??i._loadedComponent??null,i,nE(i)),D=Mu(_,c,this.paramsInheritanceStrategy);_.params=Object.freeze(D.params),_.data=Object.freeze(D.data);let P=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,_,e);return this.applyRedirects.lineralizeSegments(i,P).pipe(mt(R=>this.processSegment(e,r,t,R.concat(m),o,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let c=BR(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(Ct(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ct(({routes:l})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:_}=u,D=new fi(m,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,tE(r),rn(r),r.component??r._loadedComponent??null,r,nE(r)),P=Mu(D,o,this.paramsInheritanceStrategy);D.params=Object.freeze(P.params),D.data=Object.freeze(P.data);let{segmentGroup:R,slicedSegments:$}=eE(t,m,_,l);if($.length===0&&R.hasChildren())return this.processChildren(f,l,R,D).pipe(ie(V=>new Mt(D,V)));if(l.length===0&&$.length===0)return z(new Mt(D,[]));let L=rn(r)===s;return this.processSegment(f,l,R,$,L?Z:s,!0,D).pipe(ie(V=>new Mt(D,V instanceof Mt?[V]:[])))}))):vs(t)))}getChildConfig(e,t,r){return t.children?z({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?z({routes:t._loadedRoutes,injector:t._loadedInjector}):LR(e,t,r,this.urlSerializer).pipe(mt(i=>i?this.configLoader.loadChildren(e,t).pipe(ot(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):$R(t))):z({routes:[],injector:e})}};function QR(n){n.sort((e,t)=>e.value.outlet===Z?-1:t.value.outlet===Z?1:e.value.outlet.localeCompare(t.value.outlet))}function XR(n){let e=n.value.routeConfig;return e&&e.path===""}function RE(n){let e=[],t=new Set;for(let r of n){if(!XR(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=RE(r.children);e.push(new Mt(r.value,i))}return e.filter(r=>!t.has(r))}function tE(n){return n.data||{}}function nE(n){return n.resolve||{}}function JR(n,e,t,r,i,s){return mt(o=>KR(n,e,t,r,o.extractedUrl,i,s).pipe(ie(({state:c,tree:u})=>ue(k({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function ZR(n,e){return mt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return z(t);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of PE(u))o.add(l);let c=0;return Oe(o).pipe(Un(u=>s.has(u)?e1(u,r,n,e):(u.data=Mu(u,u.parent,n).resolve,z(void 0))),ot(()=>c++),Kd(1),mt(u=>c===o.size?z(t):Vn))})}function PE(n){let e=n.children.map(t=>PE(t)).flat();return[n,...e]}function e1(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!EE(i)&&(s[fa]=i.title),t1(s,n,e,r).pipe(ie(o=>(n._resolvedData=o,n.data=Mu(n,n.parent,t).resolve,null)))}function t1(n,e,t,r){let i=vf(n);if(i.length===0)return z({});let s={};return Oe(i).pipe(mt(o=>n1(n[o],e,t,r).pipe(fr(),ot(c=>{if(c instanceof Cs)throw Fu(new Er,c);s[o]=c}))),Kd(1),ie(()=>s),Jr(o=>CE(o)?Vn:Po(o)))}function n1(n,e,t,r){let i=pa(e)??r,s=Ds(n,i),o=s.resolve?s.resolve(e,t):at(i,()=>s(e,t));return Tr(o)}function mf(n){return Ct(e=>{let t=n(e);return t?Oe(t).pipe(ie(()=>e)):z(e)})}var Ff=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Z);return r}getResolvedTitleForRoute(t){return t.data[fa]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>O(OE),providedIn:"root"})}return n})(),OE=(()=>{class n extends Ff{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(W(F_))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mi=new q("",{providedIn:"root",factory:()=>({})}),yi=new q(""),$u=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=O(Jv);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return z(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Tr(t.loadComponent()).pipe(ie(kE),ot(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Yi(()=>{this.componentLoaders.delete(t)})),i=new jd(r,()=>new je).pipe(Bd());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=NE(r,this.compiler,t,this.onLoadEndListener).pipe(Yi(()=>{this.childrenLoaders.delete(r)})),o=new jd(s,()=>new je).pipe(Bd());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function NE(n,e,t,r){return Tr(n.loadChildren()).pipe(ie(kE),mt(i=>i instanceof Hv||Array.isArray(i)?z(i):Oe(e.compileModuleAsync(i))),ie(i=>{r&&r(n);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(t).injector,o=s.get(yi,[],{optional:!0,self:!0}).flat()),{routes:o.map(Mf),injector:s}}))}function r1(n){return n&&typeof n=="object"&&"default"in n}function kE(n){return r1(n)?n.default:n}var Bu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>O(i1),providedIn:"root"})}return n})(),i1=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lf=new q(""),Vf=new q("");function xE(n,e,t){let r=n.get(Vf),i=n.get(ge);return n.get(Ie).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),c=i.startViewTransition(()=>(s(),s1(n))),{onViewTransitionCreated:u}=r;return u&&at(n,()=>u({transition:c,from:e,to:t})),o})}function s1(n){return new Promise(e=>{kv({read:()=>setTimeout(e)},{injector:n})})}var Uf=new q(""),ya=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new je;transitionAbortSubject=new je;configLoader=O($u);environmentInjector=O(pn);destroyRef=O(ko);urlSerializer=O(Sr);rootContexts=O(gi);location=O(pr);inputBindingEnabled=O(ga,{optional:!0})!==null;titleStrategy=O(Ff);options=O(mi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=O(Bu);createViewTransition=O(Lf,{optional:!0});navigationErrorHandler=O(Uf,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>z(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Au(i)),r=i=>this.events.next(new Du(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ue(k({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new xe(null),this.transitions.pipe(Gt(r=>r!==null),Ct(r=>{let i=!1,s=!1;return z(r).pipe(Ct(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",wt.SupersededByNewNavigation),Vn;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ue(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&u!=="reload"){let l="";return this.events.next(new wn(o.id,this.urlSerializer.serialize(o.rawUrl),l,ws.IgnoredSameUrlNavigation)),o.resolve(!1),Vn}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return z(o).pipe(Ct(l=>(this.events.next(new Ir(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Vn:Promise.resolve(l))),JR(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ot(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=ue(k({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let f=new oa(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:f,source:p,restoredState:m,extras:_}=o,D=new Ir(l,this.urlSerializer.serialize(f),p,m);this.events.next(D);let P=_E(this.rootComponentType).snapshot;return this.currentTransition=r=ue(k({},o),{targetSnapshot:P,urlAfterRedirects:f,extras:ue(k({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,z(r)}else{let l="";return this.events.next(new wn(o.id,this.urlSerializer.serialize(o.extractedUrl),l,ws.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Vn}}),ot(o=>{let c=new Iu(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(c)}),ie(o=>(this.currentTransition=r=ue(k({},o),{guards:vR(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),RR(this.environmentInjector,o=>this.events.next(o)),ot(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Fu(this.urlSerializer,o.guardsResult);let c=new Tu(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(c)}),Gt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",wt.GuardRejected),!1)),mf(o=>{if(o.guards.canActivateChecks.length!==0)return z(o).pipe(ot(c=>{let u=new Su(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Ct(c=>{let u=!1;return z(c).pipe(ZR(this.paramsInheritanceStrategy,this.environmentInjector),ot({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",wt.NoDataFromResolver)}}))}),ot(c=>{let u=new Cu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),mf(o=>{let c=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(ot(f=>{u.component=f}),ie(()=>{})));for(let f of u.children)l.push(...c(f));return l};return Ac(c(o.targetSnapshot.root)).pipe(Gd(null),Ki(1))}),mf(()=>this.afterPreactivation()),Ct(()=>{let{currentSnapshot:o,targetSnapshot:c}=r,u=this.createViewTransition?.(this.environmentInjector,o.root,c.root);return u?Oe(u).pipe(ie(()=>r)):z(r)}),ie(o=>{let c=fR(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ue(k({},o),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,r}),ot(()=>{this.events.next(new aa)}),yR(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Ki(1),ot({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Lt(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Cv(this.transitionAbortSubject.pipe(ot(o=>{throw o}))),Yi(()=>{!i&&!s&&this.cancelNavigationTransition(r,"",wt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Jr(o=>{if(this.destroyed)return r.resolve(!1),Vn;if(s=!0,SE(o))this.events.next(new bn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),mR(o)?this.events.next(new Ss(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let c=new Is(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let u=at(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof Cs){let{message:l,cancellationCode:f}=Fu(this.urlSerializer,u);this.events.next(new bn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,f)),this.events.next(new Ss(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),o}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Vn}))}))}cancelNavigationTransition(t,r,i){let s=new bn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function o1(n){return n!==bu}var ME=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>O(a1),providedIn:"root"})}return n})(),Vu=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},a1=(()=>{class n extends Vu{static \u0275fac=(()=>{let t;return function(i){return(t||(t=te(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),FE=(()=>{class n{urlSerializer=O(Sr);options=O(mi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=O(pr);urlHandlingStrategy=O(Bu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new En;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let s=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,o=i??s;return o instanceof En?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=_E(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>O(c1),providedIn:"root"})}return n})(),c1=(()=>{class n extends FE{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Ir?this.updateStateMemento():t instanceof wn?this.commitTransition(r):t instanceof oa?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof aa?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof bn&&(t.code===wt.GuardRejected||t.code===wt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Is?this.restoreHistory(r,!0):t instanceof Lt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(t)||s){let c=this.browserPageId,u=k(k({},o),this.generateNgRouterState(i,c));this.location.replaceState(t,"",u)}else{let c=k(k({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",c)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===t.finalUrl&&s===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=te(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ju(n,e){n.events.pipe(Gt(t=>t instanceof Lt||t instanceof bn||t instanceof Is||t instanceof wn),ie(t=>t instanceof Lt||t instanceof wn?0:(t instanceof bn?t.code===wt.Redirect||t.code===wt.SupersededByNewNavigation:!1)?2:1),Gt(t=>t!==2),Ki(1)).subscribe(()=>{e()})}var u1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},l1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},sn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=O(ih);stateManager=O(FE);options=O(mi,{optional:!0})||{};pendingTasks=O(Dc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=O(ya);urlSerializer=O(Sr);location=O(pr);urlHandlingStrategy=O(Bu);_events=new je;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=O(ME);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=O(yi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!O(ga,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new vv;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof bn&&r.code!==wt.Redirect&&r.code!==wt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Lt)this.navigated=!0;else if(r instanceof Ss){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||o1(i.source)},o);this.scheduleNavigation(c,bu,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}h1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),bu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Mf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=k(k({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=gE(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return mE(p,t,f,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=wr(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,bu,null,r)}navigate(t,r={skipLocationChange:!1}){return d1(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=k({},u1):r===!1?i=k({},l1):i=r,wr(t))return Qb(this.currentUrlTree,t,i);let s=this.parseUrl(t);return Qb(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,u,l;o?(c=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,m)=>{c=p,u=m});let f=this.pendingTasks.add();return ju(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function d1(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new ee(4008,!1)}function h1(n){return!(n instanceof aa)&&!(n instanceof Ss)}var zu=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new je;constructor(t,r,i,s,o,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=c;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Lt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(wr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,o){let c=this.urlTree;if(c===null||this.isAnchorElement&&(t!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Bv(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:wr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(G(sn),G(In),Jd("tabindex"),G(Bt),G(yt),G(en))};static \u0275dir=se({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&$n("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&ut("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",he],skipLocationChange:[2,"skipLocationChange","skipLocationChange",he],replaceUrl:[2,"replaceUrl","replaceUrl",he],routerLink:"routerLink"},features:[Xe]})}return n})(),f1=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Ze;constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.routerEventsSubscription=t.events.subscribe(c=>{c instanceof Lt&&this.update()})}ngAfterContentInit(){z(this.links.changes,z(null)).pipe(Oo()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Oe(t).pipe(Oo()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=p1(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?t.isActive(s,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(G(sn),G(yt),G(Bt),G(Xt),G(zu,8))};static \u0275dir=se({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&ri(s,zu,5),r&2){let o;ii(o=si())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Xe]})}return n})();function p1(n){return!!n.paths}var va=class{};var LE=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,s){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Gt(t=>t instanceof Lt),Un(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Pc(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,c=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(c,s.children??s._loadedRoutes))}return Oe(i).pipe(Oo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=z(null);let s=i.pipe(mt(o=>o===null?z(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Oe([s,o]).pipe(Oo())}else return s})}static \u0275fac=function(r){return new(r||n)(W(sn),W(pn),W(va),W($u))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bf=new q(""),VE=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ir?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Lt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof wn&&t.code===ws.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ts&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ts(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){zv()};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();function g1(n,...e){return Dt([{provide:yi,multi:!0,useValue:n},[],{provide:In,useFactory:UE,deps:[sn]},{provide:sh,multi:!0,useFactory:$E},e.map(t=>t.\u0275providers)])}function UE(n){return n.routerState.root}function Rs(n,e){return{\u0275kind:n,\u0275providers:e}}function m1(n={}){return Rs(4,[{provide:Bf,useFactory:()=>{let t=O(wh),r=O(Ie),i=O(ya),s=O(Sr);return new VE(s,i,t,r,n)}}])}function $E(){let n=O(Je);return e=>{let t=n.get(oh);if(e!==t.components[0])return;let r=n.get(sn),i=n.get(BE);n.get(jf)===1&&r.initialNavigation(),n.get(HE,null,Xd.Optional)?.setUpPreloading(),n.get(Bf,null,Xd.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var BE=new q("",{factory:()=>new je}),jf=new q("",{providedIn:"root",factory:()=>1});function jE(){let n=[{provide:jf,useValue:0},Fo(()=>{let e=O(Je);return e.get(hh,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(sn),s=e.get(BE);ju(i,()=>{r(!0)}),e.get(ya).afterPreactivation=()=>(r(!0),s.closed?z(void 0):s),i.initialNavigation()}))})];return Rs(2,n)}function zE(){let n=[Fo(()=>{O(sn).setUpLocationChangeListener()}),{provide:jf,useValue:2}];return Rs(3,n)}var HE=new q("");function qE(n){return Rs(0,[{provide:HE,useExisting:LE},{provide:va,useExisting:n}])}function WE(){return Rs(8,[kf,{provide:ga,useExisting:kf}])}function GE(n){nh("NgRouterViewTransitions");let e=[{provide:Lf,useValue:xE},{provide:Vf,useValue:k({skipNextTransition:!!n?.skipInitialTransition},n)}];return Rs(9,e)}var KE=[pr,{provide:Sr,useClass:Er},sn,gi,{provide:In,useFactory:UE,deps:[sn]},$u,[]],y1=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[KE,[],{provide:yi,multi:!0,useValue:t},[],r?.errorHandler?{provide:Uf,useValue:r.errorHandler}:[],{provide:mi,useValue:r||{}},r?.useHash?_1():b1(),v1(),r?.preloadingStrategy?qE(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?E1(r):[],r?.bindToComponentInputs?WE().\u0275providers:[],r?.enableViewTransitions?GE().\u0275providers:[],w1()]}}static forChild(t){return{ngModule:n,providers:[{provide:yi,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ve({type:n});static \u0275inj=ye({})}return n})();function v1(){return{provide:Bf,useFactory:()=>{let n=O(wh),e=O(Ie),t=O(mi),r=O(ya),i=O(Sr);return t.scrollOffset&&n.setOffset(t.scrollOffset),new VE(i,r,n,e,t)}}}function _1(){return{provide:en,useClass:mh}}function b1(){return{provide:en,useClass:Lc}}function E1(n){return[n.initialNavigation==="disabled"?zE().\u0275providers:[],n.initialNavigation==="enabledBlocking"?jE().\u0275providers:[]]}var $f=new q("");function w1(){return[{provide:$f,useFactory:$E},{provide:sh,multi:!0,useExisting:$f}]}var YE=class n{static isArray(e,t=!0){return Array.isArray(e)&&(t||e.length!==0)}static isObject(e,t=!0){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&(t||Object.keys(e).length!==0)}static equals(e,t,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(t,r):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var r=Array.isArray(e),i=Array.isArray(t),s,o,c;if(r&&i){if(o=e.length,o!=t.length)return!1;for(s=o;s--!==0;)if(!this.equalsByValue(e[s],t[s]))return!1;return!0}if(r!=i)return!1;var u=this.isDate(e),l=this.isDate(t);if(u!=l)return!1;if(u&&l)return e.getTime()==t.getTime();var f=e instanceof RegExp,p=t instanceof RegExp;if(f!=p)return!1;if(f&&p)return e.toString()==t.toString();var m=Object.keys(e);if(o=m.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,m[s]))return!1;for(s=o;s--!==0;)if(c=m[s],!this.equalsByValue(e[c],t[c]))return!1;return!0}return e!==e&&t!==t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(t.indexOf(".")==-1)return e[t];{let r=t.split("."),i=e;for(let s=0,o=r.length;s<o;++s){if(i==null)return null;i=i[r[s]]}return i}}else return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,r){let i;e&&t!==r&&(r>=e.length&&(r%=e.length,t%=e.length),e.splice(r,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,r,i){if(r.length>0){let s=!1;for(let o=0;o<r.length;o++)if(this.findIndexInList(r[o],i)>t){r.splice(o,0,e),s=!0;break}s||r.push(e)}else r.push(e)}static findIndexInList(e,t){let r=-1;if(t){for(let i=0;i<t.length;i++)if(t[i]==e){r=i;break}}return r}static contains(e,t){if(e!=null&&t&&t.length){for(let r of t)if(this.equals(e,r))return!0}return!1}static removeAccents(e){return e&&(e=e.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),e}static isDate(e){return Object.prototype.toString.call(e)==="[object Date]"}static isEmpty(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!this.isDate(e)&&typeof e=="object"&&Object.keys(e).length===0}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,r,i=1){let s=-1,o=this.isEmpty(e),c=this.isEmpty(t);return o&&c?s=0:o?s=i:c?s=-i:typeof e=="string"&&typeof t=="string"?s=e.localeCompare(t,r,{numeric:!0}):s=e<t?-1:e>t?1:0,s}static sort(e,t,r=1,i,s=1){let o=n.compare(e,t,i,r),c=r;return(n.isEmpty(e)||n.isEmpty(t))&&(c=s===1?r:s),c*o}static merge(e,t){if(!(e==null&&t==null)){{if((e==null||typeof e=="object")&&(t==null||typeof t=="object"))return k(k({},e||{}),t||{});if((e==null||typeof e=="string")&&(t==null||typeof t=="string"))return[e||"",t||""].join(" ")}return t||e}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(t)}catch{r=e.lastIndexOf([...e].reverse().find(t))}return r}static findLast(e,t){let r;if(this.isNotEmpty(e))try{r=e.findLast(t)}catch{r=[...e].reverse().find(t)}return r}static deepEquals(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var r=Array.isArray(e),i=Array.isArray(t),s,o,c;if(r&&i){if(o=e.length,o!=t.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],t[s]))return!1;return!0}if(r!=i)return!1;var u=e instanceof Date,l=t instanceof Date;if(u!=l)return!1;if(u&&l)return e.getTime()==t.getTime();var f=e instanceof RegExp,p=t instanceof RegExp;if(f!=p)return!1;if(f&&p)return e.toString()==t.toString();var m=Object.keys(e);if(o=m.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,m[s]))return!1;for(s=o;s--!==0;)if(c=m[s],!this.deepEquals(e[c],t[c]))return!1;return!0}return e!==e&&t!==t}static minifyCSS(e){return e&&e.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":")}static toFlatCase(e){return this.isString(e)?e.replace(/(-|_)/g,"").toLowerCase():e}static isString(e,t=!0){return typeof e=="string"&&(t||e!=="")}},QE=0;function Jj(n="pn_id_"){return QE++,`${n}${QE}`}function I1(){let n=[],e=(s,o)=>{let c=n.length>0?n[n.length-1]:{key:s,value:o},u=c.value+(c.key===s?0:o)+2;return n.push({key:s,value:u}),u},t=s=>{n=n.filter(o=>o.value!==s)},r=()=>n.length>0?n[n.length-1].value:0,i=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:i,set:(s,o,c)=>{o&&(o.style.zIndex=String(e(s,c)))},clear:s=>{s&&(t(i(s)),s.style.zIndex="")},getCurrent:()=>r(),generateZIndex:e,revertZIndex:t}}var Zj=I1(),e6=n=>!!n;var XE=class n{authSubject=new xe(null);productsSubject=new xe([]);cartSubject=new xe([]);loadingSubject=new xe(!1);auth$=this.authSubject.asObservable();products$=this.productsSubject.asObservable();cart$=this.cartSubject.asObservable();loading$=this.loadingSubject.asObservable();setProducts(e){this.productsSubject.next(e)}setCart(e){this.cartSubject.next(e)}setLoading(e){this.loadingSubject.next(e)}addToCart(e){let t=this.cartSubject.value.slice(),r=t.findIndex(i=>i.id===e.id);r>-1?t[r]=ue(k({},t[r]),{quantity:(t[r].quantity??1)+1}):t.push(ue(k({},e),{quantity:1})),this.cartSubject.next(t)}removeFromCart(e){let t=this.cartSubject.value.slice(),r=t.findIndex(i=>i.id===e);r>-1&&((t[r].quantity??1)>1?t[r]=ue(k({},t[r]),{quantity:t[r].quantity-1}):t.splice(r,1),this.cartSubject.next(t))}deleteFromCart(e){let t=this.cartSubject.value.slice();t=t.filter(r=>r.id!==e),this.cartSubject.next(t)}clearCart(){this.cartSubject.next([])}setUser(e){this.authSubject.next(e)}updateUserData(e){let t=this.authSubject.value;t&&this.authSubject.next(k(k({},t),e))}wishlistSubject=new xe([]);wishlist$=this.wishlistSubject.asObservable();setWishlist(e){this.wishlistSubject.next(e)}clearWishlist(){this.wishlistSubject.next([])}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var JE=()=>{};var tw=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},T1=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],c=n[t++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Hu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,c=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,f=s>>2,p=(s&3)<<4|c>>4,m=(c&15)<<2|l>>6,_=l&63;u||(_=64,o||(m=64)),r.push(t[f],t[p],t[m],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(tw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):T1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||c==null||l==null||p==null)throw new Hf;let m=s<<2|c>>4;if(r.push(m),l!==64){let _=c<<4&240|l>>2;if(r.push(_),p!==64){let D=l<<6&192|p;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Hf=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},S1=function(n){let e=tw(n);return Hu.encodeByteArray(e,!0)},ba=function(n){return S1(n).replace(/\./g,"")},qu=function(n){try{return Hu.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Wf(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var C1=()=>Wf().__FIREBASE_DEFAULTS__,A1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},D1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&qu(n[1]);return e&&JSON.parse(e)},Wu=()=>{try{return JE()||C1()||A1()||D1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Gf=n=>{var e,t;return(t=(e=Wu())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},nw=n=>{let e=Gf(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Kf=()=>{var n;return(n=Wu())===null||n===void 0?void 0:n.config},Yf=n=>{var e;return(e=Wu())===null||e===void 0?void 0:e[`_${n}`]};var vi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Cr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Gu(n){return v(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function rw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ba(JSON.stringify(t)),ba(JSON.stringify(o)),""].join(".")}var _a={};function R1(){let n={prod:[],emulator:[]};for(let e of Object.keys(_a))_a[e]?n.emulator.push(e):n.prod.push(e);return n}function P1(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var ZE=!1;function Ku(n,e){if(typeof window>"u"||typeof document>"u"||!Cr(window.location.host)||_a[n]===e||_a[n]||ZE)return;_a[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",s=R1().prod.length>0;function o(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,_){m.setAttribute("width","24"),m.setAttribute("id",_),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{ZE=!0,o()},m}function f(m,_){m.setAttribute("id",_),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=P1(r),_=t("text"),D=document.getElementById(_)||document.createElement("span"),P=t("learnmore"),R=document.getElementById(P)||document.createElement("a"),$=t("preprendIcon"),L=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let V=m.element;c(V),f(R,P);let Y=l();u(L,$),V.append(L,D,R,Y),document.body.appendChild(V)}s?(D.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function O1(){var n;let e=(n=Wu())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ow(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function aw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cw(){let n=Ge();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function uw(){return!O1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ea(){try{return typeof indexedDB=="object"}catch{return!1}}function lw(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}function c6(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var N1="FirebaseError",Vt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=N1,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,on.prototype.create)}},on=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?k1(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Vt(i,c,r)}};function k1(n,e){return n.replace(x1,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var x1=/\{\$([^}]+)}/g;function dw(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Tn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(ew(s)&&ew(o)){if(!Tn(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function ew(n){return n!==null&&typeof n=="object"}function wa(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ps(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Os(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function hw(n,e){let t=new qf(n,e);return t.subscribe.bind(t)}var qf=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");M1(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=zf),i.error===void 0&&(i.error=zf),i.complete===void 0&&(i.complete=zf);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function M1(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function zf(){}var F1=1e3,L1=2,V1=4*60*60*1e3,U1=.5;function $1(n,e=F1,t=L1){let r=e*Math.pow(t,n),i=Math.round(U1*r*(Math.random()-.5)*2);return Math.min(V1,r+i)}function qe(n){return n&&n._delegate?n._delegate:n}var gt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var _i="[DEFAULT]";var Qf=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new vi;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(j1(e))try{this.getOrInitializeService({instanceIdentifier:_i})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=_i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=_i){return this.instances.has(e)}getOptions(e=_i){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:B1(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_i){return this.component?this.component.multipleInstances?e:_i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function B1(n){return n===_i?void 0:n}function j1(n){return n.instantiationMode==="EAGER"}var Yu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Qf(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var z1=[],re=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(re||{}),H1={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},q1=re.INFO,W1={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},G1=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=W1[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Sn=class{constructor(e){this.name=e,this._logLevel=q1,this._logHandler=G1,this._userLogHandler=null,z1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?H1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}};var K1=(n,e)=>e.some(t=>n instanceof t),fw,pw;function Y1(){return fw||(fw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q1(){return pw||(pw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var gw=new WeakMap,Jf=new WeakMap,mw=new WeakMap,Xf=new WeakMap,ep=new WeakMap;function X1(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Cn(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&gw.set(t,n)}).catch(()=>{}),ep.set(e,n),e}function J1(n){if(Jf.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Jf.set(n,e)}var Zf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Jf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||mw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Cn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function yw(n){Zf=n(Zf)}function Z1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Qu(this),e,...t);return mw.set(r,e.sort?e.sort():[e]),Cn(r)}:Q1().includes(n)?function(...e){return n.apply(Qu(this),e),Cn(gw.get(this))}:function(...e){return Cn(n.apply(Qu(this),e))}}function eP(n){return typeof n=="function"?Z1(n):(n instanceof IDBTransaction&&J1(n),K1(n,Y1())?new Proxy(n,Zf):n)}function Cn(n){if(n instanceof IDBRequest)return X1(n);if(Xf.has(n))return Xf.get(n);let e=eP(n);return e!==n&&(Xf.set(n,e),ep.set(e,n)),e}var Qu=n=>ep.get(n);function _w(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),c=Cn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Cn(o.result),u.oldVersion,u.newVersion,Cn(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var tP=["get","getKey","getAll","getAllKeys","count"],nP=["put","add","delete","clear"],tp=new Map;function vw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(tp.get(e))return tp.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=nP.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tP.includes(t)))return;let s=function(o,...c){return v(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),i&&u.done]))[0]})};return tp.set(e,s),s}yw(n=>ue(k({},n),{get:(e,t,r)=>vw(e,t)||n.get(e,t,r),has:(e,t)=>!!vw(e,t)||n.has(e,t)}));var rp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(rP(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function rP(n){let e=n.getComponent();return e?.type==="VERSION"}var ip="@firebase/app",bw="0.13.2";var qn=new Sn("@firebase/app"),iP="@firebase/app-compat",sP="@firebase/analytics-compat",oP="@firebase/analytics",aP="@firebase/app-check-compat",cP="@firebase/app-check",uP="@firebase/auth",lP="@firebase/auth-compat",dP="@firebase/database",hP="@firebase/data-connect",fP="@firebase/database-compat",pP="@firebase/functions",gP="@firebase/functions-compat",mP="@firebase/installations",yP="@firebase/installations-compat",vP="@firebase/messaging",_P="@firebase/messaging-compat",bP="@firebase/performance",EP="@firebase/performance-compat",wP="@firebase/remote-config",IP="@firebase/remote-config-compat",TP="@firebase/storage",SP="@firebase/storage-compat",CP="@firebase/firestore",AP="@firebase/ai",DP="@firebase/firestore-compat",RP="firebase",PP="11.10.0";var sp="[DEFAULT]",OP={[ip]:"fire-core",[iP]:"fire-core-compat",[oP]:"fire-analytics",[sP]:"fire-analytics-compat",[cP]:"fire-app-check",[aP]:"fire-app-check-compat",[uP]:"fire-auth",[lP]:"fire-auth-compat",[dP]:"fire-rtdb",[hP]:"fire-data-connect",[fP]:"fire-rtdb-compat",[pP]:"fire-fn",[gP]:"fire-fn-compat",[mP]:"fire-iid",[yP]:"fire-iid-compat",[vP]:"fire-fcm",[_P]:"fire-fcm-compat",[bP]:"fire-perf",[EP]:"fire-perf-compat",[wP]:"fire-rc",[IP]:"fire-rc-compat",[TP]:"fire-gcs",[SP]:"fire-gcs-compat",[CP]:"fire-fst",[DP]:"fire-fst-compat",[AP]:"fire-vertex","fire-js":"fire-js",[RP]:"fire-js-all"};var Ia=new Map,NP=new Map,op=new Map;function Ew(n,e){try{n.container.addComponent(e)}catch(t){qn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function an(n){let e=n.name;if(op.has(e))return qn.debug(`There were multiple attempts to register component ${e}.`),!1;op.set(e,n);for(let t of Ia.values())Ew(t,n);for(let t of NP.values())Ew(t,n);return!0}function Ns(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function It(n){return n==null?!1:n.settings!==void 0}var kP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ar=new on("app","Firebase",kP);var ap=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}};var Dr=PP;function lp(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:sp,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ar.create("bad-app-name",{appName:String(i)});if(t||(t=Kf()),!t)throw Ar.create("no-options");let s=Ia.get(i);if(s){if(Tn(t,s.options)&&Tn(r,s.config))return s;throw Ar.create("duplicate-app",{appName:i})}let o=new Yu(i);for(let u of op.values())o.addComponent(u);let c=new ap(t,r,o);return Ia.set(i,c),c}function bi(n=sp){let e=Ia.get(n);if(!e&&n===sp&&Kf())return lp();if(!e)throw Ar.create("no-app",{appName:n});return e}function Xu(){return Array.from(Ia.values())}function Re(n,e,t){var r;let i=(r=OP[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qn.warn(c.join(" "));return}an(new gt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var xP="firebase-heartbeat-database",MP=1,Ta="firebase-heartbeat-store",np=null;function Sw(){return np||(np=_w(xP,MP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ta)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ar.create("idb-open",{originalErrorMessage:n.message})})),np}function FP(n){return v(this,null,function*(){try{let t=(yield Sw()).transaction(Ta),r=yield t.objectStore(Ta).get(Cw(n));return yield t.done,r}catch(e){if(e instanceof Vt)qn.warn(e.message);else{let t=Ar.create("idb-get",{originalErrorMessage:e?.message});qn.warn(t.message)}}})}function ww(n,e){return v(this,null,function*(){try{let r=(yield Sw()).transaction(Ta,"readwrite");yield r.objectStore(Ta).put(e,Cw(n)),yield r.done}catch(t){if(t instanceof Vt)qn.warn(t.message);else{let r=Ar.create("idb-set",{originalErrorMessage:t?.message});qn.warn(r.message)}}})}function Cw(n){return`${n.name}!${n.options.appId}`}var LP=1024,VP=30,cp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new up(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Iw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>VP){let o=$P(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){qn.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Iw(),{heartbeatsToSend:r,unsentEntries:i}=UP(this._heartbeatsCache.heartbeats),s=ba(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return qn.warn(t),""}})}};function Iw(){return new Date().toISOString().substring(0,10)}function UP(n,e=LP){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Tw(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Tw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var up=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return Ea()?lw().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield FP(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ww(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ww(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Tw(n){return ba(JSON.stringify({version:2,heartbeats:n})).length}function $P(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function BP(n){an(new gt("platform-logger",e=>new rp(e),"PRIVATE")),an(new gt("heartbeat",e=>new cp(e),"PRIVATE")),Re(ip,bw,n),Re(ip,bw,"esm2017"),Re("fire-js","")}BP("");var jP="firebase",zP="11.10.0";Re(jP,zP,"app");function dp(n){n===void 0&&(Rv(dp),n=O(Je));let e=n.get(Rc);return t=>new $t(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let c=t.subscribe({next:u=>{r.next(u),o()},complete:()=>{r.complete(),o()},error:u=>{r.error(u),o()}});return c.add(()=>{r.unsubscribe(),o()}),c})}var Rr=new Lo("ANGULARFIRE2_VERSION");function Sa(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var xs=(n,e)=>{let t=e?[e]:Xu(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ks=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(ks||{}),Aw=uh()&&typeof Zone<"u"?ks.WARN:ks.SILENT;var Ju=class{zone;delegate;constructor(e,t=bv){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,t,r)}},Pr=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=O(Ie);this.outsideAngular=t.runOutsideAngular(()=>new Ju(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Ju(typeof Zone>"u"?void 0:Zone.current,_v))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dw=!1;function HP(n,e){!Dw&&(Aw>ks.SILENT||uh())&&(Dw=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),Aw>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function qP(n){let e=O(Ie,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Ei(n){let e=O(Ie,{optional:!0});return e?e.run(()=>n()):n()}var WP=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),at(t,()=>Ei(()=>n.apply(void 0,r)))),Fe=(n,e,t)=>(t||=e?ks.WARN:ks.VERBOSE,function(){let r,i=arguments,s,o,c;try{s=O(Pr),o=O(Rc),c=O(pn)}catch{return HP(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Ei(()=>o.add())),i[l]=WP(i[l],r,c));let u=qP(()=>n.apply(this,i));return e?u instanceof $t?u.pipe(qd(s.outsideAngular),Hd(s.insideAngular),dp(c)):u instanceof Promise?Ei(()=>new Promise((l,f)=>{o.run(()=>u).then(p=>at(c,()=>Ei(()=>l(p))),p=>at(c,()=>Ei(()=>f(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Ei(()=>u):u instanceof $t?u.pipe(qd(s.outsideAngular),Hd(s.insideAngular)):Ei(()=>u)});var Wn=class{constructor(e){return e}},wi=class{constructor(){return Xu()}};function GP(n){return n&&n.length===1?n[0]:new Wn(bi())}var hp=new q("angularfire2._apps"),KP={provide:Wn,useFactory:GP,deps:[[new At,hp]]},YP={provide:wi,deps:[[new At,hp]]};function QP(n){return(e,t)=>{let r=t.get(vt);Re("angularfire",Rr.full,"core"),Re("angularfire",Rr.full,"app"),Re("angular",Xv.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Wn(i)}}function s3(n,...e){return Dt([KP,YP,{provide:hp,useFactory:QP(n),multi:!0,deps:[Ie,Je,Pr,...e]}])}var o3=Fe(lp,!0);var XP=new Map,JP={activated:!1,tokenObservers:[]},ZP={initialized:!1,enabled:!1};function cn(n){return XP.get(n)||Object.assign({},JP)}function Nw(){return ZP}var eO="https://content-firebaseappcheck.googleapis.com/v1";var tO="exchangeDebugToken",Rw={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},p3=24*60*60*1e3;var gp=class{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new vi,this.pending.promise.catch(t=>{}),yield nO(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new vi,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function nO(n){return new Promise(e=>{setTimeout(e,n)})}var rO={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Or=new on("appCheck","AppCheck",rO);function kw(n){if(!cn(n).activated)throw Or.create("use-before-activation",{appName:n.name})}function xw(r,i){return v(this,arguments,function*({url:n,body:e},t){let s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){let _=yield o.getHeartbeatsHeader();_&&(s["X-Firebase-Client"]=_)}let c={method:"POST",body:JSON.stringify(e),headers:s},u;try{u=yield fetch(n,c)}catch(_){throw Or.create("fetch-network-error",{originalErrorMessage:_?.message})}if(u.status!==200)throw Or.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(_){throw Or.create("fetch-parse-error",{originalErrorMessage:_?.message})}let f=l.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw Or.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(f[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function Mw(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${eO}/projects/${t}/apps/${r}:${tO}?key=${i}`,body:{debug_token:e}}}var iO="firebase-app-check-database",sO=1,mp="firebase-app-check-store";var Zu=null;function oO(){return Zu||(Zu=new Promise((n,e)=>{try{let t=indexedDB.open(iO,sO);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Or.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(mp,{keyPath:"compositeKey"})}}}catch(t){e(Or.create("storage-open",{originalErrorMessage:t?.message}))}}),Zu)}function aO(n,e){return cO(uO(n),e)}function cO(n,e){return v(this,null,function*(){let r=(yield oO()).transaction(mp,"readwrite"),s=r.objectStore(mp).put({compositeKey:n,value:e});return new Promise((o,c)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;c(Or.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function uO(n){return`${n.options.appId}-${n.name}`}var Ca=new Sn("@firebase/app-check");function fp(n,e){return Ea()?aO(n,e).catch(t=>{Ca.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Fw(){return Nw().enabled}function Lw(){return v(this,null,function*(){let n=Nw();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var lO={error:"UNKNOWN_ERROR"};function dO(n){return Hu.encodeString(JSON.stringify(n),!1)}function yp(n,e=!1,t=!1){return v(this,null,function*(){let r=n.app;kw(r);let i=cn(r),s=i.token,o;if(s&&!Aa(s)&&(i.token=void 0,s=void 0),!s){let l=yield i.cachedTokenPromise;l&&(Aa(l)?s=l:yield fp(r,void 0))}if(!e&&s&&Aa(s))return{token:s.token};let c=!1;if(Fw())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=xw(Mw(r,yield Lw()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=yield i.exchangeTokenPromise;return yield fp(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Ca.warn(l.message):t&&Ca.error(l),pp(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),s=yield cn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Ca.warn(l.message):t&&Ca.error(l),o=l}let u;return s?o?Aa(s)?u={token:s.token,internalError:o}:u=pp(o):(u={token:s.token},i.token=s,yield fp(r,s)):u=pp(o),c&&gO(r,u),u})}function hO(n){return v(this,null,function*(){let e=n.app;kw(e);let{provider:t}=cn(e);if(Fw()){let r=yield Lw(),{token:i}=yield xw(Mw(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function fO(n,e,t,r){let{app:i}=n,s=cn(i),o={next:t,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Aa(s.token)){let c=s.token;Promise.resolve().then(()=>{t({token:c.token}),Pw(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Pw(n))}function Vw(n,e){let t=cn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Pw(n){let{app:e}=n,t=cn(e),r=t.tokenRefresher;r||(r=pO(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function pO(n){let{app:e}=n;return new gp(()=>v(null,null,function*(){let t=cn(e),r;if(t.token?r=yield yp(n,!0):r=yield yp(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=cn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Rw.RETRIAL_MIN_WAIT,Rw.RETRIAL_MAX_WAIT)}function gO(n,e){let t=cn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Aa(n){return n.expireTimeMillis-Date.now()>0}function pp(n){return{token:dO(lO),error:n}}var vp=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=cn(this.app);for(let t of e)Vw(this.app,t.next);return Promise.resolve()}};function mO(n,e){return new vp(n,e)}function yO(n){return{getToken:e=>yp(n,e),getLimitedUseToken:()=>hO(n),addTokenListener:e=>fO(n,"INTERNAL",e),removeTokenListener:e=>Vw(n.app,e)}}var vO="@firebase/app-check",_O="0.10.1";var bO="app-check",Ow="app-check-internal";function EO(){an(new gt(bO,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return mO(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Ow).initialize()})),an(new gt(Ow,n=>{let e=n.getProvider("app-check").getImmediate();return yO(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Re(vO,_O)}EO();var wO="app-check";var Ms=class{constructor(){return xs(wO)}};var IO=["localhost","0.0.0.0","127.0.0.1"],A3=typeof window<"u"&&IO.includes(window.location.hostname);function e0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var t0=e0,n0=new on("auth","Firebase",e0());var sl=new Sn("@firebase/auth");function TO(n,...e){sl.logLevel<=re.WARN&&sl.warn(`Auth (${Dr}): ${n}`,...e)}function tl(n,...e){sl.logLevel<=re.ERROR&&sl.error(`Auth (${Dr}): ${n}`,...e)}function Dn(n,...e){throw jp(n,...e)}function Ii(n,...e){return jp(n,...e)}function r0(n,e,t){let r=Object.assign(Object.assign({},t0()),{[e]:t});return new on("auth","Firebase",r).create(e,{appName:n.name})}function Yn(n){return r0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jp(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return n0.create(n,...e)}function j(n,e,...t){if(!n)throw jp(e,...t)}function Gn(n){let e="INTERNAL ASSERTION FAILED: "+n;throw tl(e),new Error(e)}function xr(n,e){n||Gn(e)}function wp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function SO(){return Uw()==="http:"||Uw()==="https:"}function Uw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function CO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SO()||ow()||"connection"in navigator)?navigator.onLine:!0}function AO(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ti=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,xr(t>e,"Short delay should be less than long delay!"),this.isMobile=iw()||aw()}get(){return CO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function zp(n,e){xr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var ol=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var DO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var RO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PO=new Ti(3e4,6e4);function Qn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Xn(s,o,c,u){return v(this,arguments,function*(n,e,t,r,i={}){return i0(n,i,()=>v(null,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=wa(Object.assign({key:n.config.apiKey},f)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let _=Object.assign({method:e,headers:m},l);return sw()||(_.referrerPolicy="no-referrer"),n.emulatorConfig&&Cr(n.emulatorConfig.host)&&(_.credentials="include"),ol.fetch()(yield s0(n,n.config.apiHost,t,p),_)}))})}function i0(n,e,t){return v(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},DO),e);try{let i=new Ip(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw el(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw el(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw el(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw el(n,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw r0(n,f,l);Dn(n,f)}}catch(i){if(i instanceof Vt)throw i;Dn(n,"network-request-failed",{message:String(i)})}})}function Fa(s,o,c,u){return v(this,arguments,function*(n,e,t,r,i={}){let l=yield Xn(n,e,t,r,i);return"mfaPendingCredential"in l&&Dn(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function s0(n,e,t,r){return v(this,null,function*(){let i=`${e}${t}?${r}`,s=n,o=s.config.emulator?zp(n.config,i):`${n.config.apiScheme}://${i}`;return RO.includes(t)&&(yield s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o})}function OO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Ip=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ii(this.auth,"network-request-failed")),PO.get())})}};function el(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Ii(n,e,r);return i.customData._tokenResponse=t,i}function $w(n){return n!==void 0&&n.enterprise!==void 0}var Tp=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return OO(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function NO(n,e){return v(this,null,function*(){return Xn(n,"GET","/v2/recaptchaConfig",Qn(n,e))})}function kO(n,e){return v(this,null,function*(){return Xn(n,"POST","/v1/accounts:delete",e)})}function al(n,e){return v(this,null,function*(){return Xn(n,"POST","/v1/accounts:lookup",e)})}function Ra(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Hp(n,e=!1){return v(this,null,function*(){let t=qe(n),r=yield t.getIdToken(e),i=qp(r);j(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ra(_p(i.auth_time)),issuedAtTime:Ra(_p(i.iat)),expirationTime:Ra(_p(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function _p(n){return Number(n)*1e3}function qp(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return tl("JWT malformed, contained fewer than 3 sections"),null;try{let i=qu(t);return i?JSON.parse(i):(tl("Failed to decode base64 JWT payload"),null)}catch(i){return tl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Bw(n){let e=qp(n);return j(e,"internal-error"),j(typeof e.exp<"u","internal-error"),j(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Oa(n,e,t=!1){return v(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Vt&&xO(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function xO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Sp=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),t)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Na=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ra(this.lastLoginAt),this.creationTime=Ra(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function cl(n){return v(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Oa(n,al(t,{idToken:r}));j(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?o0(s.providerUserInfo):[],c=MO(n.providerData,o),u=n.isAnonymous,l=!(n.email&&s.passwordHash)&&!c?.length,f=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Na(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,p)})}function Wp(n){return v(this,null,function*(){let e=qe(n);yield cl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function MO(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function o0(n){return n.map(e=>{var{providerId:t}=e,r=zd(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function FO(n,e){return v(this,null,function*(){let t=yield i0(n,{},()=>v(null,null,function*(){let r=wa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=yield s0(n,i,"/v1/token",`key=${s}`),c=yield n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return n.emulatorConfig&&Cr(n.emulatorConfig.host)&&(u.credentials="include"),ol.fetch()(o,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function LO(n,e){return v(this,null,function*(){return Xn(n,"POST","/v2/accounts:revokeToken",Qn(n,e))})}var Pa=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){j(e.idToken,"internal-error"),j(typeof e.idToken<"u","internal-error"),j(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){j(e.length!==0,"internal-error");let t=Bw(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return v(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(j(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield FO(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(j(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(j(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(j(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Gn("not implemented")}};function Nr(n,e){j(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var kr=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=zd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Na(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let t=yield Oa(this,this.stsTokenManager.getToken(this.auth,e));return j(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Hp(this,e)}reload(){return Wp(this)}_assign(e){this!==e&&(j(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield cl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(It(this.auth.app))return Promise.reject(Yn(this.auth));let e=yield this.getIdToken();return yield Oa(this,kO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,c,u,l,f;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,_=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,D=(o=t.photoURL)!==null&&o!==void 0?o:void 0,P=(c=t.tenantId)!==null&&c!==void 0?c:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,$=(l=t.createdAt)!==null&&l!==void 0?l:void 0,L=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:V,emailVerified:Y,isAnonymous:we,providerData:J,stsTokenManager:I}=t;j(V&&I,e,"internal-error");let y=Pa.fromJSON(this.name,I);j(typeof V=="string",e,"internal-error"),Nr(p,e.name),Nr(m,e.name),j(typeof Y=="boolean",e,"internal-error"),j(typeof we=="boolean",e,"internal-error"),Nr(_,e.name),Nr(D,e.name),Nr(P,e.name),Nr(R,e.name),Nr($,e.name),Nr(L,e.name);let E=new n({uid:V,auth:e,email:m,emailVerified:Y,displayName:p,isAnonymous:we,photoURL:D,phoneNumber:_,tenantId:P,stsTokenManager:y,createdAt:$,lastLoginAt:L});return J&&Array.isArray(J)&&(E.providerData=J.map(w=>Object.assign({},w))),R&&(E._redirectEventId=R),E}static _fromIdTokenResponse(e,t,r=!1){return v(this,null,function*(){let i=new Pa;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield cl(s),s})}static _fromGetAccountInfoResponse(e,t,r){return v(this,null,function*(){let i=t.users[0];j(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?o0(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new Pa;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Na(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var jw=new Map;function Kn(n){xr(n instanceof Function,"Expected a class definition");let e=jw.get(n);return e?(xr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,jw.set(n,e),e)}var VO=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(t,r){return v(this,null,function*(){this.storage[t]=r})}_get(t){return v(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return v(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Cp=VO;function nl(n,e,t){return`firebase:${n}:${e}:${t}`}var ul=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=nl(this.userKey,i.apiKey,s),this.fullPersistenceKey=nl("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield al(this.auth,{idToken:e}).catch(()=>{});return t?kr._fromGetAccountInfoResponse(this.auth,t,e):null}return kr._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(this,null,function*(){if(!t.length)return new n(Kn(Cp),e,r);let i=(yield Promise.all(t.map(l=>v(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Kn(Cp),o=nl(r,e.config.apiKey,e.name),c=null;for(let l of t)try{let f=yield l._get(o);if(f){let p;if(typeof f=="string"){let m=yield al(e,{idToken:f}).catch(()=>{});if(!m)break;p=yield kr._fromGetAccountInfoResponse(e,m,f)}else p=kr._fromJSON(e,f);l!==s&&(c=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new n(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(t.map(l=>v(null,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new n(s,e,r))})}};function zw(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(l0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(a0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(h0(e))return"Blackberry";if(f0(e))return"Webos";if(c0(e))return"Safari";if((e.includes("chrome/")||u0(e))&&!e.includes("edge/"))return"Chrome";if(d0(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function a0(n=Ge()){return/firefox\//i.test(n)}function c0(n=Ge()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function u0(n=Ge()){return/crios\//i.test(n)}function l0(n=Ge()){return/iemobile/i.test(n)}function d0(n=Ge()){return/android/i.test(n)}function h0(n=Ge()){return/blackberry/i.test(n)}function f0(n=Ge()){return/webos/i.test(n)}function Gp(n=Ge()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function UO(n=Ge()){var e;return Gp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $O(){return cw()&&document.documentMode===10}function p0(n=Ge()){return Gp(n)||d0(n)||f0(n)||h0(n)||/windows phone/i.test(n)||l0(n)}function g0(n,e=[]){let t;switch(n){case"Browser":t=zw(Ge());break;case"Worker":t=`${zw(Ge())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Dr}/${r}`}var Ap=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function BO(t){return v(this,arguments,function*(n,e={}){return Xn(n,"GET","/v2/passwordPolicy",Qn(n,e))})}var jO=6,Dp=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:jO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Rp=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ll(this),this.idTokenSubscription=new ll(this),this.beforeStateQueue=new Ap(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Kn(t)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,s;if(!this._deleted&&(this.persistenceManager=yield ul.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let t=yield al(this,{idToken:e}),r=yield kr._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var t;if(It(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return j(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield cl(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=AO()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(It(this.app))return Promise.reject(Yn(this));let t=e?qe(e):null;return t&&j(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return v(this,null,function*(){if(!this._deleted)return e&&j(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return It(this.app)?Promise.reject(Yn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return It(this.app)?Promise.reject(Yn(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(Kn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield BO(this),t=new Dp(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new on("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield LO(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Kn(e)||this._popupRedirectResolver;j(t,this,"argument-error"),this.redirectPersistenceManager=yield ul.create(this,[Kn(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(j(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(t);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=g0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return v(this,null,function*(){var e;if(It(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&TO(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Mr(n){return qe(n)}var ll=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=hw(t=>this.observer=t)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var vl={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zO(n){vl=n}function m0(n){return vl.loadJS(n)}function HO(){return vl.recaptchaEnterpriseScript}function qO(){return vl.gapiScript}function y0(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Pp=class{constructor(){this.enterprise=new Op}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},Op=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var WO="recaptcha-enterprise",v0="NO_RECAPTCHA",Np=class{constructor(e){this.type=WO,this.auth=Mr(e)}verify(e="verify",t=!1){return v(this,null,function*(){function r(s){return v(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,c)=>v(null,null,function*(){NO(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let l=new Tp(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{c(u)})}))})}function i(s,o,c){let u=window.grecaptcha;$w(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(v0)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Pp().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(c=>{if(!t&&$w(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=HO();u.length!==0&&(u+=c),m0(u).then(()=>{i(c,s,o)}).catch(l=>{o(l)})}}).catch(c=>{o(c)})})})}};function Da(n,e,t,r=!1,i=!1){return v(this,null,function*(){let s=new Np(n),o;if(i)o=v0;else try{o=yield s.verify(t)}catch{o=yield s.verify(t,!0)}let c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){let u=c.phoneEnrollmentInfo.phoneNumber,l=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){let u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c})}function dl(n,e,t,r,i){return v(this,null,function*(){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let c=yield Da(n,e,t,t==="getOobCode");return r(n,c)}else return r(n,e).catch(c=>v(null,null,function*(){if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield Da(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(c)}));else if(i==="PHONE_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){let c=yield Da(n,e,t);return r(n,c).catch(u=>v(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let f=yield Da(n,e,t,!1,!0);return r(n,f)}return Promise.reject(u)}))}else{let c=yield Da(n,e,t,!1,!0);return r(n,c)}else return Promise.reject(i+" provider is not supported.")})}function Kp(n,e){let t=Ns(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Tn(s,e??{}))return i;Dn(i,"already-initialized")}return t.initialize({options:e})}function GO(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Kn);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Yp(n,e,t){let r=Mr(n);j(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=_0(e),{host:o,port:c}=KO(e),u=c===null?"":`:${c}`,l={url:`${s}//${o}${u}/`},f=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){j(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),j(Tn(l,r.config.emulator)&&Tn(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Cr(o)?(Gu(`${s}//${o}${u}`),Ku("Auth",!0)):i||YO()}function _0(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function KO(n){let e=_0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:Hw(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:Hw(o)}}}function Hw(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function YO(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var ka=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gn("not implemented")}_getIdTokenResponse(e){return Gn("not implemented")}_linkToIdToken(e,t){return Gn("not implemented")}_getReauthenticationResolver(e){return Gn("not implemented")}};function QO(n,e){return v(this,null,function*(){return Xn(n,"POST","/v1/accounts:signUp",e)})}function XO(n,e){return v(this,null,function*(){return Fa(n,"POST","/v1/accounts:signInWithPassword",Qn(n,e))})}function b0(n,e){return v(this,null,function*(){return Xn(n,"POST","/v1/accounts:sendOobCode",Qn(n,e))})}function JO(n,e){return v(this,null,function*(){return b0(n,e)})}function ZO(n,e){return v(this,null,function*(){return b0(n,e)})}function eN(n,e){return v(this,null,function*(){return Fa(n,"POST","/v1/accounts:signInWithEmailLink",Qn(n,e))})}function tN(n,e){return v(this,null,function*(){return Fa(n,"POST","/v1/accounts:signInWithEmailLink",Qn(n,e))})}var xa=class n extends ka{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dl(e,t,"signInWithPassword",XO,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return eN(e,{email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}})}_linkToIdToken(e,t){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dl(e,r,"signUpPassword",QO,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return tN(e,{idToken:t,email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function bp(n,e){return v(this,null,function*(){return Fa(n,"POST","/v1/accounts:signInWithIdp",Qn(n,e))})}function nN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rN(n){let e=Ps(Os(n)).link,t=e?Ps(Os(e)).deep_link_id:null,r=Ps(Os(n)).deep_link_id;return(r?Ps(Os(r)).link:null)||r||t||e||n}var hl=class n{constructor(e){var t,r,i,s,o,c;let u=Ps(Os(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,p=nN((i=u.mode)!==null&&i!==void 0?i:null);j(l&&f&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.lang)!==null&&o!==void 0?o:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let t=rN(e);try{return new n(t)}catch{return null}}};var E0=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return xa._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=hl.parseLink(r);return j(i,"argument-error"),xa._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),fl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var kp=class extends fl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function iN(n,e){return v(this,null,function*(){return Fa(n,"POST","/v1/accounts:signUp",Qn(n,e))})}var Fs=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(this,null,function*(){let s=yield kr._fromIdTokenResponse(e,r,i),o=qw(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=qw(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function qw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var xp=class n extends Vt{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function w0(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?xp._fromErrorAndOperation(n,s,e,r):s})}function sN(n,e,t=!1){return v(this,null,function*(){let r=yield Oa(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Fs._forOperation(n,"link",r)})}function oN(n,e,t=!1){return v(this,null,function*(){let{auth:r}=n;if(It(r.app))return Promise.reject(Yn(r));let i="reauthenticate";try{let s=yield Oa(n,w0(r,i,e,n),t);j(s.idToken,r,"internal-error");let o=qp(s.idToken);j(o,r,"internal-error");let{sub:c}=o;return j(n.uid===c,r,"user-mismatch"),Fs._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Dn(r,"user-mismatch"),s}})}function I0(n,e,t=!1){return v(this,null,function*(){if(It(n.app))return Promise.reject(Yn(n));let r="signIn",i=yield w0(n,r,e),s=yield Fs._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function Qp(n,e){return v(this,null,function*(){return I0(Mr(n),e)})}function T0(n,e,t){var r;j(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),j(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),j(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(j(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(j(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function S0(n){return v(this,null,function*(){let e=Mr(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Xp(n,e,t){return v(this,null,function*(){let r=Mr(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&T0(r,i,t),yield dl(r,i,"getOobCode",ZO,"EMAIL_PASSWORD_PROVIDER")})}function Jp(n,e,t){return v(this,null,function*(){if(It(n.app))return Promise.reject(Yn(n));let r=Mr(n),o=yield dl(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iN,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&S0(n),u}),c=yield Fs._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(c.user),c})}function Zp(n,e,t){return It(n.app)?Promise.reject(Yn(n)):Qp(qe(n),E0.credential(e,t)).catch(r=>v(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&S0(n),r}))}function eg(n,e){return v(this,null,function*(){let t=qe(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&T0(t.auth,i,e);let{email:s}=yield JO(t.auth,i);s!==n.email&&(yield n.reload())})}function _l(n,e,t,r){return qe(n).onIdTokenChanged(e,t,r)}function tg(n,e,t){return qe(n).beforeAuthStateChanged(e,t)}function La(n,e,t,r){return qe(n).onAuthStateChanged(e,t,r)}function ng(n){return qe(n).signOut()}var pl="__sak";var gl=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pl,"1"),this.storage.removeItem(pl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var aN=1e3,cN=10,uN=(()=>{class n extends gl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=p0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);$O()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,cN):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},aN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return v(this,null,function*(){yield hr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return v(this,null,function*(){let r=yield hr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return v(this,null,function*(){yield hr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),C0=uN;var lN=(()=>{class n extends gl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),rg=lN;function dN(n){return Promise.all(n.map(e=>v(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var hN=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return v(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(f=>v(this,null,function*(){return f(r.origin,o)})),l=yield dN(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function A0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Mp=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let l=A0("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(m.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function An(){return window}function fN(n){An().location.href=n}function D0(){return typeof An().WorkerGlobalScope<"u"&&typeof An().importScripts=="function"}function pN(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function gN(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function mN(){return D0()?self:null}var R0="firebaseLocalStorageDb",yN=1,ml="firebaseLocalStorage",P0="fbase_key",Si=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function bl(n,e){return n.transaction([ml],e?"readwrite":"readonly").objectStore(ml)}function vN(){let n=indexedDB.deleteDatabase(R0);return new Si(n).toPromise()}function Fp(){let n=indexedDB.open(R0,yN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(ml,{keyPath:P0})}catch(i){t(i)}}),n.addEventListener("success",()=>v(null,null,function*(){let r=n.result;r.objectStoreNames.contains(ml)?e(r):(r.close(),yield vN(),e(yield Fp()))}))})}function Ww(n,e,t){return v(this,null,function*(){let r=bl(n,!0).put({[P0]:e,value:t});return new Si(r).toPromise()})}function _N(n,e){return v(this,null,function*(){let t=bl(n,!1).get(e),r=yield new Si(t).toPromise();return r===void 0?null:r.value})}function Gw(n,e){let t=bl(n,!0).delete(e);return new Si(t).toPromise()}var bN=800,EN=3,wN=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield Fp(),this.db)})}_withRetries(t){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>EN)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return D0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=hN._getInstance(mN()),this.receiver._subscribe("keyChanged",(t,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var t,r;if(this.activeServiceWorker=yield pN(),!this.activeServiceWorker)return;this.sender=new Mp(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||gN()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Fp();return yield Ww(t,pl,"1"),yield Gw(t,pl),!0}catch{}return!1})}_withPendingWrite(t){return v(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>Ww(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return v(this,null,function*(){let r=yield this._withRetries(i=>_N(i,t));return this.localCache[t]=r,r})}_remove(t){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>Gw(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return v(this,null,function*(){let t=yield this._withRetries(s=>{let o=bl(s,!1).getAll();return new Si(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),bN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),O0=wN;var M3=y0("rcb"),F3=new Ti(3e4,6e4);function IN(n,e){return e?Kn(e):(j(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Ma=class extends ka{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bp(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bp(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bp(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function TN(n){return I0(n.auth,new Ma(n),n.bypassAuthState)}function SN(n){let{auth:e,user:t}=n;return j(t,e,"internal-error"),oN(t,new Ma(n),n.bypassAuthState)}function CN(n){return v(this,null,function*(){let{auth:e,user:t}=n;return j(t,e,"internal-error"),sN(t,new Ma(n),n.bypassAuthState)})}var Lp=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TN;case"linkViaPopup":case"linkViaRedirect":return CN;case"reauthViaPopup":case"reauthViaRedirect":return SN;default:Dn(this.auth,"internal-error")}}resolve(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var L3=new Ti(2e3,1e4);var AN="pendingRedirect",rl=new Map,Vp=class n extends Lp{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=rl.get(this.auth._key());if(!e){try{let r=(yield DN(this.resolver,this.auth))?yield hr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}rl.set(this.auth._key(),e)}return this.bypassAuthState||rl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return hr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,hr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function DN(n,e){return v(this,null,function*(){let t=ON(e),r=PN(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function RN(n,e){rl.set(n._key(),e)}function PN(n){return Kn(n._redirectPersistence)}function ON(n){return nl(AN,n.config.apiKey,n.name)}function NN(n,e,t=!1){return v(this,null,function*(){if(It(n.app))return Promise.reject(Yn(n));let r=Mr(n),i=IN(r,e),o=yield new Vp(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var kN=10*60*1e3,Up=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!N0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ii(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kw(e))}saveEventToCache(e){this.cachedEventUids.add(Kw(e)),this.lastProcessedEventTime=Date.now()}};function Kw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function N0({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function xN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return N0(n);default:return!1}}function MN(t){return v(this,arguments,function*(n,e={}){return Xn(n,"GET","/v1/projects",e)})}var FN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LN=/^https?/;function VN(n){return v(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield MN(n);for(let t of e)try{if(UN(t))return}catch{}Dn(n,"unauthorized-domain")})}function UN(n){let e=wp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!LN.test(t))return!1;if(FN.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var $N=new Ti(3e4,6e4);function Yw(){let n=An().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function BN(n){return new Promise((e,t)=>{var r,i,s;function o(){Yw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yw(),t(Ii(n,"network-request-failed"))},timeout:$N.get()})}if(!((i=(r=An().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=An().gapi)===null||s===void 0)&&s.load)o();else{let c=y0("iframefcb");return An()[c]=()=>{gapi.load?o():t(Ii(n,"network-request-failed"))},m0(`${qO()}?onload=${c}`).catch(u=>t(u))}}).catch(e=>{throw il=null,e})}var il=null;function jN(n){return il=il||BN(n),il}var zN=new Ti(5e3,15e3),HN="__/auth/iframe",qN="emulator/auth/iframe",WN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KN(n){let e=n.config;j(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?zp(e,qN):`https://${n.config.authDomain}/${HN}`,r={apiKey:e.apiKey,appName:n.name,v:Dr},i=GN.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${wa(r).slice(1)}`}function YN(n){return v(this,null,function*(){let e=yield jN(n),t=An().gapi;return j(t,n,"internal-error"),e.open({where:document.body,url:KN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WN,dontclear:!0},r=>new Promise((i,s)=>v(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Ii(n,"network-request-failed"),c=An().setTimeout(()=>{s(o)},zN.get());function u(){An().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var QN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XN=500,JN=600,ZN="_blank",ek="http://localhost",yl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function tk(n,e,t,r=XN,i=JN){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},QN),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ge().toLowerCase();t&&(c=u0(l)?ZN:t),a0(l)&&(e=e||ek,u.scrollbars="yes");let f=Object.entries(u).reduce((m,[_,D])=>`${m}${_}=${D},`,"");if(UO(l)&&c!=="_self")return nk(e||"",c),new yl(null);let p=window.open(e||"",c,f);j(p,n,"popup-blocked");try{p.focus()}catch{}return new yl(p)}function nk(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var rk="__/auth/handler",ik="emulator/auth/handler",sk=encodeURIComponent("fac");function Qw(n,e,t,r,i,s){return v(this,null,function*(){j(n.config.authDomain,n,"auth-domain-config-required"),j(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Dr,eventId:i};if(e instanceof fl){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",dw(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(s||{}))o[f]=p}if(e instanceof kp){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}n.tenantId&&(o.tid=n.tenantId);let c=o;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield n._getAppCheckToken(),l=u?`#${sk}=${encodeURIComponent(u)}`:"";return`${ok(n)}?${wa(c).slice(1)}${l}`})}function ok({config:n}){return n.emulator?zp(n,ik):`https://${n.authDomain}/${rk}`}var Ep="webStorageSupport",$p=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rg,this._completeRedirectFn=NN,this._overrideRedirectResult=RN}_openPopup(e,t,r,i){return v(this,null,function*(){var s;xr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Qw(e,t,r,wp(),i);return tk(e,o,A0())})}_openRedirect(e,t,r,i){return v(this,null,function*(){yield this._originValidation(e);let s=yield Qw(e,t,r,wp(),i);return fN(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(xr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return v(this,null,function*(){let t=yield YN(e),r=new Up(e);return t.register("authEvent",i=>(j(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ep,{type:Ep},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Ep];o!==void 0&&t(!!o),Dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=VN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return p0()||c0()||Gp()}},k0=$p;var Xw="@firebase/auth",Jw="1.10.8";var Bp=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function ak(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ck(n){an(new gt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;j(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:g0(n)},l=new Rp(r,i,s,u);return GO(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),an(new gt("auth-internal",e=>{let t=Mr(e.getProvider("auth").getImmediate());return(r=>new Bp(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Re(Xw,Jw,ak(n)),Re(Xw,Jw,"esm2017")}var uk=5*60,lk=Yf("authIdTokenMaxAge")||uk,Zw=null,dk=n=>e=>v(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>lk)return;let i=t?.token;Zw!==i&&(Zw=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function ig(n=bi()){let e=Ns(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Kp(n,{popupRedirectResolver:k0,persistence:[O0,C0,rg]}),r=Yf("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=dk(s.toString());tg(t,o,()=>o(t.currentUser)),_l(t,c=>o(c))}}let i=Gf("auth");return i&&Yp(t,`http://${i}`),t}function hk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}zO({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=Ii("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",hk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ck("Browser");function M0(n){return new $t(function(e){var t=La(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var F0="auth",Ci=class{constructor(e){return e}},Va=class{constructor(){return xs(F0)}};var sg=new q("angularfire2.auth-instances");function Xk(n,e){let t=Sa(F0,n,e);return t&&new Ci(t)}function Jk(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ci(r)}}var Zk={provide:Va,deps:[[new At,sg]]},ex={provide:Ci,useFactory:Xk,deps:[[new At,sg],Wn]};function R9(n,...e){return Re("angularfire",Rr.full,"auth"),Dt([ex,Zk,{provide:sg,useFactory:Jk(n),multi:!0,deps:[Ie,Je,Pr,wi,[new At,Ms],...e]}])}var P9=Fe(M0,!0);var L0=Fe(Jp,!0,2);var O9=Fe(ig,!0);var og=Fe(La,!0);var ag=Fe(eg,!0,2),V0=Fe(Xp,!0,2);var U0=Fe(Zp,!0,2);var $0=Fe(ng,!0,2);var B0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j0={};var Jn,cg;(function(){var n;function e(I,y){function E(){}E.prototype=y.prototype,I.D=y.prototype,I.prototype=new E,I.prototype.constructor=I,I.C=function(w,T,C){for(var b=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)b[ht-2]=arguments[ht];return y.prototype[T].apply(w,b)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,y,E){E||(E=0);var w=Array(16);if(typeof y=="string")for(var T=0;16>T;++T)w[T]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(T=0;16>T;++T)w[T]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=I.g[0],E=I.g[1],T=I.g[2];var C=I.g[3],b=y+(C^E&(T^C))+w[0]+3614090360&4294967295;y=E+(b<<7&4294967295|b>>>25),b=C+(T^y&(E^T))+w[1]+3905402710&4294967295,C=y+(b<<12&4294967295|b>>>20),b=T+(E^C&(y^E))+w[2]+606105819&4294967295,T=C+(b<<17&4294967295|b>>>15),b=E+(y^T&(C^y))+w[3]+3250441966&4294967295,E=T+(b<<22&4294967295|b>>>10),b=y+(C^E&(T^C))+w[4]+4118548399&4294967295,y=E+(b<<7&4294967295|b>>>25),b=C+(T^y&(E^T))+w[5]+1200080426&4294967295,C=y+(b<<12&4294967295|b>>>20),b=T+(E^C&(y^E))+w[6]+2821735955&4294967295,T=C+(b<<17&4294967295|b>>>15),b=E+(y^T&(C^y))+w[7]+4249261313&4294967295,E=T+(b<<22&4294967295|b>>>10),b=y+(C^E&(T^C))+w[8]+1770035416&4294967295,y=E+(b<<7&4294967295|b>>>25),b=C+(T^y&(E^T))+w[9]+2336552879&4294967295,C=y+(b<<12&4294967295|b>>>20),b=T+(E^C&(y^E))+w[10]+4294925233&4294967295,T=C+(b<<17&4294967295|b>>>15),b=E+(y^T&(C^y))+w[11]+2304563134&4294967295,E=T+(b<<22&4294967295|b>>>10),b=y+(C^E&(T^C))+w[12]+1804603682&4294967295,y=E+(b<<7&4294967295|b>>>25),b=C+(T^y&(E^T))+w[13]+4254626195&4294967295,C=y+(b<<12&4294967295|b>>>20),b=T+(E^C&(y^E))+w[14]+2792965006&4294967295,T=C+(b<<17&4294967295|b>>>15),b=E+(y^T&(C^y))+w[15]+1236535329&4294967295,E=T+(b<<22&4294967295|b>>>10),b=y+(T^C&(E^T))+w[1]+4129170786&4294967295,y=E+(b<<5&4294967295|b>>>27),b=C+(E^T&(y^E))+w[6]+3225465664&4294967295,C=y+(b<<9&4294967295|b>>>23),b=T+(y^E&(C^y))+w[11]+643717713&4294967295,T=C+(b<<14&4294967295|b>>>18),b=E+(C^y&(T^C))+w[0]+3921069994&4294967295,E=T+(b<<20&4294967295|b>>>12),b=y+(T^C&(E^T))+w[5]+3593408605&4294967295,y=E+(b<<5&4294967295|b>>>27),b=C+(E^T&(y^E))+w[10]+38016083&4294967295,C=y+(b<<9&4294967295|b>>>23),b=T+(y^E&(C^y))+w[15]+3634488961&4294967295,T=C+(b<<14&4294967295|b>>>18),b=E+(C^y&(T^C))+w[4]+3889429448&4294967295,E=T+(b<<20&4294967295|b>>>12),b=y+(T^C&(E^T))+w[9]+568446438&4294967295,y=E+(b<<5&4294967295|b>>>27),b=C+(E^T&(y^E))+w[14]+3275163606&4294967295,C=y+(b<<9&4294967295|b>>>23),b=T+(y^E&(C^y))+w[3]+4107603335&4294967295,T=C+(b<<14&4294967295|b>>>18),b=E+(C^y&(T^C))+w[8]+1163531501&4294967295,E=T+(b<<20&4294967295|b>>>12),b=y+(T^C&(E^T))+w[13]+2850285829&4294967295,y=E+(b<<5&4294967295|b>>>27),b=C+(E^T&(y^E))+w[2]+4243563512&4294967295,C=y+(b<<9&4294967295|b>>>23),b=T+(y^E&(C^y))+w[7]+1735328473&4294967295,T=C+(b<<14&4294967295|b>>>18),b=E+(C^y&(T^C))+w[12]+2368359562&4294967295,E=T+(b<<20&4294967295|b>>>12),b=y+(E^T^C)+w[5]+4294588738&4294967295,y=E+(b<<4&4294967295|b>>>28),b=C+(y^E^T)+w[8]+2272392833&4294967295,C=y+(b<<11&4294967295|b>>>21),b=T+(C^y^E)+w[11]+1839030562&4294967295,T=C+(b<<16&4294967295|b>>>16),b=E+(T^C^y)+w[14]+4259657740&4294967295,E=T+(b<<23&4294967295|b>>>9),b=y+(E^T^C)+w[1]+2763975236&4294967295,y=E+(b<<4&4294967295|b>>>28),b=C+(y^E^T)+w[4]+1272893353&4294967295,C=y+(b<<11&4294967295|b>>>21),b=T+(C^y^E)+w[7]+4139469664&4294967295,T=C+(b<<16&4294967295|b>>>16),b=E+(T^C^y)+w[10]+3200236656&4294967295,E=T+(b<<23&4294967295|b>>>9),b=y+(E^T^C)+w[13]+681279174&4294967295,y=E+(b<<4&4294967295|b>>>28),b=C+(y^E^T)+w[0]+3936430074&4294967295,C=y+(b<<11&4294967295|b>>>21),b=T+(C^y^E)+w[3]+3572445317&4294967295,T=C+(b<<16&4294967295|b>>>16),b=E+(T^C^y)+w[6]+76029189&4294967295,E=T+(b<<23&4294967295|b>>>9),b=y+(E^T^C)+w[9]+3654602809&4294967295,y=E+(b<<4&4294967295|b>>>28),b=C+(y^E^T)+w[12]+3873151461&4294967295,C=y+(b<<11&4294967295|b>>>21),b=T+(C^y^E)+w[15]+530742520&4294967295,T=C+(b<<16&4294967295|b>>>16),b=E+(T^C^y)+w[2]+3299628645&4294967295,E=T+(b<<23&4294967295|b>>>9),b=y+(T^(E|~C))+w[0]+4096336452&4294967295,y=E+(b<<6&4294967295|b>>>26),b=C+(E^(y|~T))+w[7]+1126891415&4294967295,C=y+(b<<10&4294967295|b>>>22),b=T+(y^(C|~E))+w[14]+2878612391&4294967295,T=C+(b<<15&4294967295|b>>>17),b=E+(C^(T|~y))+w[5]+4237533241&4294967295,E=T+(b<<21&4294967295|b>>>11),b=y+(T^(E|~C))+w[12]+1700485571&4294967295,y=E+(b<<6&4294967295|b>>>26),b=C+(E^(y|~T))+w[3]+2399980690&4294967295,C=y+(b<<10&4294967295|b>>>22),b=T+(y^(C|~E))+w[10]+4293915773&4294967295,T=C+(b<<15&4294967295|b>>>17),b=E+(C^(T|~y))+w[1]+2240044497&4294967295,E=T+(b<<21&4294967295|b>>>11),b=y+(T^(E|~C))+w[8]+1873313359&4294967295,y=E+(b<<6&4294967295|b>>>26),b=C+(E^(y|~T))+w[15]+4264355552&4294967295,C=y+(b<<10&4294967295|b>>>22),b=T+(y^(C|~E))+w[6]+2734768916&4294967295,T=C+(b<<15&4294967295|b>>>17),b=E+(C^(T|~y))+w[13]+1309151649&4294967295,E=T+(b<<21&4294967295|b>>>11),b=y+(T^(E|~C))+w[4]+4149444226&4294967295,y=E+(b<<6&4294967295|b>>>26),b=C+(E^(y|~T))+w[11]+3174756917&4294967295,C=y+(b<<10&4294967295|b>>>22),b=T+(y^(C|~E))+w[2]+718787259&4294967295,T=C+(b<<15&4294967295|b>>>17),b=E+(C^(T|~y))+w[9]+3951481745&4294967295,I.g[0]=I.g[0]+y&4294967295,I.g[1]=I.g[1]+(T+(b<<21&4294967295|b>>>11))&4294967295,I.g[2]=I.g[2]+T&4294967295,I.g[3]=I.g[3]+C&4294967295}r.prototype.u=function(I,y){y===void 0&&(y=I.length);for(var E=y-this.blockSize,w=this.B,T=this.h,C=0;C<y;){if(T==0)for(;C<=E;)i(this,I,C),C+=this.blockSize;if(typeof I=="string"){for(;C<y;)if(w[T++]=I.charCodeAt(C++),T==this.blockSize){i(this,w),T=0;break}}else for(;C<y;)if(w[T++]=I[C++],T==this.blockSize){i(this,w),T=0;break}}this.h=T,this.o+=y},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var y=1;y<I.length-8;++y)I[y]=0;var E=8*this.o;for(y=I.length-8;y<I.length;++y)I[y]=E&255,E/=256;for(this.u(I),I=Array(16),y=E=0;4>y;++y)for(var w=0;32>w;w+=8)I[E++]=this.g[y]>>>w&255;return I};function s(I,y){var E=c;return Object.prototype.hasOwnProperty.call(E,I)?E[I]:E[I]=y(I)}function o(I,y){this.h=y;for(var E=[],w=!0,T=I.length-1;0<=T;T--){var C=I[T]|0;w&&C==y||(E[T]=C,w=!1)}this.g=E}var c={};function u(I){return-128<=I&&128>I?s(I,function(y){return new o([y|0],0>y?-1:0)}):new o([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return R(l(-I));for(var y=[],E=1,w=0;I>=E;w++)y[w]=I/E|0,E*=4294967296;return new o(y,0)}function f(I,y){if(I.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(I.charAt(0)=="-")return R(f(I.substring(1),y));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(y,8)),w=p,T=0;T<I.length;T+=8){var C=Math.min(8,I.length-T),b=parseInt(I.substring(T,T+C),y);8>C?(C=l(Math.pow(y,C)),w=w.j(C).add(l(b))):(w=w.j(E),w=w.add(l(b)))}return w}var p=u(0),m=u(1),_=u(16777216);n=o.prototype,n.m=function(){if(P(this))return-R(this).m();for(var I=0,y=1,E=0;E<this.g.length;E++){var w=this.i(E);I+=(0<=w?w:4294967296+w)*y,y*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D(this))return"0";if(P(this))return"-"+R(this).toString(I);for(var y=l(Math.pow(I,6)),E=this,w="";;){var T=Y(E,y).g;E=$(E,T.j(y));var C=((0<E.g.length?E.g[0]:E.h)>>>0).toString(I);if(E=T,D(E))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function D(I){if(I.h!=0)return!1;for(var y=0;y<I.g.length;y++)if(I.g[y]!=0)return!1;return!0}function P(I){return I.h==-1}n.l=function(I){return I=$(this,I),P(I)?-1:D(I)?0:1};function R(I){for(var y=I.g.length,E=[],w=0;w<y;w++)E[w]=~I.g[w];return new o(E,~I.h).add(m)}n.abs=function(){return P(this)?R(this):this},n.add=function(I){for(var y=Math.max(this.g.length,I.g.length),E=[],w=0,T=0;T<=y;T++){var C=w+(this.i(T)&65535)+(I.i(T)&65535),b=(C>>>16)+(this.i(T)>>>16)+(I.i(T)>>>16);w=b>>>16,C&=65535,b&=65535,E[T]=b<<16|C}return new o(E,E[E.length-1]&-2147483648?-1:0)};function $(I,y){return I.add(R(y))}n.j=function(I){if(D(this)||D(I))return p;if(P(this))return P(I)?R(this).j(R(I)):R(R(this).j(I));if(P(I))return R(this.j(R(I)));if(0>this.l(_)&&0>I.l(_))return l(this.m()*I.m());for(var y=this.g.length+I.g.length,E=[],w=0;w<2*y;w++)E[w]=0;for(w=0;w<this.g.length;w++)for(var T=0;T<I.g.length;T++){var C=this.i(w)>>>16,b=this.i(w)&65535,ht=I.i(T)>>>16,dn=I.i(T)&65535;E[2*w+2*T]+=b*dn,L(E,2*w+2*T),E[2*w+2*T+1]+=C*dn,L(E,2*w+2*T+1),E[2*w+2*T+1]+=b*ht,L(E,2*w+2*T+1),E[2*w+2*T+2]+=C*ht,L(E,2*w+2*T+2)}for(w=0;w<y;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=y;w<2*y;w++)E[w]=0;return new o(E,0)};function L(I,y){for(;(I[y]&65535)!=I[y];)I[y+1]+=I[y]>>>16,I[y]&=65535,y++}function V(I,y){this.g=I,this.h=y}function Y(I,y){if(D(y))throw Error("division by zero");if(D(I))return new V(p,p);if(P(I))return y=Y(R(I),y),new V(R(y.g),R(y.h));if(P(y))return y=Y(I,R(y)),new V(R(y.g),y.h);if(30<I.g.length){if(P(I)||P(y))throw Error("slowDivide_ only works with positive integers.");for(var E=m,w=y;0>=w.l(I);)E=we(E),w=we(w);var T=J(E,1),C=J(w,1);for(w=J(w,2),E=J(E,2);!D(w);){var b=C.add(w);0>=b.l(I)&&(T=T.add(E),C=b),w=J(w,1),E=J(E,1)}return y=$(I,T.j(y)),new V(T,y)}for(T=p;0<=I.l(y);){for(E=Math.max(1,Math.floor(I.m()/y.m())),w=Math.ceil(Math.log(E)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=l(E),b=C.j(y);P(b)||0<b.l(I);)E-=w,C=l(E),b=C.j(y);D(C)&&(C=m),T=T.add(C),I=$(I,b)}return new V(T,I)}n.A=function(I){return Y(this,I).h},n.and=function(I){for(var y=Math.max(this.g.length,I.g.length),E=[],w=0;w<y;w++)E[w]=this.i(w)&I.i(w);return new o(E,this.h&I.h)},n.or=function(I){for(var y=Math.max(this.g.length,I.g.length),E=[],w=0;w<y;w++)E[w]=this.i(w)|I.i(w);return new o(E,this.h|I.h)},n.xor=function(I){for(var y=Math.max(this.g.length,I.g.length),E=[],w=0;w<y;w++)E[w]=this.i(w)^I.i(w);return new o(E,this.h^I.h)};function we(I){for(var y=I.g.length+1,E=[],w=0;w<y;w++)E[w]=I.i(w)<<1|I.i(w-1)>>>31;return new o(E,I.h)}function J(I,y){var E=y>>5;y%=32;for(var w=I.g.length-E,T=[],C=0;C<w;C++)T[C]=0<y?I.i(C+E)>>>y|I.i(C+E+1)<<32-y:I.i(C+E);return new o(T,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,cg=j0.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,Jn=j0.Integer=o}).apply(typeof B0<"u"?B0:typeof self<"u"?self:typeof window<"u"?window:{});var El=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zn={};var ug,nx,Ls,lg,Ua,wl,dg,hg,fg;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof El=="object"&&El];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var S=a[g];if(!(S in h))break e;h=h[S]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var h=0,g=!1,S={next:function(){if(!g&&h<a.length){var A=h++;return{value:d(A,a[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,h){return h})}});var o=o||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,g),a.apply(d,S)}}return function(){return a.apply(d,arguments)}}function m(a,d,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function _(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function D(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,S,A){for(var M=Array(arguments.length-2),me=2;me<arguments.length;me++)M[me-2]=arguments[me];return d.prototype[S].apply(g,M)}}function P(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function R(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let S=a.length||0,A=g.length||0;a.length=S+A;for(let M=0;M<A;M++)a[S+M]=g[M]}else a.push(g)}}class ${constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function L(a){return/^[\s\xa0]*$/.test(a)}function V(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function Y(a){return Y[" "](a),a}Y[" "]=function(){};var we=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function J(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function I(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function y(a){let d={};for(let h in a)d[h]=a[h];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,d){let h,g;for(let S=1;S<arguments.length;S++){g=arguments[S];for(h in g)a[h]=g[h];for(let A=0;A<E.length;A++)h=E[A],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function T(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function C(a){c.setTimeout(()=>{throw a},0)}function b(){var a=ar;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class ht{constructor(){this.h=this.g=null}add(d,h){let g=dn.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var dn=new $(()=>new $i,a=>a.reset());class $i{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let hn,fn=!1,ar=new ht,Wr=()=>{let a=c.Promise.resolve(void 0);hn=()=>{a.then(Bi)}};var Bi=()=>{for(var a;a=b();){try{a.h.call(a.g)}catch(h){C(h)}var d=dn;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}fn=!1};function Tt(){this.s=this.s,this.C=this.C}Tt.prototype.s=!1,Tt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Tt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Be(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Be.prototype.h=function(){this.defaultPrevented=!0};var sc=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function cr(a,d){if(Be.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(we){e:{try{Y(d.nodeName);var S=!0;break e}catch{}S=!1}S||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:oc[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&cr.aa.h.call(this)}}D(cr,Be);var oc={2:"touch",3:"pen",4:"mouse"};cr.prototype.h=function(){cr.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Gr="closure_listenable_"+(1e6*Math.random()|0),vd=0;function _d(a,d,h,g,S){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=S,this.key=++vd,this.da=this.fa=!1}function ji(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function zi(a){this.src=a,this.g={},this.h=0}zi.prototype.add=function(a,d,h,g,S){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var M=lo(a,d,g,S);return-1<M?(d=a[M],h||(d.fa=!1)):(d=new _d(d,this.src,A,!!g,S),d.fa=h,a.push(d)),d};function uo(a,d){var h=d.type;if(h in a.g){var g=a.g[h],S=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=S)&&Array.prototype.splice.call(g,S,1),A&&(ji(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function lo(a,d,h,g){for(var S=0;S<a.length;++S){var A=a[S];if(!A.da&&A.listener==d&&A.capture==!!h&&A.ha==g)return S}return-1}var ho="closure_lm_"+(1e6*Math.random()|0),fo={};function ac(a,d,h,g,S){if(g&&g.once)return uc(a,d,h,g,S);if(Array.isArray(d)){for(var A=0;A<d.length;A++)ac(a,d[A],h,g,S);return null}return h=Id(h),a&&a[Gr]?a.K(d,h,l(g)?!!g.capture:!!g,S):cc(a,d,h,!1,g,S)}function cc(a,d,h,g,S,A){if(!d)throw Error("Invalid event type");var M=l(S)?!!S.capture:!!S,me=go(a);if(me||(a[ho]=me=new zi(a)),h=me.add(d,h,g,M,A),h.proxy)return h;if(g=bd(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)sc||(S=M),S===void 0&&(S=!1),a.addEventListener(d.toString(),g,S);else if(a.attachEvent)a.attachEvent(dc(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function bd(){function a(h){return d.call(a.src,a.listener,h)}let d=Ed;return a}function uc(a,d,h,g,S){if(Array.isArray(d)){for(var A=0;A<d.length;A++)uc(a,d[A],h,g,S);return null}return h=Id(h),a&&a[Gr]?a.L(d,h,l(g)?!!g.capture:!!g,S):cc(a,d,h,!0,g,S)}function lc(a,d,h,g,S){if(Array.isArray(d))for(var A=0;A<d.length;A++)lc(a,d[A],h,g,S);else g=l(g)?!!g.capture:!!g,h=Id(h),a&&a[Gr]?(a=a.i,d=String(d).toString(),d in a.g&&(A=a.g[d],h=lo(A,h,g,S),-1<h&&(ji(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete a.g[d],a.h--)))):a&&(a=go(a))&&(d=a.g[d.toString()],a=-1,d&&(a=lo(d,h,g,S)),(h=-1<a?d[a]:null)&&po(h))}function po(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Gr])uo(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(dc(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=go(d))?(uo(h,a),h.h==0&&(h.src=null,d[ho]=null)):ji(a)}}}function dc(a){return a in fo?fo[a]:fo[a]="on"+a}function Ed(a,d){if(a.da)a=!0;else{d=new cr(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&po(a),a=h.call(g,d)}return a}function go(a){return a=a[ho],a instanceof zi?a:null}var wd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Id(a){return typeof a=="function"?a:(a[wd]||(a[wd]=function(d){return a.handleEvent(d)}),a[wd])}function rt(){Tt.call(this),this.i=new zi(this),this.M=this,this.F=null}D(rt,Tt),rt.prototype[Gr]=!0,rt.prototype.removeEventListener=function(a,d,h,g){lc(this,a,d,h,g)};function ft(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new Be(d,a);else if(d instanceof Be)d.target=d.target||a;else{var S=d;d=new Be(g,a),w(d,S)}if(S=!0,h)for(var A=h.length-1;0<=A;A--){var M=d.g=h[A];S=hc(M,g,!0,d)&&S}if(M=d.g=a,S=hc(M,g,!0,d)&&S,S=hc(M,g,!1,d)&&S,h)for(A=0;A<h.length;A++)M=d.g=h[A],S=hc(M,g,!1,d)&&S}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)ji(h[g]);delete a.g[d],a.h--}}this.F=null},rt.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},rt.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function hc(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var S=!0,A=0;A<d.length;++A){var M=d[A];if(M&&!M.da&&M.capture==h){var me=M.listener,Qe=M.ha||M.src;M.fa&&uo(a.i,M),S=me.call(Qe,g)!==!1&&S}}return S&&!g.defaultPrevented}function Iy(a,d,h){if(typeof a=="function")h&&(a=m(a,h));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function Ty(a){a.g=Iy(()=>{a.g=null,a.i&&(a.i=!1,Ty(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class bS extends Tt{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Ty(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mo(a){Tt.call(this),this.h=a,this.g={}}D(mo,Tt);var Sy=[];function Cy(a){J(a.g,function(d,h){this.g.hasOwnProperty(h)&&po(d)},a),a.g={}}mo.prototype.N=function(){mo.aa.N.call(this),Cy(this)},mo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Td=c.JSON.stringify,ES=c.JSON.parse,wS=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Sd(){}Sd.prototype.h=null;function Ay(a){return a.h||(a.h=a.i())}function Dy(){}var yo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cd(){Be.call(this,"d")}D(Cd,Be);function Ad(){Be.call(this,"c")}D(Ad,Be);var Kr={},Ry=null;function fc(){return Ry=Ry||new rt}Kr.La="serverreachability";function Py(a){Be.call(this,Kr.La,a)}D(Py,Be);function vo(a){let d=fc();ft(d,new Py(d))}Kr.STAT_EVENT="statevent";function Oy(a,d){Be.call(this,Kr.STAT_EVENT,a),this.stat=d}D(Oy,Be);function pt(a){let d=fc();ft(d,new Oy(d,a))}Kr.Ma="timingevent";function Ny(a,d){Be.call(this,Kr.Ma,a),this.size=d}D(Ny,Be);function _o(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function bo(){this.g=!0}bo.prototype.xa=function(){this.g=!1};function IS(a,d,h,g,S,A){a.info(function(){if(a.g)if(A)for(var M="",me=A.split("&"),Qe=0;Qe<me.length;Qe++){var de=me[Qe].split("=");if(1<de.length){var it=de[0];de=de[1];var st=it.split("_");M=2<=st.length&&st[1]=="type"?M+(it+"="+de+"&"):M+(it+"=redacted&")}}else M=null;else M=A;return"XMLHTTP REQ ("+g+") [attempt "+S+"]: "+d+`
`+h+`
`+M})}function TS(a,d,h,g,S,A,M){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+S+"]: "+d+`
`+h+`
`+A+" "+M})}function Hi(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+CS(a,h)+(g?" "+g:"")})}function SS(a,d){a.info(function(){return"TIMEOUT: "+d})}bo.prototype.info=function(){};function CS(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var S=g[1];if(Array.isArray(S)&&!(1>S.length)){var A=S[0];if(A!="noop"&&A!="stop"&&A!="close")for(var M=1;M<S.length;M++)S[M]=""}}}}return Td(h)}catch{return d}}var pc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ky={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dd;function gc(){}D(gc,Sd),gc.prototype.g=function(){return new XMLHttpRequest},gc.prototype.i=function(){return{}},Dd=new gc;function ur(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new mo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xy}function xy(){this.i=null,this.g="",this.h=!1}var My={},Rd={};function Pd(a,d,h){a.L=1,a.v=_c(Fn(d)),a.m=h,a.P=!0,Fy(a,null)}function Fy(a,d){a.F=Date.now(),mc(a),a.A=Fn(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),Qy(h.i,"t",g),a.C=0,h=a.j.J,a.h=new xy,a.g=pv(a.j,h?d:null,!a.m),0<a.O&&(a.M=new bS(m(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var S="readystatechange";Array.isArray(S)||(S&&(Sy[0]=S.toString()),S=Sy);for(var A=0;A<S.length;A++){var M=ac(h,S[A],g||d.handleEvent,!1,d.h||d);if(!M)break;d.g[M.key]=M}d=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),vo(),IS(a.i,a.u,a.A,a.l,a.R,a.m)}ur.prototype.ca=function(a){a=a.target;let d=this.M;d&&Ln(a)==3?d.j():this.Y(a)},ur.prototype.Y=function(a){try{if(a==this.g)e:{let st=Ln(this.g);var d=this.g.Ba();let Gi=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||rv(this.g)))){this.J||st!=4||d==7||(d==8||0>=Gi?vo(3):vo(2)),Od(this);var h=this.g.Z();this.X=h;t:if(Ly(this)){var g=rv(this.g);a="";var S=g.length,A=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yr(this),Eo(this);var M="";break t}this.h.i=new c.TextDecoder}for(d=0;d<S;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(A&&d==S-1)});g.length=0,this.h.g+=a,this.C=0,M=this.h.g}else M=this.g.oa();if(this.o=h==200,TS(this.i,this.u,this.A,this.l,this.R,st,h),this.o){if(this.T&&!this.K){t:{if(this.g){var me,Qe=this.g;if((me=Qe.g?Qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(me)){var de=me;break t}}de=null}if(h=de)Hi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nd(this,h);else{this.o=!1,this.s=3,pt(12),Yr(this),Eo(this);break e}}if(this.P){h=!0;let Wt;for(;!this.J&&this.C<M.length;)if(Wt=AS(this,M),Wt==Rd){st==4&&(this.s=4,pt(14),h=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==My){this.s=4,pt(15),Hi(this.i,this.l,M,"[Invalid Chunk]"),h=!1;break}else Hi(this.i,this.l,Wt,null),Nd(this,Wt);if(Ly(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||M.length!=0||this.h.h||(this.s=1,pt(16),h=!1),this.o=this.o&&h,!h)Hi(this.i,this.l,M,"[Invalid Chunked Response]"),Yr(this),Eo(this);else if(0<M.length&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.ba&&!it.M&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+M.length),Vd(it),it.M=!0,pt(11))}}else Hi(this.i,this.l,M,null),Nd(this,M);st==4&&Yr(this),this.o&&!this.J&&(st==4?lv(this.j,this):(this.o=!1,mc(this)))}else HS(this.g),h==400&&0<M.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Yr(this),Eo(this)}}}catch{}finally{}};function Ly(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function AS(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?Rd:(h=Number(d.substring(h,g)),isNaN(h)?My:(g+=1,g+h>d.length?Rd:(d=d.slice(g,g+h),a.C=g+h,d)))}ur.prototype.cancel=function(){this.J=!0,Yr(this)};function mc(a){a.S=Date.now()+a.I,Vy(a,a.I)}function Vy(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=_o(m(a.ba,a),d)}function Od(a){a.B&&(c.clearTimeout(a.B),a.B=null)}ur.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(SS(this.i,this.A),this.L!=2&&(vo(),pt(17)),Yr(this),this.s=2,Eo(this)):Vy(this,this.S-a)};function Eo(a){a.j.G==0||a.J||lv(a.j,a)}function Yr(a){Od(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Cy(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Nd(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||kd(h.h,a))){if(!a.K&&kd(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var S=g;if(S[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Tc(h),wc(h);else break e;Ld(h),pt(18)}}else h.za=S[1],0<h.za-h.T&&37500>S[2]&&h.F&&h.v==0&&!h.C&&(h.C=_o(m(h.Za,h),6e3));if(1>=By(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Xr(h,11)}else if((a.K||h.g==a)&&Tc(h),!L(d))for(S=h.Da.g.parse(d),d=0;d<S.length;d++){let de=S[d];if(h.T=de[0],de=de[1],h.G==2)if(de[0]=="c"){h.K=de[1],h.ia=de[2];let it=de[3];it!=null&&(h.la=it,h.j.info("VER="+h.la));let st=de[4];st!=null&&(h.Aa=st,h.j.info("SVER="+h.Aa));let Gi=de[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(g=1.5*Gi,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Wt=a.g;if(Wt){let Cc=Wt.g?Wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cc){var A=g.h;A.g||Cc.indexOf("spdy")==-1&&Cc.indexOf("quic")==-1&&Cc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(xd(A,A.h),A.h=null))}if(g.D){let Ud=Wt.g?Wt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ud&&(g.ya=Ud,Ee(g.I,g.D,Ud))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var M=a;if(g.qa=fv(g,g.J?g.ia:null,g.W),M.K){jy(g.h,M);var me=M,Qe=g.L;Qe&&(me.I=Qe),me.B&&(Od(me),mc(me)),g.g=M}else cv(g);0<h.i.length&&Ic(h)}else de[0]!="stop"&&de[0]!="close"||Xr(h,7);else h.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?Xr(h,7):Fd(h):de[0]!="noop"&&h.l&&h.l.ta(de),h.v=0)}}vo(4)}catch{}}var DS=class{constructor(a,d){this.g=a,this.map=d}};function Uy(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $y(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function By(a){return a.h?1:a.g?a.g.size:0}function kd(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function xd(a,d){a.g?a.g.add(d):a.h=d}function jy(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Uy.prototype.cancel=function(){if(this.i=zy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function zy(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return P(a.i)}function RS(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function PS(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function Hy(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=PS(a),g=RS(a),S=g.length,A=0;A<S;A++)d.call(void 0,g[A],h&&h[A],a)}var qy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function OS(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),S=null;if(0<=g){var A=a[h].substring(0,g);S=a[h].substring(g+1)}else A=a[h];d(A,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function Qr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Qr){this.h=a.h,yc(this,a.j),this.o=a.o,this.g=a.g,vc(this,a.s),this.l=a.l;var d=a.i,h=new To;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),Wy(this,h),this.m=a.m}else a&&(d=String(a).match(qy))?(this.h=!1,yc(this,d[1]||"",!0),this.o=wo(d[2]||""),this.g=wo(d[3]||"",!0),vc(this,d[4]),this.l=wo(d[5]||"",!0),Wy(this,d[6]||"",!0),this.m=wo(d[7]||"")):(this.h=!1,this.i=new To(null,this.h))}Qr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Io(d,Gy,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Io(d,Gy,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Io(h,h.charAt(0)=="/"?xS:kS,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Io(h,FS)),a.join("")};function Fn(a){return new Qr(a)}function yc(a,d,h){a.j=h?wo(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function vc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Wy(a,d,h){d instanceof To?(a.i=d,LS(a.i,a.h)):(h||(d=Io(d,MS)),a.i=new To(d,a.h))}function Ee(a,d,h){a.i.set(d,h)}function _c(a){return Ee(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function wo(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Io(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,NS),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function NS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Gy=/[#\/\?@]/g,kS=/[#\?:]/g,xS=/[#\?]/g,MS=/[#\?@]/g,FS=/#/g;function To(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function lr(a){a.g||(a.g=new Map,a.h=0,a.i&&OS(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}n=To.prototype,n.add=function(a,d){lr(this),this.i=null,a=qi(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function Ky(a,d){lr(a),d=qi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Yy(a,d){return lr(a),d=qi(a,d),a.g.has(d)}n.forEach=function(a,d){lr(this),this.g.forEach(function(h,g){h.forEach(function(S){a.call(d,S,g,this)},this)},this)},n.na=function(){lr(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let S=a[g];for(let A=0;A<S.length;A++)h.push(d[g])}return h},n.V=function(a){lr(this);let d=[];if(typeof a=="string")Yy(this,a)&&(d=d.concat(this.g.get(qi(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},n.set=function(a,d){return lr(this),this.i=null,a=qi(this,a),Yy(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Qy(a,d,h){Ky(a,d),0<h.length&&(a.i=null,a.g.set(qi(a,d),P(h)),a.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let A=encodeURIComponent(String(g)),M=this.V(g);for(g=0;g<M.length;g++){var S=A;M[g]!==""&&(S+="="+encodeURIComponent(String(M[g]))),a.push(S)}}return this.i=a.join("&")};function qi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function LS(a,d){d&&!a.j&&(lr(a),a.i=null,a.g.forEach(function(h,g){var S=g.toLowerCase();g!=S&&(Ky(this,g),Qy(this,S,h))},a)),a.j=d}function VS(a,d){let h=new bo;if(c.Image){let g=new Image;g.onload=_(dr,h,"TestLoadImage: loaded",!0,d,g),g.onerror=_(dr,h,"TestLoadImage: error",!1,d,g),g.onabort=_(dr,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=_(dr,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function US(a,d){let h=new bo,g=new AbortController,S=setTimeout(()=>{g.abort(),dr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(A=>{clearTimeout(S),A.ok?dr(h,"TestPingServer: ok",!0,d):dr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(S),dr(h,"TestPingServer: error",!1,d)})}function dr(a,d,h,g,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),g(h)}catch{}}function $S(){this.g=new wS}function BS(a,d,h){let g=h||"";try{Hy(a,function(S,A){let M=S;l(S)&&(M=Td(S)),d.push(g+A+"="+encodeURIComponent(M))})}catch(S){throw d.push(g+"type="+encodeURIComponent("_badmap")),S}}function So(a){this.l=a.Ub||null,this.j=a.eb||!1}D(So,Sd),So.prototype.g=function(){return new bc(this.l,this.j)},So.prototype.i=function(a){return function(){return a}}({});function bc(a,d){rt.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(bc,rt),n=bc.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Ao(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Co(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ao(this)),this.g&&(this.readyState=3,Ao(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xy(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xy(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Co(this):Ao(this),this.readyState==3&&Xy(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,Co(this))},n.Qa=function(a){this.g&&(this.response=a,Co(this))},n.ga=function(){this.g&&Co(this)};function Co(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ao(a)}n.setRequestHeader=function(a,d){this.u.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function Ao(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(bc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Jy(a){let d="";return J(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function Md(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=Jy(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Ee(a,d,h))}function De(a){rt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(De,rt);var jS=/^https?$/i,zS=["POST","PUT"];n=De.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dd.g(),this.v=this.o?Ay(this.o):Ay(Dd),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(A){Zy(this,A);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var S in g)h.set(S,g[S]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())h.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),S=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(zS,d,void 0))||g||S||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,M]of h)this.g.setRequestHeader(A,M);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nv(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){Zy(this,A)}};function Zy(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,ev(a),Ec(a)}function ev(a){a.A||(a.A=!0,ft(a,"complete"),ft(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ft(this,"complete"),ft(this,"abort"),Ec(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ec(this,!0)),De.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?tv(this):this.bb())},n.bb=function(){tv(this)};function tv(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Ln(a)!=4||a.Z()!=2)){if(a.u&&Ln(a)==4)Iy(a.Ea,0,a);else if(ft(a,"readystatechange"),Ln(a)==4){a.h=!1;try{let M=a.Z();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=M===0){var S=String(a.D).match(qy)[1]||null;!S&&c.self&&c.self.location&&(S=c.self.location.protocol.slice(0,-1)),g=!jS.test(S?S.toLowerCase():"")}h=g}if(h)ft(a,"complete"),ft(a,"success");else{a.m=6;try{var A=2<Ln(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",ev(a)}}finally{Ec(a)}}}}function Ec(a,d){if(a.g){nv(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ft(a,"ready");try{h.onreadystatechange=g}catch{}}}function nv(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function Ln(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),ES(d)}};function rv(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function HS(a){let d={};a=(a.g&&2<=Ln(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(L(a[g]))continue;var h=T(a[g]);let S=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=d[S]||[];d[S]=A,A.push(h)}I(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Do(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function iv(a){this.Aa=0,this.i=[],this.j=new bo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Do("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Do("baseRetryDelayMs",5e3,a),this.cb=Do("retryDelaySeedMs",1e4,a),this.Wa=Do("forwardChannelMaxRetries",2,a),this.wa=Do("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Uy(a&&a.concurrentRequestLimit),this.Da=new $S,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=iv.prototype,n.la=8,n.G=1,n.connect=function(a,d,h,g){pt(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=fv(this,null,this.W),Ic(this)};function Fd(a){if(sv(a),a.G==3){var d=a.U++,h=Fn(a.I);if(Ee(h,"SID",a.K),Ee(h,"RID",d),Ee(h,"TYPE","terminate"),Ro(a,h),d=new ur(a,a.j,d),d.L=2,d.v=_c(Fn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=pv(d.j,null),d.g.ea(d.v)),d.F=Date.now(),mc(d)}hv(a)}function wc(a){a.g&&(Vd(a),a.g.cancel(),a.g=null)}function sv(a){wc(a),a.u&&(c.clearTimeout(a.u),a.u=null),Tc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Ic(a){if(!$y(a.h)&&!a.s){a.s=!0;var d=a.Ga;hn||Wr(),fn||(hn(),fn=!0),ar.add(d,a),a.B=0}}function qS(a,d){return By(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=_o(m(a.Ga,a,d),dv(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let S=new ur(this,this.j,a),A=this.o;if(this.S&&(A?(A=y(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(S.H=A,A=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=av(this,S,d),h=Fn(this.I),Ee(h,"RID",a),Ee(h,"CVER",22),this.D&&Ee(h,"X-HTTP-Session-Id",this.D),Ro(this,h),A&&(this.O?d="headers="+encodeURIComponent(String(Jy(A)))+"&"+d:this.m&&Md(h,this.m,A)),xd(this.h,S),this.Ua&&Ee(h,"TYPE","init"),this.P?(Ee(h,"$req",d),Ee(h,"SID","null"),S.T=!0,Pd(S,h,null)):Pd(S,h,d),this.G=2}}else this.G==3&&(a?ov(this,a):this.i.length==0||$y(this.h)||ov(this))};function ov(a,d){var h;d?h=d.l:h=a.U++;let g=Fn(a.I);Ee(g,"SID",a.K),Ee(g,"RID",h),Ee(g,"AID",a.T),Ro(a,g),a.m&&a.o&&Md(g,a.m,a.o),h=new ur(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=av(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),xd(a.h,h),Pd(h,g,d)}function Ro(a,d){a.H&&J(a.H,function(h,g){Ee(d,g,h)}),a.l&&Hy({},function(h,g){Ee(d,g,h)})}function av(a,d,h){h=Math.min(a.i.length,h);var g=a.l?m(a.l.Na,a.l,a):null;e:{var S=a.i;let A=-1;for(;;){let M=["count="+h];A==-1?0<h?(A=S[0].g,M.push("ofs="+A)):A=0:M.push("ofs="+A);let me=!0;for(let Qe=0;Qe<h;Qe++){let de=S[Qe].g,it=S[Qe].map;if(de-=A,0>de)A=Math.max(0,S[Qe].g-100),me=!1;else try{BS(it,M,"req"+de+"_")}catch{g&&g(it)}}if(me){g=M.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function cv(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;hn||Wr(),fn||(hn(),fn=!0),ar.add(d,a),a.v=0}}function Ld(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=_o(m(a.Fa,a),dv(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,uv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=_o(m(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),wc(this),uv(this))};function Vd(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function uv(a){a.g=new ur(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Fn(a.qa);Ee(d,"RID","rpc"),Ee(d,"SID",a.K),Ee(d,"AID",a.T),Ee(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ee(d,"TO",a.ja),Ee(d,"TYPE","xmlhttp"),Ro(a,d),a.m&&a.o&&Md(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=_c(Fn(d)),h.m=null,h.P=!0,Fy(h,a)}n.Za=function(){this.C!=null&&(this.C=null,wc(this),Ld(this),pt(19))};function Tc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function lv(a,d){var h=null;if(a.g==d){Tc(a),Vd(a),a.g=null;var g=2}else if(kd(a.h,d))h=d.D,jy(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var S=a.B;g=fc(),ft(g,new Ny(g,h)),Ic(a)}else cv(a);else if(S=d.s,S==3||S==0&&0<d.X||!(g==1&&qS(a,d)||g==2&&Ld(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),S){case 1:Xr(a,5);break;case 4:Xr(a,10);break;case 3:Xr(a,6);break;default:Xr(a,2)}}}function dv(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Xr(a,d){if(a.j.info("Error code "+d),d==2){var h=m(a.fb,a),g=a.Xa;let S=!g;g=new Qr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||yc(g,"https"),_c(g),S?VS(g.toString(),h):US(g.toString(),h)}else pt(2);a.G=0,a.l&&a.l.sa(d),hv(a),sv(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function hv(a){if(a.G=0,a.ka=[],a.l){let d=zy(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,P(a.i),a.i.length=0),a.l.ra()}}function fv(a,d,h){var g=h instanceof Qr?Fn(h):new Qr(h);if(g.g!="")d&&(g.g=d+"."+g.g),vc(g,g.s);else{var S=c.location;g=S.protocol,d=d?d+"."+S.hostname:S.hostname,S=+S.port;var A=new Qr(null);g&&yc(A,g),d&&(A.g=d),S&&vc(A,S),h&&(A.l=h),g=A}return h=a.D,d=a.ya,h&&d&&Ee(g,h,d),Ee(g,"VER",a.la),Ro(a,g),g}function pv(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new De(new So({eb:h})):new De(a.pa),d.Ha(a.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function gv(){}n=gv.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Sc(){}Sc.prototype.g=function(a,d){return new St(a,d)};function St(a,d){rt.call(this),this.g=new iv(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!L(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!L(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Wi(this)}D(St,rt),St.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},St.prototype.close=function(){Fd(this.g)},St.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Td(a),a=h);d.i.push(new DS(d.Ya++,a)),d.G==3&&Ic(d)},St.prototype.N=function(){this.g.l=null,delete this.j,Fd(this.g),delete this.g,St.aa.N.call(this)};function mv(a){Cd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}D(mv,Cd);function yv(){Ad.call(this),this.status=1}D(yv,Ad);function Wi(a){this.g=a}D(Wi,gv),Wi.prototype.ua=function(){ft(this.g,"a")},Wi.prototype.ta=function(a){ft(this.g,new mv(a))},Wi.prototype.sa=function(a){ft(this.g,new yv)},Wi.prototype.ra=function(){ft(this.g,"b")},Sc.prototype.createWebChannel=Sc.prototype.g,St.prototype.send=St.prototype.o,St.prototype.open=St.prototype.m,St.prototype.close=St.prototype.close,fg=Zn.createWebChannelTransport=function(){return new Sc},hg=Zn.getStatEventTarget=function(){return fc()},dg=Zn.Event=Kr,wl=Zn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pc.NO_ERROR=0,pc.TIMEOUT=8,pc.HTTP_ERROR=6,Ua=Zn.ErrorCode=pc,ky.COMPLETE="complete",lg=Zn.EventType=ky,Dy.EventType=yo,yo.OPEN="a",yo.CLOSE="b",yo.ERROR="c",yo.MESSAGE="d",rt.prototype.listen=rt.prototype.K,Ls=Zn.WebChannel=Dy,nx=Zn.FetchXmlHttpFactory=So,De.prototype.listenOnce=De.prototype.L,De.prototype.getLastError=De.prototype.Ka,De.prototype.getLastErrorCode=De.prototype.Ba,De.prototype.getStatus=De.prototype.Z,De.prototype.getResponseJson=De.prototype.Oa,De.prototype.getResponseText=De.prototype.oa,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Ha,ug=Zn.XhrIo=De}).apply(typeof El<"u"?El:typeof self<"u"?self:typeof window<"u"?window:{});var z0="@firebase/firestore",H0="4.8.0";var Ke=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");var so="11.10.0";var Oi=new Sn("@firebase/firestore");function Vs(){return Oi.logLevel}function U(n,...e){if(Oi.logLevel<=re.DEBUG){let t=e.map(Jm);Oi.debug(`Firestore (${so}): ${n}`,...t)}}function tr(n,...e){if(Oi.logLevel<=re.ERROR){let t=e.map(Jm);Oi.error(`Firestore (${so}): ${n}`,...t)}}function Br(n,...e){if(Oi.logLevel<=re.WARN){let t=e.map(Jm);Oi.warn(`Firestore (${so}): ${n}`,...t)}}function Jm(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function K(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,kI(n,r,t)}function kI(n,e,t){let r=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw tr(r),new Error(r)}function pe(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||kI(e,i,r)}function Q(n,e){return n}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends Vt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Pn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Rl=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},vg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ke.UNAUTHENTICATED))}shutdown(){}},_g=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},bg=class{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pe(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),s=new Pn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Pn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Pn)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pe(typeof r.accessToken=="string",31837,{l:r}),new Rl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return pe(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}},Eg=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},wg=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Eg(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Pl=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Ig=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,It(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){pe(this.o===void 0,3512);let r=s=>{s.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.m;return this.m=s.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.V.getImmediate({optional:!0});s?i(s):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Pl(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Pl(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function rx(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function xI(){return new TextEncoder}var qa=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=rx(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}};function ne(n,e){return n<e?-1:n>e?1:0}function Tg(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ne(r,i);{let s=xI(),o=ix(s.encode(q0(n,t)),s.encode(q0(e,t)));return o!==0?o:ne(r,i)}}t+=r>65535?2:1}return ne(n.length,e.length)}function q0(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function ix(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ne(n[t],e[t]);return ne(n.length,e.length)}function Ws(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var W0="__name__",Ol=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&K(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&K(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=n.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return ne(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):Tg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jn.fromString(e.substring(4,e.length-2))}},Ae=class n extends Ol{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new B(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},sx=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ut=class n extends Ol{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return sx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W0}static keyField(){return new n([W0])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new B(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new B(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new B(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new B(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var H=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ae.fromString(e))}static fromName(e){return new n(Ae.fromString(e).popFirst(5))}static empty(){return new n(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ae.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ae(e.slice()))}};function MI(n,e,t){if(!t)throw new B(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ox(n,e,t,r){if(e===!0&&r===!0)throw new B(N.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function G0(n){if(!H.isDocumentKey(n))throw new B(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function K0(n){if(H.isDocumentKey(n))throw new B(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function FI(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Zm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":K(12329,{type:typeof n})}function er(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new B(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Zm(n);throw new B(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Ue(n,e){let t={typeString:n};return e&&(t.value=e),t}function nc(n,e){if(!FI(n))throw new B(N.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let o=n[r];if(i&&typeof o!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new B(N.INVALID_ARGUMENT,t);return!0}var Y0=-62135596800,Q0=1e6,$e=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Q0);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new B(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new B(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Y0)throw new B(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q0}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nc(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-Y0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};$e._jsonSchemaVersion="firestore/timestamp/1.0",$e._jsonSchema={type:Ue("string",$e._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};var X=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new $e(0,0))}static max(){return new n(new $e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Wa=-1,Sg=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Sg.UNKNOWN_ID=-1;function ax(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new $e(t+1,0):new $e(t,r));return new Ni(i,H.empty(),e)}function cx(n){return new Ni(n.readTime,n.key,Wa)}var Ni=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(X.min(),H.empty(),Wa)}static max(){return new n(X.max(),H.empty(),Wa)}};function ux(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=H.comparator(n.documentKey,e.documentKey),t!==0?t:ne(n.largestBatchId,e.largestBatchId))}var lx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Cg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function oo(n){return v(this,null,function*(){if(n.code!==N.FAILED_PRECONDITION||n.message!==lx)throw n;U("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&K(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let l=u;t(e[l]).next(f=>{o[l]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function dx(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ao(n){return n.name==="IndexedDbTransactionError"}var ey=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),ty=-1;function ud(n){return n==null}function Ga(n){return n===0&&1/n==-1/0}function hx(n){return typeof n=="number"&&Number.isInteger(n)&&!Ga(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var LI="";function fx(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=X0(e)),e=px(n.get(t),e);return X0(e)}function px(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":t+="";break;case LI:t+="";break;default:t+=s}}return t}function X0(n){return n+LI+""}var gx="remoteDocuments",VI="owner";var UI="mutationQueues";var $I="mutations";var BI="documentMutations",mx="remoteDocumentsV14";var jI="remoteDocumentGlobal";var zI="targets";var HI="targetDocuments";var qI="targetGlobal",WI="collectionParents";var GI="clientMetadata";var KI="bundles";var YI="namedQueries";var yx="indexConfiguration";var vx="indexState";var _x="indexEntries";var QI="documentOverlays";var bx="globals";var Ex=[UI,$I,BI,gx,zI,VI,qI,HI,GI,jI,WI,KI,YI],q9=[...Ex,QI],wx=[UI,$I,BI,mx,zI,VI,qI,HI,GI,jI,WI,KI,YI,QI],Ix=wx,Tx=[...Ix,yx,vx,_x];var W9=[...Tx,bx];function J0(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Li(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function XI(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Pe=class n{constructor(e,t){this.comparator=e,this.root=t||On.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,On.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,On.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new js(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new js(this.root,e,this.comparator,!1)}getReverseIterator(){return new js(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new js(this.root,e,this.comparator,!0)}},js=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},On=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw K(43730,{key:this.key,value:this.value});if(this.right.isRed())throw K(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw K(27949);return e+(this.isRed()?0:1)}};On.EMPTY=null,On.RED=!0,On.BLACK=!1;On.EMPTY=new class{constructor(){this.size=0}get key(){throw K(57766)}get value(){throw K(16141)}get color(){throw K(16727)}get left(){throw K(29726)}get right(){throw K(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new On(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ye=class n{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Nl(this.data.getIterator())}getIteratorFrom(e){return new Nl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Nl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Rn=class n{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new n([])}unionWith(e){let t=new Ye(Ut.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ws(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var kl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var dt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new kl("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};dt.EMPTY_BYTE_STRING=new dt("");var Sx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(n){if(pe(!!n,39018),typeof n=="string"){let e=0,t=Sx.exec(n);if(pe(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(n.seconds),nanos:Ce(n.nanos)}}function Ce(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function rr(n){return typeof n=="string"?dt.fromBase64String(n):dt.fromUint8Array(n)}var JI="server_timestamp",ZI="__type__",eT="__previous_value__",tT="__local_write_time__";function ny(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[ZI])===null||t===void 0?void 0:t.stringValue)===JI}function ld(n){let e=n.mapValue.fields[eT];return ny(e)?ld(e):e}function Ka(n){let e=nr(n.mapValue.fields[tT].timestampValue);return new $e(e.seconds,e.nanos)}var Ag=class{constructor(e,t,r,i,s,o,c,u,l,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=f}},xl="(default)",Ml=class n{constructor(e,t){this.projectId=e,this.database=t||xl}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===xl}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var ry="__type__",nT="__max__",Il={mapValue:{fields:{__type__:{stringValue:nT}}}},iy="__vector__",Gs="value";function jr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ny(n)?4:iT(n)?9007199254740991:rT(n)?10:11:K(28295,{value:n})}function xn(n,e){if(n===e)return!0;let t=jr(n);if(t!==jr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ka(n).isEqual(Ka(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=nr(i.timestampValue),c=nr(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return rr(i.bytesValue).isEqual(rr(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Ce(i.geoPointValue.latitude)===Ce(s.geoPointValue.latitude)&&Ce(i.geoPointValue.longitude)===Ce(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ce(i.integerValue)===Ce(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ce(i.doubleValue),c=Ce(s.doubleValue);return o===c?Ga(o)===Ga(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return Ws(n.arrayValue.values||[],e.arrayValue.values||[],xn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(J0(o)!==J0(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!xn(o[u],c[u])))return!1;return!0}(n,e);default:return K(52216,{left:n})}}function Ya(n,e){return(n.values||[]).find(t=>xn(t,e))!==void 0}function Ks(n,e){if(n===e)return 0;let t=jr(n),r=jr(e);if(t!==r)return ne(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ne(n.booleanValue,e.booleanValue);case 2:return function(s,o){let c=Ce(s.integerValue||s.doubleValue),u=Ce(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,e);case 3:return Z0(n.timestampValue,e.timestampValue);case 4:return Z0(Ka(n),Ka(e));case 5:return Tg(n.stringValue,e.stringValue);case 6:return function(s,o){let c=rr(s),u=rr(o);return c.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=ne(c[l],u[l]);if(f!==0)return f}return ne(c.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let c=ne(Ce(s.latitude),Ce(o.latitude));return c!==0?c:ne(Ce(s.longitude),Ce(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return eI(n.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,l,f;let p=s.fields||{},m=o.fields||{},_=(c=p[Gs])===null||c===void 0?void 0:c.arrayValue,D=(u=m[Gs])===null||u===void 0?void 0:u.arrayValue,P=ne(((l=_?.values)===null||l===void 0?void 0:l.length)||0,((f=D?.values)===null||f===void 0?void 0:f.length)||0);return P!==0?P:eI(_,D)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Il.mapValue&&o===Il.mapValue)return 0;if(s===Il.mapValue)return 1;if(o===Il.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),l=o.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let m=Tg(u[p],f[p]);if(m!==0)return m;let _=Ks(c[u[p]],l[f[p]]);if(_!==0)return _}return ne(u.length,f.length)}(n.mapValue,e.mapValue);default:throw K(23264,{le:t})}}function Z0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ne(n,e);let t=nr(n),r=nr(e),i=ne(t.seconds,r.seconds);return i!==0?i:ne(t.nanos,r.nanos)}function eI(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=Ks(t[i],r[i]);if(s)return s}return ne(t.length,r.length)}function Ys(n){return Dg(n)}function Dg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=nr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return rr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return H.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=Dg(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Dg(t.fields[o])}`;return i+"}"}(n.mapValue):K(61005,{value:n})}function Cl(n){switch(jr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=ld(n);return e?16+Cl(e):16;case 5:return 2*n.stringValue.length;case 6:return rr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Cl(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Li(r.fields,(s,o)=>{i+=s.length+Cl(o)}),i}(n.mapValue);default:throw K(13486,{value:n})}}function Rg(n){return!!n&&"integerValue"in n}function sy(n){return!!n&&"arrayValue"in n}function tI(n){return!!n&&"nullValue"in n}function nI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Al(n){return!!n&&"mapValue"in n}function rT(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[ry])===null||t===void 0?void 0:t.stringValue)===iy}function Ba(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Li(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ba(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ba(n.arrayValue.values[t]);return e}return Object.assign({},n)}function iT(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===nT}var K9={mapValue:{fields:{[ry]:{stringValue:iy},[Gs]:{arrayValue:{}}}}};var un=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Al(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ba(t)}setAll(e){let t=Ut.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}o?r[c.lastSegment()]=Ba(o):i.push(c.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());Al(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Al(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Li(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(Ba(this.value))}};function sT(n){let e=[];return Li(n.fields,(t,r)=>{let i=new Ut([t]);if(Al(r)){let s=sT(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Rn(e)}var ln=class n{constructor(e,t,r,i,s,o,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new n(e,0,X.min(),X.min(),X.min(),un.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,X.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,X.min(),X.min(),un.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,X.min(),X.min(),un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Qs=class{constructor(e,t){this.position=e,this.inclusive=t}};function rI(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),t.key):r=Ks(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function iI(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xn(n.position[t],e.position[t]))return!1;return!0}var Xs=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Cx(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Fl=class{},We=class n extends Fl{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Og(e,t,r):t==="array-contains"?new xg(e,r):t==="in"?new Mg(e,r):t==="not-in"?new Fg(e,r):t==="array-contains-any"?new Lg(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Ng(e,r):new kg(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ks(t,this.value)):t!==null&&jr(this.value)===jr(t)&&this.matchesComparison(Ks(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Mn=class n extends Fl{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return oT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function oT(n){return n.op==="and"}function aT(n){return Ax(n)&&oT(n)}function Ax(n){for(let e of n.filters)if(e instanceof Mn)return!1;return!0}function Pg(n){if(n instanceof We)return n.field.canonicalString()+n.op.toString()+Ys(n.value);if(aT(n))return n.filters.map(e=>Pg(e)).join(",");{let e=n.filters.map(t=>Pg(t)).join(",");return`${n.op}(${e})`}}function cT(n,e){return n instanceof We?function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&xn(r.value,i.value)}(n,e):n instanceof Mn?function(r,i){return i instanceof Mn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&cT(o,i.filters[c]),!0):!1}(n,e):void K(19439)}function uT(n){return n instanceof We?function(t){return`${t.field.canonicalString()} ${t.op} ${Ys(t.value)}`}(n):n instanceof Mn?function(t){return t.op.toString()+" {"+t.getFilters().map(uT).join(" ,")+"}"}(n):"Filter"}var Og=class extends We{constructor(e,t,r){super(e,t,r),this.key=H.fromName(r.referenceValue)}matches(e){let t=H.comparator(e.key,this.key);return this.matchesComparison(t)}},Ng=class extends We{constructor(e,t){super(e,"in",t),this.keys=lT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},kg=class extends We{constructor(e,t){super(e,"not-in",t),this.keys=lT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function lT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>H.fromName(r.referenceValue))}var xg=class extends We{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return sy(t)&&Ya(t.arrayValue,this.value)}},Mg=class extends We{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Ya(this.value.arrayValue,t)}},Fg=class extends We{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ya(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ya(this.value.arrayValue,t)}},Lg=class extends We{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!sy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ya(this.value.arrayValue,r))}};var Vg=class{constructor(e,t=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.Pe=null}};function sI(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Vg(n,e,t,r,i,s,o)}function oy(n){let e=Q(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Pg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ud(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ys(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ys(r)).join(",")),e.Pe=t}return e.Pe}function ay(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Cx(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!cT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!iI(n.startAt,e.startAt)&&iI(n.endAt,e.endAt)}function Ug(n){return H.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Js=class{constructor(e,t=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Dx(n,e,t,r,i,s,o,c){return new Js(n,e,t,r,i,s,o,c)}function dd(n){return new Js(n)}function oI(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Rx(n){return n.collectionGroup!==null}function ja(n){let e=Q(n);if(e.Te===null){e.Te=[];let t=new Set;for(let s of e.explicitOrderBy)e.Te.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Ye(Ut.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Te.push(new Xs(s,r))}),t.has(Ut.keyField().canonicalString())||e.Te.push(new Xs(Ut.keyField(),r))}return e.Te}function Nn(n){let e=Q(n);return e.Ie||(e.Ie=Px(e,ja(n))),e.Ie}function Px(n,e){if(n.limitType==="F")return sI(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Xs(i.field,s)});let t=n.endAt?new Qs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Qs(n.startAt.position,n.startAt.inclusive):null;return sI(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function $g(n,e,t){return new Js(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hd(n,e){return ay(Nn(n),Nn(e))&&n.limitType===e.limitType}function dT(n){return`${oy(Nn(n))}|lt:${n.limitType}`}function Us(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>uT(i)).join(", ")}]`),ud(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ys(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ys(i)).join(",")),`Target(${r})`}(Nn(n))}; limitType=${n.limitType})`}function fd(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):H.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of ja(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let l=rI(o,c,u);return o.inclusive?l<=0:l<0}(r.startAt,ja(r),i)||r.endAt&&!function(o,c,u){let l=rI(o,c,u);return o.inclusive?l>=0:l>0}(r.endAt,ja(r),i))}(n,e)}function Ox(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function hT(n){return(e,t)=>{let r=!1;for(let i of ja(n)){let s=Nx(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Nx(n,e,t){let r=n.field.isKeyField()?H.comparator(e.key,t.key):function(s,o,c){let u=o.data.field(s),l=c.data.field(s);return u!==null&&l!==null?Ks(u,l):K(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return K(19790,{direction:n.dir})}}var ir=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Li(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return XI(this.inner)}size(){return this.innerSize}};var kx=new Pe(H.comparator);function sr(){return kx}var fT=new Pe(H.comparator);function $a(...n){let e=fT;for(let t of n)e=e.insert(t.key,t);return e}function pT(n){let e=fT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ai(){return za()}function gT(){return za()}function za(){return new ir(n=>n.toString(),(n,e)=>n.isEqual(e))}var xx=new Pe(H.comparator),Mx=new Ye(H.comparator);function oe(...n){let e=Mx;for(let t of n)e=e.add(t);return e}var Fx=new Ye(ne);function Lx(){return Fx}function cy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ga(e)?"-0":e}}function mT(n){return{integerValue:""+n}}function Vx(n,e){return hx(e)?mT(e):cy(n,e)}var Zs=class{constructor(){this._=void 0}};function Ux(n,e,t){return n instanceof eo?function(i,s){let o={fields:{[ZI]:{stringValue:JI},[tT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ny(s)&&(s=ld(s)),s&&(o.fields[eT]=s),{mapValue:o}}(t,e):n instanceof ki?vT(n,e):n instanceof xi?_T(n,e):function(i,s){let o=yT(i,s),c=aI(o)+aI(i.Ee);return Rg(o)&&Rg(i.Ee)?mT(c):cy(i.serializer,c)}(n,e)}function $x(n,e,t){return n instanceof ki?vT(n,e):n instanceof xi?_T(n,e):t}function yT(n,e){return n instanceof to?function(r){return Rg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var eo=class extends Zs{},ki=class extends Zs{constructor(e){super(),this.elements=e}};function vT(n,e){let t=bT(e);for(let r of n.elements)t.some(i=>xn(i,r))||t.push(r);return{arrayValue:{values:t}}}var xi=class extends Zs{constructor(e){super(),this.elements=e}};function _T(n,e){let t=bT(e);for(let r of n.elements)t=t.filter(i=>!xn(i,r));return{arrayValue:{values:t}}}var to=class extends Zs{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function aI(n){return Ce(n.integerValue||n.doubleValue)}function bT(n){return sy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Bx(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ki&&i instanceof ki||r instanceof xi&&i instanceof xi?Ws(r.elements,i.elements,xn):r instanceof to&&i instanceof to?xn(r.Ee,i.Ee):r instanceof eo&&i instanceof eo}(n.transform,e.transform)}var Bg=class{constructor(e,t){this.version=e,this.transformResults=t}},Fr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Dl(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var no=class{};function ET(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Qa(n.key,Fr.none()):new Mi(n.key,n.data,Fr.none());{let t=n.data,r=un.empty(),i=new Ye(Ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new or(n.key,r,new Rn(i.toArray()),Fr.none())}}function jx(n,e,t){n instanceof Mi?function(i,s,o){let c=i.value.clone(),u=uI(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof or?function(i,s,o){if(!Dl(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=uI(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(wT(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Ha(n,e,t,r){return n instanceof Mi?function(s,o,c,u){if(!Dl(s.precondition,o))return c;let l=s.value.clone(),f=lI(s.fieldTransforms,u,o);return l.setAll(f),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof or?function(s,o,c,u){if(!Dl(s.precondition,o))return c;let l=lI(s.fieldTransforms,u,o),f=o.data;return f.setAll(wT(s)),f.setAll(l),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(s,o,c){return Dl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(n,e,t)}function zx(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=yT(r.transform,i||null);s!=null&&(t===null&&(t=un.empty()),t.set(r.field,s))}return t||null}function cI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ws(r,i,(s,o)=>Bx(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Mi=class extends no{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},or=class extends no{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function wT(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function uI(n,e,t){let r=new Map;pe(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,$x(o,c,t[i]))}return r}function lI(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,Ux(s,o,e))}return r}var Qa=class extends no{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},jg=class extends no{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var zg=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&jx(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ha(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Ha(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=gT();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=t.has(i.key)?null:c;let u=ET(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),oe())}isEqual(e){return this.batchId===e.batchId&&Ws(this.mutations,e.mutations,(t,r)=>cI(t,r))&&Ws(this.baseMutations,e.baseMutations,(t,r)=>cI(t,r))}},Hg=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){pe(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return xx}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var qg=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Wg=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Le,ce;function Hx(n){switch(n){case N.OK:return K(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return K(15467,{code:n})}}function IT(n){if(n===void 0)return tr("GRPC error has no .code"),N.UNKNOWN;switch(n){case Le.OK:return N.OK;case Le.CANCELLED:return N.CANCELLED;case Le.UNKNOWN:return N.UNKNOWN;case Le.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Le.INTERNAL:return N.INTERNAL;case Le.UNAVAILABLE:return N.UNAVAILABLE;case Le.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Le.NOT_FOUND:return N.NOT_FOUND;case Le.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Le.ABORTED:return N.ABORTED;case Le.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Le.DATA_LOSS:return N.DATA_LOSS;default:return K(39323,{code:n})}}(ce=Le||(Le={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";var dI=null;var qx=new Jn([4294967295,4294967295],0);function hI(n){let e=xI().encode(n),t=new cg;return t.update(e),new Uint8Array(t.digest())}function fI(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Jn([t,r],0),new Jn([i,s],0)]}var Gg=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Di(`Invalid padding: ${t}`);if(r<0)throw new Di(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Di(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Di(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Jn.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(Jn.fromNumber(r)));return i.compare(qx)===1&&(i=new Jn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=hI(e),[r,i]=fI(t);for(let s=0;s<this.hashCount;s++){let o=this.pe(r,i,s);if(!this.ye(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.fe===0)return;let t=hI(e),[r,i]=fI(t);for(let s=0;s<this.hashCount;s++){let o=this.pe(r,i,s);this.we(o)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Di=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ll=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Xa.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(X.min(),i,new Pe(ne),sr(),oe())}},Xa=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,oe(),oe(),oe())}};var zs=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Vl=class{constructor(e,t){this.targetId=e,this.De=t}},Ul=class{constructor(e,t,r=dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},$l=class{constructor(){this.ve=0,this.Ce=pI(),this.Fe=dt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=oe(),t=oe(),r=oe();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:K(38017,{changeType:s})}}),new Xa(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=pI()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,pe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},Kg=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=sr(),this.je=Tl(),this.Je=Tl(),this.He=new Pe(ne)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:K(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let s=i.target;if(Ug(s))if(r===0){let o=new H(s.path);this.Xe(t,o,ln.newNoDocument(o,X.min()))}else pe(r===1,20013,{expectedCount:r});else{let o=this.ot(t);if(o!==r){let c=this._t(e),u=c?this.ut(c,e,o):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}dI?.ct(function(f,p,m,_,D){var P,R,$,L,V,Y;let we={localCacheCount:f,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},J=p.unchangedNames;return J&&(we.bloomFilter={applied:D===0,hashCount:(P=J?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(L=($=(R=J?.bits)===null||R===void 0?void 0:R.bitmap)===null||$===void 0?void 0:$.length)!==null&&L!==void 0?L:0,padding:(Y=(V=J?.bits)===null||V===void 0?void 0:V.padding)!==null&&Y!==void 0?Y:0,mightContain:I=>{var y;return(y=_?.mightContain(I))!==null&&y!==void 0&&y}}),we}(o,e.De,this.We.lt(),c,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,c;try{o=rr(r).toUint8Array()}catch(u){if(u instanceof kl)return Br("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Gg(o,i,s)}catch(u){return Br(u instanceof Di?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.fe===0?null:c}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.We.lt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Xe(t,s,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((s,o)=>{let c=this.st(o);if(c){if(s.current&&Ug(c.target)){let u=new H(c.target.path);this.Tt(u).has(o)||this.It(o,u)||this.Xe(o,u,ln.newNoDocument(u,e))}s.Ne&&(t.set(o,s.Le()),s.ke())}});let r=oe();this.Je.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(e));let i=new Ll(e,t,this.He,this.ze,r);return this.ze=sr(),this.je=Tl(),this.Je=Tl(),this.He=new Pe(ne),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new $l,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Ye(ne),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Ye(ne),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||U("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new $l),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Tl(){return new Pe(H.comparator)}function pI(){return new Pe(H.comparator)}var Wx={asc:"ASCENDING",desc:"DESCENDING"},Gx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kx={and:"AND",or:"OR"},Yg=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Qg(n,e){return n.useProto3Json||ud(e)?e:{value:e}}function Bl(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Yx(n,e){return Bl(n,e.toTimestamp())}function kn(n){return pe(!!n,49232),X.fromTimestamp(function(t){let r=nr(t);return new $e(r.seconds,r.nanos)}(n))}function uy(n,e){return Xg(n,e).canonicalString()}function Xg(n,e){let t=function(i){return new Ae(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function ST(n){let e=Ae.fromString(n);return pe(PT(e),10190,{key:e.toString()}),e}function Jg(n,e){return uy(n.databaseId,e.path)}function pg(n,e){let t=ST(e);if(t.get(1)!==n.databaseId.projectId)throw new B(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new B(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new H(AT(t))}function CT(n,e){return uy(n.databaseId,e)}function Qx(n){let e=ST(n);return e.length===4?Ae.emptyPath():AT(e)}function Zg(n){return new Ae(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function AT(n){return pe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function gI(n,e,t){return{name:Jg(n,e),fields:t.value.mapValue.fields}}function Xx(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,f){return l.useProto3Json?(pe(f===void 0||typeof f=="string",58123),dt.fromBase64String(f||"")):(pe(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),dt.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(l){let f=l.code===void 0?N.UNKNOWN:IT(l.code);return new B(f,l.message||"")}(o);t=new Ul(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=pg(n,r.document.name),s=kn(r.document.updateTime),o=r.document.createTime?kn(r.document.createTime):X.min(),c=new un({mapValue:{fields:r.document.fields}}),u=ln.newFoundDocument(i,s,o,c),l=r.targetIds||[],f=r.removedTargetIds||[];t=new zs(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=pg(n,r.document),s=r.readTime?kn(r.readTime):X.min(),o=ln.newNoDocument(i,s),c=r.removedTargetIds||[];t=new zs([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=pg(n,r.document),s=r.removedTargetIds||[];t=new zs([],s,i,null)}else{if(!("filter"in e))return K(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Wg(i,s),c=r.targetId;t=new Vl(c,o)}}return t}function Jx(n,e){let t;if(e instanceof Mi)t={update:gI(n,e.key,e.value)};else if(e instanceof Qa)t={delete:Jg(n,e.key)};else if(e instanceof or)t={update:gI(n,e.key,e.data),updateMask:aM(e.fieldMask)};else{if(!(e instanceof jg))return K(16599,{Rt:e.type});t={verify:Jg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof eo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ki)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof xi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof to)return{fieldPath:o.field.canonicalString(),increment:c.Ee};throw K(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Yx(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:K(27497)}(n,e.precondition)),t}function Zx(n,e){return n&&n.length>0?(pe(e!==void 0,14353),n.map(t=>function(i,s){let o=i.updateTime?kn(i.updateTime):kn(s);return o.isEqual(X.min())&&(o=kn(s)),new Bg(o,i.transformResults||[])}(t,e))):[]}function eM(n,e){return{documents:[CT(n,e.path)]}}function tM(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=CT(n,i);let s=function(l){if(l.length!==0)return RT(Mn.create(l,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(f=>function(m){return{field:$s(m.field),direction:iM(m.dir)}}(f))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let c=Qg(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{Vt:t,parent:i}}function nM(n){let e=Qx(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){pe(r===1,65062);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=function(p){let m=DT(p);return m instanceof Mn&&aT(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=function(p){return p.map(m=>function(D){return new Xs(Bs(D.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(m))}(t.orderBy));let c=null;t.limit&&(c=function(p){let m;return m=typeof p=="object"?p.value:p,ud(m)?null:m}(t.limit));let u=null;t.startAt&&(u=function(p){let m=!!p.before,_=p.values||[];return new Qs(_,m)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let m=!p.before,_=p.values||[];return new Qs(_,m)}(t.endAt)),Dx(e,i,o,s,c,"F",u,l)}function rM(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function DT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Bs(t.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Bs(t.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Bs(t.unaryFilter.field);return We.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Bs(t.unaryFilter.field);return We.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return K(61313);default:return K(60726)}}(n):n.fieldFilter!==void 0?function(t){return We.create(Bs(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return K(58110);default:return K(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Mn.create(t.compositeFilter.filters.map(r=>DT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K(1026)}}(t.compositeFilter.op))}(n):K(30097,{filter:n})}function iM(n){return Wx[n]}function sM(n){return Gx[n]}function oM(n){return Kx[n]}function $s(n){return{fieldPath:n.canonicalString()}}function Bs(n){return Ut.fromServerFormat(n.fieldPath)}function RT(n){return n instanceof We?function(t){if(t.op==="=="){if(nI(t.value))return{unaryFilter:{field:$s(t.field),op:"IS_NAN"}};if(tI(t.value))return{unaryFilter:{field:$s(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(nI(t.value))return{unaryFilter:{field:$s(t.field),op:"IS_NOT_NAN"}};if(tI(t.value))return{unaryFilter:{field:$s(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$s(t.field),op:sM(t.op),value:t.value}}}(n):n instanceof Mn?function(t){let r=t.getFilters().map(i=>RT(i));return r.length===1?r[0]:{compositeFilter:{op:oM(t.op),filters:r}}}(n):K(54877,{filter:n})}function aM(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function PT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Ja=class n{constructor(e,t,r,i,s=X.min(),o=X.min(),c=dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var em=class{constructor(e){this.gt=e}};function cM(n){let e=nM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?$g(e,e.limit,"L"):e}var jl=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Ce(e.integerValue));else if("doubleValue"in e){let r=Ce(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Ga(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=nr(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(rr(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?iT(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):rT(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):K(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let s=e.fields||{};this.Ct(t,53);let o=Gs,c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Ce(c)),this.xt(o,t),this.Dt(s[o],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),H.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};jl.Ut=new jl;var tm=class{constructor(){this.Dn=new nm}addToCollectionParentIndex(e,t){return this.Dn.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(Ni.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(Ni.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},nm=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ye(Ae.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ye(Ae.comparator)).toArray()}};var Y9=new Uint8Array(0);var mI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OT=41943040,qt=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};qt.DEFAULT_COLLECTION_PERCENTILE=10,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qt.DEFAULT=new qt(OT,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qt.DISABLED=new qt(-1,0,0);var Za=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var yI="LruGarbageCollector",uM=1048576;function vI([n,e],[t,r]){let i=ne(n,t);return i===0?ne(e,r):i}var rm=class{constructor(e){this.Tr=e,this.buffer=new Ye(vI),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();vI(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},im=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){U(yI,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){ao(t)?U(yI,"Ignoring IndexedDB error during garbage collection: ",t):yield oo(t)}yield this.Rr(3e5)}))}},sm=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return x.resolve(ey.ue);let r=new rm(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(mI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mI):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,s,o,c,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,t))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Vs()<=re.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${s} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}};function lM(n,e){return new sm(n,e)}var om=class{constructor(){this.changes=new ir(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var am=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var cm=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Ha(r.mutation,i,Rn.empty(),$e.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=oe()){let i=Ai();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=$a();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=Ai();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,oe()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{t.set(o,c)})})}computeViews(e,t,r,i){let s=sr(),o=za(),c=function(){return za()}();return t.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof or)?s=s.insert(l.key,l):f!==void 0?(o.set(l.key,f.mutation.getFieldMask()),Ha(f.mutation,l,f.mutation.getFieldMask(),$e.now())):o.set(l.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,f)=>o.set(l,f)),t.forEach((l,f)=>{var p;return c.set(l,new am(f,(p=o.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,t){let r=za(),i=new Pe((o,c)=>o-c),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let c of o)c.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let f=r.get(u)||Rn.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||oe()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=gT();f.forEach(m=>{if(!s.has(m)){let _=ET(t.get(m),r.get(m));_!==null&&p.set(m,_),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Rx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):x.resolve(Ai()),c=Wa,u=s;return o.next(l=>x.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(f)?x.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,oe())).next(f=>({batchId:c,changes:pT(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new H(t)).next(r=>{let i=$a();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=$a();return this.indexManager.getCollectionParents(e,s).next(c=>x.forEach(c,u=>{let l=function(p,m){return new Js(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((u,l)=>{let f=l.getKey();o.get(f)===null&&(o=o.insert(f,ln.newInvalidDocument(f)))});let c=$a();return o.forEach((u,l)=>{let f=s.get(u);f!==void 0&&Ha(f.mutation,l,Rn.empty(),$e.now()),fd(t,l)&&(c=c.insert(u,l))}),c})}};var um=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return x.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:kn(i.createTime)}}(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:cM(i.bundledQuery),readTime:kn(i.readTime)}}(t)),x.resolve()}};var lm=class{constructor(){this.overlays=new Pe(H.comparator),this.kr=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Ai();return x.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.wt(e,t,s)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=Ai(),s=t.length+1,o=new H(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Pe((l,f)=>l-f),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let f=s.get(l.largestBatchId);f===null&&(f=Ai(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=Ai(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return x.resolve(c)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new qg(t,r));let s=this.kr.get(t);s===void 0&&(s=oe(),this.kr.set(t,s)),this.kr.set(t,s.add(r.key))}};var dm=class{constructor(){this.sessionToken=dt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var ec=class{constructor(){this.qr=new Ye(Ve.Qr),this.$r=new Ye(Ve.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Ve(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Ve(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new H(new Ae([])),r=new Ve(t,e),i=new Ve(t,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new H(new Ae([])),r=new Ve(t,e),i=new Ve(t,e+1),s=oe();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Ve(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ve=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return H.comparator(e.key,t.key)||ne(e.Hr,t.Hr)}static Ur(e,t){return ne(e.Hr,t.Hr)||H.comparator(e.key,t.key)}};var hm=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Ye(Ve.Qr)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new zg(s,t,r,i);this.mutationQueue.push(o);for(let c of i)this.Yr=this.Yr.add(new Ve(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,t){return x.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?ty:this.er-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ve(t,0),i=new Ve(t,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{let c=this.Zr(o.Hr);s.push(c)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ye(ne);return t.forEach(i=>{let s=new Ve(i,0),o=new Ve(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],c=>{r=r.add(c.Hr)})}),x.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;H.isDocumentKey(s)||(s=s.child(""));let o=new Ve(new H(s),0),c=new Ye(ne);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Hr)),!0)},o),x.resolve(this.ei(c))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){pe(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return x.forEach(t.mutations,i=>{let s=new Ve(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Ve(t,0),i=this.Yr.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var fm=class{constructor(e){this.ni=e,this.docs=function(){return new Pe(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let r=sr();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ln.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=sr(),o=t.path,c=new H(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||ux(cx(f),r)<=0||(i.has(f.key)||fd(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,t,r,i){K(9500)}ri(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new pm(this)}getSize(e){return x.resolve(this.size)}},pm=class extends om{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var gm=class{constructor(e){this.persistence=e,this.ii=new ir(t=>oy(t),ay),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.si=0,this.oi=new ec,this.targetCount=0,this._i=Za.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),x.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Za(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.hr(t),x.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.ii.forEach((o,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.oi.containsKey(t))}};var zl=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new ey(0),this.ci=!1,this.ci=!0,this.li=new dm,this.referenceDelegate=e(this),this.hi=new gm(this),this.indexManager=new tm,this.remoteDocumentCache=function(i){return new fm(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new em(t),this.Ti=new um(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new hm(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){U("MemoryPersistence","Starting transaction:",e);let i=new mm(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,t){return x.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},mm=class extends Cg{constructor(e){super(),this.currentSequenceNumber=e}},ym=class n{constructor(e){this.persistence=e,this.Ai=new ec,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw K(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),x.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.mi,r=>{let i=H.fromPath(r);return this.fi(e,i).next(s=>{s||t.removeEntry(i,X.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return x.or([()=>x.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Hl=class n{constructor(e,t){this.persistence=e,this.gi=new ir(r=>fx(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=lM(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return x.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return x.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?x.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,t).next(c=>{c||(r++,s.removeEntry(o,X.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),x.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),x.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Cl(e.data.value)),t}Sr(e,t,r){return x.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var vm=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=oe(),i=oe();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var _m=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var bm=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return uw()?8:dx(Ge())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.ps(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new _m;return this.ws(e,t,o).next(c=>{if(s.result=c,this.Rs)return this.Ss(e,t,o,c.size)})}).next(()=>s.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Vs()<=re.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Us(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),x.resolve()):(Vs()<=re.DEBUG&&U("QueryEngine","Query:",Us(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Vs()<=re.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Us(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nn(t))):x.resolve())}ps(e,t){if(oI(t))return x.resolve(null);let r=Nn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=$g(t,null,"F"),r=Nn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=oe(...s);return this.gs.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,c);return this.Ds(t,l,o,u.readTime)?this.ps(e,$g(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return oI(t)||i.isEqual(X.min())?x.resolve(null):this.gs.getDocuments(e,r).next(s=>{let o=this.bs(t,s);return this.Ds(t,o,r,i)?x.resolve(null):(Vs()<=re.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Us(t)),this.vs(e,o,t,ax(i,Wa)).next(c=>c))})}bs(e,t){let r=new Ye(hT(e));return t.forEach((i,s)=>{fd(e,s)&&(r=r.add(s))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,t,r){return Vs()<=re.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Us(t)),this.gs.getDocumentsMatchingQuery(e,t,Ni.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var ly="LocalStore",dM=3e8,Em=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Pe(ne),this.Ms=new ir(s=>oy(s),ay),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cm(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function hM(n,e,t,r){return new Em(n,e,t,r)}function NT(n,e){return v(this,null,function*(){let t=Q(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=oe();for(let l of i){o.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of s){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:o,addedBatchIds:c}))})})})}function fM(n,e){let t=Q(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.Os.newChangeBuffer({trackRemovals:!0});return function(c,u,l,f){let p=l.batch,m=p.keys(),_=x.resolve();return m.forEach(D=>{_=_.next(()=>f.getEntry(u,D)).next(P=>{let R=l.docVersions.get(D);pe(R!==null,48541),P.version.compareTo(R)<0&&(p.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),f.addEntry(P)))})}),_.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=oe();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function kT(n){let e=Q(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function pM(n,e){let t=Q(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let c=[];e.targetChanges.forEach((f,p)=>{let m=i.get(p);if(!m)return;c.push(t.hi.removeMatchingKeys(s,f.removedDocuments,p).next(()=>t.hi.addMatchingKeys(s,f.addedDocuments,p)));let _=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(dt.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):f.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(f.resumeToken,r)),i=i.insert(p,_),function(P,R,$){return P.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=dM?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(m,_,f)&&c.push(t.hi.updateTargetData(s,_))});let u=sr(),l=oe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))}),c.push(gM(s,o,e.documentUpdates).next(f=>{u=f.Ls,l=f.ks})),!r.isEqual(X.min())){let f=t.hi.getLastRemoteSnapshotVersion(s).next(p=>t.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(f)}return x.waitFor(c).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(t.Fs=i,s))}function gM(n,e,t){let r=oe(),i=oe();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=sr();return t.forEach((c,u)=>{let l=s.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(X.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):U(ly,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ls:o,ks:i}})}function mM(n,e){let t=Q(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ty),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yM(n,e){let t=Q(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):t.hi.allocateTargetId(r).next(o=>(i=new Ja(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function wm(n,e,t){return v(this,null,function*(){let r=Q(n),i=r.Fs.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ao(o))throw o;U(ly,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function _I(n,e,t){let r=Q(n),i=X.min(),s=oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,f){let p=Q(u),m=p.Ms.get(f);return m!==void 0?x.resolve(p.Fs.get(m)):p.hi.getTargetData(l,f)}(r,o,Nn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,t?i:X.min(),t?s:oe())).next(c=>(vM(r,Ox(e),c),{documents:c,qs:s})))}function vM(n,e,t){let r=n.xs.get(e)||X.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.xs.set(e,r)}var ql=class{constructor(){this.activeTargetIds=Lx()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Im=class{constructor(){this.Fo=new ql,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new ql,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Tm=class{xo(e){}shutdown(){}};var bI="ConnectivityMonitor",Wl=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){U(bI,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){U(bI,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Sl=null;function Sm(){return Sl===null?Sl=function(){return 268435456+Math.round(2147483648*Math.random())}():Sl++,"0x"+Sl.toString(16)}var gg="RestConnection",_M={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Cm=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===xl?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,s){let o=Sm(),c=this.Go(e,t.toUriEncodedString());U(gg,`Sending RPC '${e}' ${o}:`,c,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,s);let{host:l}=new URL(c),f=Cr(l);return this.jo(e,c,u,r,f).then(p=>(U(gg,`Received RPC '${e}' ${o}: `,p),p),p=>{throw Br(gg,`RPC '${e}' ${o} failed with error: `,p,"url: ",c,"request:",r),p})}Jo(e,t,r,i,s,o){return this.Wo(e,t,r,i,s)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+so}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,t){let r=_M[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var Am=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var lt="WebChannelConnection",Dm=class extends Cm{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,s){let o=Sm();return new Promise((c,u)=>{let l=new ug;l.setWithCredentials(!0),l.listenOnce(lg.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ua.NO_ERROR:let p=l.getResponseJson();U(lt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),c(p);break;case Ua.TIMEOUT:U(lt,`RPC '${e}' ${o} timed out`),u(new B(N.DEADLINE_EXCEEDED,"Request time out"));break;case Ua.HTTP_ERROR:let m=l.getStatus();if(U(lt,`RPC '${e}' ${o} failed with status:`,m,"response text:",l.getResponseText()),m>0){let _=l.getResponseJson();Array.isArray(_)&&(_=_[0]);let D=_?.error;if(D&&D.status&&D.message){let P=function($){let L=$.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(L)>=0?L:N.UNKNOWN}(D.status);u(new B(P,D.message))}else u(new B(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new B(N.UNAVAILABLE,"Connection failed."));break;default:K(9055,{c_:e,streamId:o,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{U(lt,`RPC '${e}' ${o} completed.`)}});let f=JSON.stringify(i);U(lt,`RPC '${e}' ${o} sending request:`,i),l.send(t,"POST",f,r,15)})}P_(e,t,r){let i=Sm(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fg(),c=hg(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let f=s.join("");U(lt,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=o.createWebChannel(f,u);this.T_(p);let m=!1,_=!1,D=new Am({Ho:R=>{_?U(lt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(U(lt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),U(lt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),P=(R,$,L)=>{R.listen($,V=>{try{L(V)}catch(Y){setTimeout(()=>{throw Y},0)}})};return P(p,Ls.EventType.OPEN,()=>{_||(U(lt,`RPC '${e}' stream ${i} transport opened.`),D.s_())}),P(p,Ls.EventType.CLOSE,()=>{_||(_=!0,U(lt,`RPC '${e}' stream ${i} transport closed`),D.__(),this.I_(p))}),P(p,Ls.EventType.ERROR,R=>{_||(_=!0,Br(lt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),D.__(new B(N.UNAVAILABLE,"The operation could not be completed")))}),P(p,Ls.EventType.MESSAGE,R=>{var $;if(!_){let L=R.data[0];pe(!!L,16349);let V=L,Y=V?.error||(($=V[0])===null||$===void 0?void 0:$.error);if(Y){U(lt,`RPC '${e}' stream ${i} received error:`,Y);let we=Y.status,J=function(E){let w=Le[E];if(w!==void 0)return IT(w)}(we),I=Y.message;J===void 0&&(J=N.INTERNAL,I="Unknown error status: "+we+" with message "+Y.message),_=!0,D.__(new B(J,I)),p.close()}else U(lt,`RPC '${e}' stream ${i} received:`,L),D.a_(L)}}),P(c,dg.STAT_EVENT,R=>{R.stat===wl.PROXY?U(lt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===wl.NOPROXY&&U(lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.o_()},0),D}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function mg(){return typeof document<"u"?document:null}function pd(n){return new Yg(n,!0)}var Gl=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var EI="PersistentStream",Kl=class{constructor(e,t,r,i,s,o,c,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Gl(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return v(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return v(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return v(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(tr(t.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new B(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>v(this,null,function*(){this.state=0,this.start()}))}G_(e){return U(EI,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(U(EI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Rm=class extends Kl{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=Xx(this.serializer,e),r=function(s){if(!("targetChange"in s))return X.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?X.min():o.readTime?kn(o.readTime):X.min()}(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=Zg(this.serializer),t.addTarget=function(s,o){let c,u=o.target;if(c=Ug(u)?{documents:eM(s,u)}:{query:tM(s,u).Vt},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=TT(s,o.resumeToken);let l=Qg(s,o.expectedCount);l!==null&&(c.expectedCount=l)}else if(o.snapshotVersion.compareTo(X.min())>0){c.readTime=Bl(s,o.snapshotVersion.toTimestamp());let l=Qg(s,o.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=rM(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=Zg(this.serializer),t.removeTarget=e,this.k_(t)}},Pm=class extends Kl{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return pe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){pe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=Zx(e.writeResults,e.commitTime),r=kn(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=Zg(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>Jx(this.serializer,r))};this.k_(t)}};var Om=class{},Nm=class extends Om{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new B(N.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,Xg(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(N.UNKNOWN,s.toString())})}Jo(e,t,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Jo(e,Xg(t,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(N.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},km=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(tr(t),this._a=!1):U("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Fi="RemoteStore",xm=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(()=>v(this,null,function*(){Vi(this)&&(U(Fi,"Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=Q(u);l.Ia.add(4),yield rc(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield gd(l)})}(this))}))}),this.Aa=new km(r,i)}};function gd(n){return v(this,null,function*(){if(Vi(n))for(let e of n.da)yield e(!0)})}function rc(n){return v(this,null,function*(){for(let e of n.da)yield e(!1)})}function xT(n,e){let t=Q(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),py(t)?fy(t):co(t).x_()&&hy(t,e))}function dy(n,e){let t=Q(n),r=co(t);t.Ta.delete(e),r.x_()&&MT(t,e),t.Ta.size===0&&(r.x_()?r.B_():Vi(t)&&t.Aa.set("Unknown"))}function hy(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}co(n).H_(e)}function MT(n,e){n.Ra.$e(e),co(n).Y_(e)}function fy(n){n.Ra=new Kg({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),co(n).start(),n.Aa.aa()}function py(n){return Vi(n)&&!co(n).M_()&&n.Ta.size>0}function Vi(n){return Q(n).Ia.size===0}function FT(n){n.Ra=void 0}function bM(n){return v(this,null,function*(){n.Aa.set("Online")})}function EM(n){return v(this,null,function*(){n.Ta.forEach((e,t)=>{hy(n,e)})})}function wM(n,e){return v(this,null,function*(){FT(n),py(n)?(n.Aa.la(e),fy(n)):n.Aa.set("Unknown")})}function IM(n,e,t){return v(this,null,function*(){if(n.Aa.set("Online"),e instanceof Ul&&e.state===2&&e.cause)try{yield function(i,s){return v(this,null,function*(){let o=s.cause;for(let c of s.targetIds)i.Ta.has(c)&&(yield i.remoteSyncer.rejectListen(c,o),i.Ta.delete(c),i.Ra.removeTarget(c))})}(n,e)}catch(r){U(Fi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Yl(n,r)}else if(e instanceof zs?n.Ra.Ye(e):e instanceof Vl?n.Ra.it(e):n.Ra.et(e),!t.isEqual(X.min()))try{let r=yield kT(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let c=s.Ra.Pt(o);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=s.Ta.get(l);f&&s.Ta.set(l,f.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,l)=>{let f=s.Ta.get(u);if(!f)return;s.Ta.set(u,f.withResumeToken(dt.EMPTY_BYTE_STRING,f.snapshotVersion)),MT(s,u);let p=new Ja(f.target,u,l,f.sequenceNumber);hy(s,p)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){U(Fi,"Failed to raise snapshot:",r),yield Yl(n,r)}})}function Yl(n,e,t){return v(this,null,function*(){if(!ao(e))throw e;n.Ia.add(1),yield rc(n),n.Aa.set("Offline"),t||(t=()=>kT(n.localStore)),n.asyncQueue.enqueueRetryable(()=>v(null,null,function*(){U(Fi,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield gd(n)}))})}function LT(n,e){return e().catch(t=>Yl(n,t,e))}function md(n){return v(this,null,function*(){let e=Q(n),t=zr(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:ty;for(;TM(e);)try{let i=yield mM(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,SM(e,i)}catch(i){yield Yl(e,i)}VT(e)&&UT(e)})}function TM(n){return Vi(n)&&n.Pa.length<10}function SM(n,e){n.Pa.push(e);let t=zr(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function VT(n){return Vi(n)&&!zr(n).M_()&&n.Pa.length>0}function UT(n){zr(n).start()}function CM(n){return v(this,null,function*(){zr(n).na()})}function AM(n){return v(this,null,function*(){let e=zr(n);for(let t of n.Pa)e.X_(t.mutations)})}function DM(n,e,t){return v(this,null,function*(){let r=n.Pa.shift(),i=Hg.from(r,e,t);yield LT(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield md(n)})}function RM(n,e){return v(this,null,function*(){e&&zr(n).Z_&&(yield function(r,i){return v(this,null,function*(){if(function(o){return Hx(o)&&o!==N.ABORTED}(i.code)){let s=r.Pa.shift();zr(r).N_(),yield LT(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield md(r)}})}(n,e)),VT(n)&&UT(n)})}function wI(n,e){return v(this,null,function*(){let t=Q(n);t.asyncQueue.verifyOperationInProgress(),U(Fi,"RemoteStore received new credentials");let r=Vi(t);t.Ia.add(3),yield rc(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield gd(t)})}function PM(n,e){return v(this,null,function*(){let t=Q(n);e?(t.Ia.delete(2),yield gd(t)):e||(t.Ia.add(2),yield rc(t),t.Aa.set("Unknown"))})}function co(n){return n.Va||(n.Va=function(t,r,i){let s=Q(t);return s.ia(),new Rm(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Zo:bM.bind(null,n),e_:EM.bind(null,n),n_:wM.bind(null,n),J_:IM.bind(null,n)}),n.da.push(e=>v(null,null,function*(){e?(n.Va.N_(),py(n)?fy(n):n.Aa.set("Unknown")):(yield n.Va.stop(),FT(n))}))),n.Va}function zr(n){return n.ma||(n.ma=function(t,r,i){let s=Q(t);return s.ia(),new Pm(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:CM.bind(null,n),n_:RM.bind(null,n),ea:AM.bind(null,n),ta:DM.bind(null,n)}),n.da.push(e=>v(null,null,function*(){e?(n.ma.N_(),yield md(n)):(yield n.ma.stop(),n.Pa.length>0&&(U(Fi,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var Mm=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,c=new n(e,t,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function gy(n,e){if(tr("AsyncQueue",`${e}: ${n}`),ao(n))return new B(N.UNAVAILABLE,`${e}: ${n}`);throw n}var Ql=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||H.comparator(t.key,r.key):(t,r)=>H.comparator(t.key,r.key),this.keyedMap=$a(),this.sortedSet=new Pe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Xl=class{constructor(){this.fa=new Pe(H.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):K(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},ro=class n{constructor(e,t,r,i,s,o,c,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(c=>{o.push({type:0,doc:c})}),new n(e,t,Ql.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Fm=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},Lm=class{constructor(){this.queries=II(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=Q(t),s=i.queries;i.queries=II(),s.forEach((o,c)=>{for(let u of c.wa)u.onError(r)})})(this,new B(N.ABORTED,"Firestore shutting down"))}};function II(){return new ir(n=>dT(n),hd)}function $T(n,e){return v(this,null,function*(){let t=Q(n),r=3,i=e.query,s=t.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new Fm,r=e.ba()?0:1);try{switch(r){case 0:s.ya=yield t.onListen(i,!0);break;case 1:s.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let c=gy(o,`Initialization of query '${Us(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,s),s.wa.push(e),e.va(t.onlineState),s.ya&&e.Ca(s.ya)&&my(t)})}function BT(n,e){return v(this,null,function*(){let t=Q(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.wa.indexOf(e);o>=0&&(s.wa.splice(o,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function OM(n,e){let t=Q(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let c of o.wa)c.Ca(i)&&(r=!0);o.ya=i}}r&&my(t)}function NM(n,e,t){let r=Q(n),i=r.queries.get(e);if(i)for(let s of i.wa)s.onError(t);r.queries.delete(e)}function my(n){n.Da.forEach(e=>{e.next()})}var Vm,TI;(TI=Vm||(Vm={})).Fa="default",TI.Cache="cache";var Jl=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ro(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Vm.Cache}};var Zl=class{constructor(e){this.key=e}},ed=class{constructor(e){this.key=e}},Um=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=oe(),this.mutatedKeys=oe(),this.Xa=hT(e),this.eu=new Ql(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Xl,i=t?t.eu:this.eu,s=t?t.mutatedKeys:this.mutatedKeys,o=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let m=i.get(f),_=fd(this.query,p)?p:null,D=!!m&&this.mutatedKeys.has(m.key),P=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),R=!1;m&&_?m.data.isEqual(_.data)?D!==P&&(r.track({type:3,doc:_}),R=!0):this.iu(m,_)||(r.track({type:2,doc:_}),R=!0,(u&&this.Xa(_,u)>0||l&&this.Xa(_,l)<0)&&(c=!0)):!m&&_?(r.track({type:0,doc:_}),R=!0):m&&!_&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(c=!0)),R&&(_?(o=o.add(_),s=P?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{eu:o,ru:r,Ds:c,mutatedKeys:s}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let o=e.ru.pa();o.sort((f,p)=>function(_,D){let P=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K(20277,{At:R})}};return P(_)-P(D)}(f.type,p.type)||this.Xa(f.doc,p.doc)),this.su(r),i=i!=null&&i;let c=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,o.length!==0||l?{snapshot:new ro(this.query,e.eu,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Xl,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=oe(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new ed(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Zl(r))}),t}uu(e){this.Ha=e.qs,this.Za=oe();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return ro.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},yy="SyncEngine",$m=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Bm=class{constructor(e){this.key=e,this.lu=!1}},jm=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new ir(c=>dT(c),hd),this.Tu=new Map,this.Iu=new Set,this.du=new Pe(H.comparator),this.Eu=new Map,this.Au=new ec,this.Ru={},this.Vu=new Map,this.mu=Za.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function kM(n,e,t=!0){return v(this,null,function*(){let r=GT(n),i,s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=yield jT(r,e,t,!0),i})}function xM(n,e){return v(this,null,function*(){let t=GT(n);yield jT(t,e,!0,!1)})}function jT(n,e,t,r){return v(this,null,function*(){let i=yield yM(n.localStore,Nn(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),c;return r&&(c=yield MM(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&xT(n.remoteStore,i),c})}function MM(n,e,t,r,i){return v(this,null,function*(){n.gu=(p,m,_)=>function(P,R,$,L){return v(this,null,function*(){let V=R.view.nu($);V.Ds&&(V=yield _I(P.localStore,R.query,!1).then(({documents:I})=>R.view.nu(I,V)));let Y=L&&L.targetChanges.get(R.targetId),we=L&&L.targetMismatches.get(R.targetId)!=null,J=R.view.applyChanges(V,P.isPrimaryClient,Y,we);return CI(P,R.targetId,J._u),J.snapshot})}(n,p,m,_);let s=yield _I(n.localStore,e,!0),o=new Um(e,s.qs),c=o.nu(s.documents),u=Xa.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=o.applyChanges(c,n.isPrimaryClient,u);CI(n,t,l._u);let f=new $m(e,t,o);return n.Pu.set(e,f),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function FM(n,e,t){return v(this,null,function*(){let r=Q(n),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(o=>!hd(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield wm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&dy(r.remoteStore,i.targetId),zm(r,i.targetId)}).catch(oo))):(zm(r,i.targetId),yield wm(r.localStore,i.targetId,!0))})}function LM(n,e){return v(this,null,function*(){let t=Q(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),dy(t.remoteStore,r.targetId))})}function VM(n,e,t){return v(this,null,function*(){let r=qM(n);try{let i=yield function(o,c){let u=Q(o),l=$e.now(),f=c.reduce((_,D)=>_.add(D.key),oe()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let D=sr(),P=oe();return u.Os.getEntries(_,f).next(R=>{D=R,D.forEach(($,L)=>{L.isValidDocument()||(P=P.add($))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,D)).next(R=>{p=R;let $=[];for(let L of c){let V=zx(L,p.get(L.key).overlayedDocument);V!=null&&$.push(new or(L.key,V,sT(V.value.mapValue),Fr.exists(!0)))}return u.mutationQueue.addMutationBatch(_,l,$,c)}).next(R=>{m=R;let $=R.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(_,R.batchId,$)})}).then(()=>({batchId:m.batchId,changes:pT(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let l=o.Ru[o.currentUser.toKey()];l||(l=new Pe(ne)),l=l.insert(c,u),o.Ru[o.currentUser.toKey()]=l}(r,i.batchId,t),yield ic(r,i.changes),yield md(r.remoteStore)}catch(i){let s=gy(i,"Failed to persist write");t.reject(s)}})}function zT(n,e){return v(this,null,function*(){let t=Q(n);try{let r=yield pM(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Eu.get(s);o&&(pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?pe(o.lu,14607):i.removedDocuments.size>0&&(pe(o.lu,42227),o.lu=!1))}),yield ic(t,r,e)}catch(r){yield oo(r)}})}function SI(n,e,t){let r=Q(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((s,o)=>{let c=o.view.va(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=Q(o);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let m of p.wa)m.va(c)&&(l=!0)}),l&&my(u)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function UM(n,e,t){return v(this,null,function*(){let r=Q(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),s=i&&i.key;if(s){let o=new Pe(H.comparator);o=o.insert(s,ln.newNoDocument(s,X.min()));let c=oe().add(s),u=new Ll(X.min(),new Map,new Pe(ne),o,c);yield zT(r,u),r.du=r.du.remove(s),r.Eu.delete(e),vy(r)}else yield wm(r.localStore,e,!1).then(()=>zm(r,e,t)).catch(oo)})}function $M(n,e){return v(this,null,function*(){let t=Q(n),r=e.batch.batchId;try{let i=yield fM(t.localStore,e);qT(t,r,null),HT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ic(t,i)}catch(i){yield oo(i)}})}function BM(n,e,t){return v(this,null,function*(){let r=Q(n);try{let i=yield function(o,c){let u=Q(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(pe(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);qT(r,e,t),HT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ic(r,i)}catch(i){yield oo(i)}})}function HT(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function qT(n,e,t){let r=Q(n),i=r.Ru[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function zm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||WT(n,r)})}function WT(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(dy(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),vy(n))}function CI(n,e,t){for(let r of t)r instanceof Zl?(n.Au.addReference(r.key,e),jM(n,r)):r instanceof ed?(U(yy,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||WT(n,r.key)):K(19791,{yu:r})}function jM(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(U(yy,"New document in limbo: "+t),n.Iu.add(r),vy(n))}function vy(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new H(Ae.fromString(e)),r=n.mu.next();n.Eu.set(r,new Bm(t)),n.du=n.du.insert(t,r),xT(n.remoteStore,new Ja(Nn(dd(t.path)),r,"TargetPurposeLimboResolution",ey.ue))}}function ic(n,e,t){return v(this,null,function*(){let r=Q(n),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((c,u)=>{o.push(r.gu(u,e,t).then(l=>{var f;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=t?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=vm.Es(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.hu.J_(i),yield function(u,l){return v(this,null,function*(){let f=Q(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.Is,_=>f.persistence.referenceDelegate.addReference(p,m.targetId,_)).next(()=>x.forEach(m.ds,_=>f.persistence.referenceDelegate.removeReference(p,m.targetId,_)))))}catch(p){if(!ao(p))throw p;U(ly,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let _=f.Fs.get(m),D=_.snapshotVersion,P=_.withLastLimboFreeSnapshotVersion(D);f.Fs=f.Fs.insert(m,P)}}})}(r.localStore,s))})}function zM(n,e){return v(this,null,function*(){let t=Q(n);if(!t.currentUser.isEqual(e)){U(yy,"User change. New user:",e.toKey());let r=yield NT(t.localStore,e);t.currentUser=e,function(s,o){s.Vu.forEach(c=>{c.forEach(u=>{u.reject(new B(N.CANCELLED,o))})}),s.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ic(t,r.Bs)}})}function HM(n,e){let t=Q(n),r=t.Eu.get(e);if(r&&r.lu)return oe().add(r.key);{let i=oe(),s=t.Tu.get(e);if(!s)return i;for(let o of s){let c=t.Pu.get(o);i=i.unionWith(c.view.tu)}return i}}function GT(n){let e=Q(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UM.bind(null,e),e.hu.J_=OM.bind(null,e.eventManager),e.hu.pu=NM.bind(null,e.eventManager),e}function qM(n){let e=Q(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$M.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BM.bind(null,e),e}var KT=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return v(this,null,function*(){this.serializer=pd(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return hM(this.persistence,new bm,t.initialUser,this.serializer)}Du(t){return new zl(ym.Vi,this.serializer)}bu(t){return new Im}terminate(){return v(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Hm=class extends KT{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){pe(this.persistence.referenceDelegate instanceof Hl,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new im(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?qt.withCacheSize(this.cacheSizeBytes):qt.DEFAULT;return new zl(r=>Hl.Vi(r,t),this.serializer)}};var WM=(()=>{class n{initialize(t,r){return v(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>SI(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=zM.bind(null,this.syncEngine),yield PM(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Lm}()}createDatastore(t){let r=pd(t.databaseInfo.databaseId),i=function(o){return new Dm(o)}(t.databaseInfo);return function(o,c,u,l){return new Nm(o,c,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,o,c,u){return new xm(i,s,o,c,u)}(this.localStore,this.datastore,t.asyncQueue,r=>SI(this.syncEngine,r,0),function(){return Wl.C()?new Wl:new Tm}())}createSyncEngine(t,r){return function(s,o,c,u,l,f,p){let m=new jm(s,o,c,u,l,f);return p&&(m.fu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var t,r;yield function(s){return v(this,null,function*(){let o=Q(s);U(Fi,"RemoteStore shutting down."),o.Ia.add(5),yield rc(o),o.Ea.shutdown(),o.Aa.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var td=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Hr="FirestoreClient",qm=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ke.UNAUTHENTICATED,this.clientId=qa.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>v(this,null,function*(){U(Hr,"Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(U(Hr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=gy(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function yg(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),U(Hr,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>v(null,null,function*(){r.isEqual(i)||(yield NT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Br("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{U("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Br("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function AI(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield GM(n);U(Hr,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>wI(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>wI(e.remoteStore,i)),n._onlineComponents=e})}function GM(n){return v(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){U(Hr,"Using user provided OfflineComponentProvider");try{yield yg(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Br("Error using user provided cache. Falling back to memory cache: "+t),yield yg(n,new KT)}}else U(Hr,"Using default OfflineComponentProvider"),yield yg(n,new Hm(void 0));return n._offlineComponents})}function YT(n){return v(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(U(Hr,"Using user provided OnlineComponentProvider"),yield AI(n,n._uninitializedComponentsProvider._online)):(U(Hr,"Using default OnlineComponentProvider"),yield AI(n,new WM))),n._onlineComponents})}function KM(n){return YT(n).then(e=>e.syncEngine)}function Wm(n){return v(this,null,function*(){let e=yield YT(n),t=e.eventManager;return t.onListen=kM.bind(null,e.syncEngine),t.onUnlisten=FM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=xM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=LM.bind(null,e.syncEngine),t})}function YM(n,e,t={}){let r=new Pn;return n.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return function(s,o,c,u,l){let f=new td({next:m=>{f.Ou(),o.enqueueAndForget(()=>BT(s,p));let _=m.docs.has(c);!_&&m.fromCache?l.reject(new B(N.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&u&&u.source==="server"?l.reject(new B(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Jl(dd(c.path),f,{includeMetadataChanges:!0,ka:!0});return $T(s,p)}(yield Wm(n),n.asyncQueue,e,t,r)})),r.promise}function QT(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var DI=new Map;var XT="firestore.googleapis.com",RI=!0,nd=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XT,this.ssl=RI}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:RI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uM)throw new B(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ox("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new B(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new B(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new B(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},io=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nd(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new vg;switch(r.type){case"firstParty":return new wg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=DI.get(t);r&&(U("ComponentProvider","Removing Datastore"),DI.delete(t),r.terminate())}(this),Promise.resolve()}};function JT(n,e,t,r={}){var i;n=er(n,io);let s=Cr(e),o=n._getSettings(),c=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;s&&(Gu(`https://${u}`),Ku("Firestore",!0)),o.host!==XT&&o.host!==u&&Br("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},o),{host:u,ssl:s,emulatorOptions:r});if(!Tn(l,c)&&(n._setSettings(l),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=Ke.MOCK_USER;else{f=rw(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new B(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ke(m)}n._authCredentials=new _g(new Rl(f,p))}}var rd=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},nt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(nc(t,n._jsonSchema))return new n(e,r||null,new H(Ae.fromString(t.referencePath)))}};nt._jsonSchemaVersion="firestore/documentReference/1.0",nt._jsonSchema={type:Ue("string",nt._jsonSchemaVersion),referencePath:Ue("string")};var Lr=class n extends rd{constructor(e,t,r){super(e,t,dd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new nt(this.firestore,null,new H(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function ZT(n,e,...t){if(n=qe(n),MI("collection","path",e),n instanceof io){let r=Ae.fromString(e,...t);return K0(r),new Lr(n,null,r)}{if(!(n instanceof nt||n instanceof Lr))throw new B(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ae.fromString(e,...t));return K0(r),new Lr(n.firestore,null,r)}}function eS(n,e,...t){if(n=qe(n),arguments.length===1&&(e=qa.newId()),MI("doc","path",e),n instanceof io){let r=Ae.fromString(e,...t);return G0(r),new nt(n,null,new H(r))}{if(!(n instanceof nt||n instanceof Lr))throw new B(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ae.fromString(e,...t));return G0(r),new nt(n.firestore,n instanceof Lr?n.converter:null,new H(r))}}var PI="AsyncQueue",id=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Gl(this,"async_queue_retry"),this.oc=()=>{let r=mg();r&&U(PI,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=mg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=mg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Pn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return v(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ao(e))throw e;U(PI,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,tr("INTERNAL UNHANDLED ERROR: ",OI(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=Mm.createAndSchedule(this,e,t,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&K(47125,{hc:OI(this.tc)})}verifyOperationInProgress(){}Pc(){return v(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function OI(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function NI(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}var qr=class extends io{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new id,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new id(e),this._firestoreClient=void 0,yield e}})}};function tS(n,e){let t=typeof n=="object"?n:bi(),r=typeof n=="string"?n:e||xl,i=Ns(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=nw("firestore");s&&JT(i,...s)}return i}function _y(n){if(n._terminated)throw new B(N.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||QM(n),n._firestoreClient}function QM(n){var e,t,r;let i=n._freezeSettings(),s=function(c,u,l,f){return new Ag(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,QT(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new qm(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(n._componentsProvider))}var Vr=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(dt.fromBase64String(e))}catch(t){throw new B(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nc(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Vr._jsonSchemaVersion="firestore/bytes/1.0",Vr._jsonSchema={type:Ue("string",Vr._jsonSchemaVersion),bytes:Ue("string")};var tc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new B(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var sd=class{constructor(e){this._methodName=e}};var Ur=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new B(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new B(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(nc(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Ur._jsonSchemaVersion="firestore/geoPoint/1.0",Ur._jsonSchema={type:Ue("string",Ur._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};var $r=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nc(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new B(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};$r._jsonSchemaVersion="firestore/vectorValue/1.0",$r._jsonSchema={type:Ue("string",$r._jsonSchemaVersion),vectorValues:Ue("object")};var XM=/^__.*__$/,Gm=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new or(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mi(e,this.data,t,this.fieldTransforms)}};function nS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K(40011,{Ec:n})}}var Km=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return od(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(nS(this.Ec)&&XM.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},Ym=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||pd(e)}Dc(e,t,r,i=!1){return new Km({Ec:e,methodName:t,bc:r,path:Ut.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function JM(n){let e=n._freezeSettings(),t=pd(n._databaseId);return new Ym(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ZM(n,e,t,r,i,s={}){let o=n.Dc(s.merge||s.mergeFields?2:0,e,t,i);oS("Data must be an object, but it was:",o,r);let c=iS(r,o),u,l;if(s.merge)u=new Rn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let p of s.mergeFields){let m=eF(e,p,t);if(!o.contains(m))throw new B(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);nF(f,m)||f.push(m)}u=new Rn(f),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new Gm(new un(c),u,l)}function rS(n,e){if(sS(n=qe(n)))return oS("Unsupported field value:",e,n),iS(n,e);if(n instanceof sd)return function(r,i){if(!nS(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let u=rS(c,i.yc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Vx(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=$e.fromDate(r);return{timestampValue:Bl(i.serializer,s)}}if(r instanceof $e){let s=new $e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bl(i.serializer,s)}}if(r instanceof Ur)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vr)return{bytesValue:TT(i.serializer,r._byteString)};if(r instanceof nt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:uy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $r)return function(o,c){return{mapValue:{fields:{[ry]:{stringValue:iy},[Gs]:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw c.wc("VectorValues must only contain numeric values.");return cy(c.serializer,l)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Zm(r)}`)}(n,e)}function iS(n,e){let t={};return XI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Li(n,(r,i)=>{let s=rS(i,e.Vc(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function sS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof $e||n instanceof Ur||n instanceof Vr||n instanceof nt||n instanceof sd||n instanceof $r)}function oS(n,e,t){if(!sS(t)||!FI(t)){let r=Zm(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function eF(n,e,t){if((e=qe(e))instanceof tc)return e._internalPath;if(typeof e=="string")return aS(n,e);throw od("Field path arguments must be of type string or ",n,!1,void 0,t)}var tF=new RegExp("[~\\*/\\[\\]]");function aS(n,e,t){if(e.search(tF)>=0)throw od(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new tc(...e.split("."))._internalPath}catch{throw od(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function od(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new B(N.INVALID_ARGUMENT,c+n+u)}function nF(n,e){return n.some(t=>t.isEqual(e))}var ad=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Qm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(cS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Qm=class extends ad{data(){return super.data()}};function cS(n,e){return typeof e=="string"?aS(n,e):e instanceof tc?e._internalPath:e._delegate._internalPath}function rF(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new B(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Xm=class{convertValue(e,t="none"){switch(jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw K(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Li(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Gs].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ce(o.doubleValue));return new $r(s)}convertGeoPoint(e){return new Ur(Ce(e.latitude),Ce(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=ld(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ka(e));default:return null}}convertTimestamp(e){let t=nr(e);return new $e(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ae.fromString(e);pe(PT(r),9688,{name:e});let i=new Ml(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(t)||tr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function iF(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ri=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Pi=class n extends ad{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Hs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(cS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new B(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Pi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pi._jsonSchema={type:Ue("string",Pi._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};var Hs=class extends Pi{data(e={}){return super.data(e)}},qs=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ri(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Hs(this._firestore,this._userDataWriter,r.key,r,new Ri(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new B(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let u=new Hs(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ri(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let u=new Hs(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ri(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:sF(c.type),doc:u,oldIndex:l,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new B(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qa.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function sF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K(61501,{type:n})}}function uS(n){n=er(n,nt);let e=er(n.firestore,qr);return YM(_y(e),n._key).then(t=>fS(e,n,t))}qs._jsonSchemaVersion="firestore/querySnapshot/1.0",qs._jsonSchema={type:Ue("string",qs._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};var cd=class extends Xm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vr(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new nt(this.firestore,null,t)}};function lS(n,e,t){n=er(n,nt);let r=er(n.firestore,qr),i=iF(n.converter,e,t);return hS(r,[ZM(JM(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Fr.none())])}function dS(n){return hS(er(n.firestore,qr),[new Qa(n._key,Fr.none())])}function by(n,...e){var t,r,i;n=qe(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||NI(e[o])||(s=e[o++]);let c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(NI(e[o])){let p=e[o];e[o]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,f;if(n instanceof nt)l=er(n.firestore,qr),f=dd(n._key.path),u={next:p=>{e[o]&&e[o](fS(l,n,p))},error:e[o+1],complete:e[o+2]};else{let p=er(n,rd);l=er(p.firestore,qr),f=p._query;let m=new cd(l);u={next:_=>{e[o]&&e[o](new qs(l,m,p,_))},error:e[o+1],complete:e[o+2]},rF(n._query)}return function(m,_,D,P){let R=new td(P),$=new Jl(_,R,D);return m.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return $T(yield Wm(m),$)})),()=>{R.Ou(),m.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return BT(yield Wm(m),$)}))}}(_y(l),f,c,u)}function hS(n,e){return function(r,i){let s=new Pn;return r.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return VM(yield KM(r),i,s)})),s.promise}(_y(n),e)}function fS(n,e,t){let r=t.docs.get(e._key),i=new cd(n);return new Pi(n,i,e._key,r,new Ri(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){so=i})(Dr),an(new gt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new qr(new bg(r.getProvider("auth-internal")),new Ig(o,r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new B(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Re(z0,H0,e),Re(z0,H0,"esm2017")})();var yd=function(){return yd=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},yd.apply(this,arguments)};var cF={includeMetadataChanges:!1};function pS(n,e){return e===void 0&&(e=cF),new $t(function(t){var r=by(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function gS(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:yd(yd({},r),(t={},t[e.idField]=n.id,t))}function mS(n){return pS(n,{includeMetadataChanges:!0}).pipe(ie(function(e){return e.docs}))}function yS(n,e){return e===void 0&&(e={}),mS(n).pipe(ie(function(t){return t.map(function(r){return gS(r,e)})}))}var Ui=class{constructor(e){return e}},vS="firestore",Ey=class{constructor(){return xs(vS)}};var wy=new q("angularfire2.firestore-instances");function uF(n,e){let t=Sa(vS,n,e);return t&&new Ui(t)}function lF(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ui(r)}}var dF={provide:Ey,deps:[[new At,wy]]},hF={provide:Ui,useFactory:uF,deps:[[new At,wy],Wn]};function mz(n,...e){return Re("angularfire",Rr.full,"fst"),Dt([hF,dF,{provide:wy,useFactory:lF(n),multi:!0,deps:[Ie,Je,Pr,wi,[new At,Va],[new At,Ms],...e]}])}var yz=Fe(yS,!0);var vz=Fe(ZT,!0,2);var _z=Fe(dS,!0,2);var bz=Fe(eS,!0,2);var Ez=Fe(uS,!0);var wz=Fe(tS,!0);var Iz=Fe(lS,!0,2);var _S=class n{constructor(e,t){this.afAuth=e;this.firestore=t;og(this.afAuth,r=>v(this,null,function*(){if(r){yield r.reload();let i=yield this.afAuth.currentUser;i?.emailVerified?this.userSubject.next({uid:i.uid,email:i.email}):this.userSubject.next(null)}else this.userSubject.next(null)}))}userSubject=new xe(null);user$=this.userSubject.asObservable();register(e,t){return L0(this.afAuth,e,t).then(r=>{if(r.user)return ag(r.user),r;throw new Error("Usuario no creado correctamente")})}resetPassword(e){return V0(this.afAuth,e)}login(e,t){return U0(this.afAuth,e,t).then(r=>v(this,null,function*(){return r.user&&(yield r.user.reload(),r.user.emailVerified?this.userSubject.next({uid:r.user.uid,email:r.user.email}):this.userSubject.next(null)),r}))}logout(){return $0(this.afAuth)}getCurrentUser(){return new Promise(e=>{og(this.afAuth,t=>v(this,null,function*(){t?(yield t.reload(),e(this.afAuth.currentUser)):e(null)}))})}updateUserState(e){this.userSubject.next({uid:e.uid,email:e.email})}resendVerificationEmail(){return this.getCurrentUser().then(e=>e?ag(e):Promise.reject("No hay usuario autenticado."))}static \u0275fac=function(t){return new(t||n)(W(Ci),W(Ui))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};export{ge as a,yh as b,l_ as c,vh as d,_h as e,bh as f,JS as g,Ot as h,Bo as i,Rh as j,pC as k,P_ as l,OC as m,jC as n,zC as o,F_ as p,qC as q,Lt as r,Nu as s,In as t,Nf as u,xf as v,sn as w,zu as x,f1 as y,g1 as z,m1 as A,jE as B,y1 as C,gb as D,mr as E,X2 as F,ui as G,J2 as H,Jh as I,DA as J,RA as K,Z2 as L,PA as M,Zh as N,eU as O,tU as P,nU as Q,OA as R,hs as S,rU as T,iU as U,yb as V,sU as W,nf as X,oU as Y,aU as Z,rf as _,cu as $,cU as aa,uU as ba,sf as ca,lU as da,dU as ea,hU as fa,fU as ga,pU as ha,gU as ia,bb as ja,et as ka,UA as la,be as ma,uu as na,af as oa,_U as pa,bU as qa,zt as ra,EU as sa,wU as ta,ea as ua,tt as va,u$ as wa,l$ as xa,d$ as ya,h$ as za,f$ as Aa,p$ as Ba,Mb as Ca,Ht as Da,g$ as Ea,QA as Fa,HU as Ga,qU as Ha,Me as Ia,lf as Ja,T$ as Ka,ze as La,jh as Ma,G_ as Na,L_ as Oa,ci as Pa,j2 as Qa,z2 as Ra,Qh as Sa,q2 as Ta,IA as Ua,SA as Va,W2 as Wa,G2 as Xa,K2 as Ya,K$ as Za,Y$ as _a,df as $a,$b as ab,Bb as bb,gB as cb,hf as db,zb as eb,ys as fb,BB as gb,Hb as hb,GB as ib,Ub as jb,sB as kb,g4 as lb,ND as mb,m4 as nb,FD as ob,R4 as pb,UD as qb,z4 as rb,YE as sb,Jj as tb,Zj as ub,e6 as vb,XE as wb,ow as xb,Ea as yb,lw as zb,c6 as Ab,Vt as Bb,on as Cb,Tn as Db,$1 as Eb,qe as Fb,gt as Gb,Sn as Hb,_w as Ib,an as Jb,Ns as Kb,bi as Lb,Re as Mb,Rr as Nb,Sa as Ob,xs as Pb,Pr as Qb,Fe as Rb,Wn as Sb,wi as Tb,s3 as Ub,o3 as Vb,Ci as Wb,R9 as Xb,P9 as Yb,O9 as Zb,Ui as _b,mz as $b,yz as ac,vz as bc,_z as cc,bz as dc,Ez as ec,wz as fc,Iz as gc,_S as hc};
